<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 36 地図 Choropleth Maps | みんなのデータサイエンス - Data Science for All -</title>
<meta name="author" content="鈴木寛（Hiroshi Suzuki）">
<meta name="description" content="この章では、ggplot2 を使って、情報付きの地図を生成する方法を学ぶ。 最も基本的な data.frame を用い geom_map または geom_polygon で地図を書くことも可能だが、最近は、simple feature (sf) 形式のデータを使って ggplot2 の geom_sf を用いて地図を描くことで、複雑なものを扱えるようになってきている。...">
<meta name="generator" content="bookdown 0.35 with bs4_book()">
<meta property="og:title" content="Chapter 36 地図 Choropleth Maps | みんなのデータサイエンス - Data Science for All -">
<meta property="og:type" content="book">
<meta property="og:url" content="https://icu-hsuzuki.github.io/ds4aj/worldmap.html">
<meta property="og:description" content="この章では、ggplot2 を使って、情報付きの地図を生成する方法を学ぶ。 最も基本的な data.frame を用い geom_map または geom_polygon で地図を書くことも可能だが、最近は、simple feature (sf) 形式のデータを使って ggplot2 の geom_sf を用いて地図を描くことで、複雑なものを扱えるようになってきている。...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 36 地図 Choropleth Maps | みんなのデータサイエンス - Data Science for All -">
<meta name="twitter:description" content="この章では、ggplot2 を使って、情報付きの地図を生成する方法を学ぶ。 最も基本的な data.frame を用い geom_map または geom_polygon で地図を書くことも可能だが、最近は、simple feature (sf) 形式のデータを使って ggplot2 の geom_sf を用いて地図を描くことで、複雑なものを扱えるようになってきている。...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.1/transition.js"></script><script src="libs/bs3compat-0.5.1/tabs.js"></script><script src="libs/bs3compat-0.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.29/datatables.js"></script><link href="libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">みんなのデータサイエンス<br>
- Data Science for All -</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">みんなのデータサイエンス</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> はじめに</a></li>
<li><a class="" href="what2learn.html"><span class="header-section-number">2</span> 学ぶ内容　</a></li>
<li><a class="" href="first-example.html"><span class="header-section-number">3</span> はじめてのデータサイエンス</a></li>
<li><a class="" href="wdi-site.html"><span class="header-section-number">4</span> 世界開発指標とオープンデータ</a></li>
<li><a class="" href="notebook.html"><span class="header-section-number">5</span> データサイエンス ノートブック</a></li>
<li class="book-part">第一部 オープンデータ</li>
<li><a class="" href="publicdata-site.html"><span class="header-section-number">6</span> オープンデータ</a></li>
<li><a class="" href="worldbank-site.html"><span class="header-section-number">7</span> 世界銀行（World Bank）</a></li>
<li><a class="" href="oecd-site.html"><span class="header-section-number">8</span> OECD（経済協力開発機構）</a></li>
<li><a class="" href="un-site.html"><span class="header-section-number">9</span> United Nations（国際連合）</a></li>
<li><a class="" href="owid-site.html"><span class="header-section-number">10</span> Our World in Data</a></li>
<li><a class="" href="estat-site.html"><span class="header-section-number">11</span> e-Stat 日本の政府統計</a></li>
<li><a class="" href="sdgs-site.html"><span class="header-section-number">12</span> SDGs</a></li>
<li><a class="" href="other-site.html"><span class="header-section-number">13</span> その他のサイト</a></li>
<li class="book-part">第二部 R の基礎</li>
<li><a class="" href="ronrstudio.html"><span class="header-section-number">14</span> R Studio で R</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">15</span> R Markdown</a></li>
<li><a class="" href="rbasics.html"><span class="header-section-number">16</span> base R</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">17</span> Tidyverse</a></li>
<li><a class="" href="transform.html"><span class="header-section-number">18</span> 変形（Transform）</a></li>
<li><a class="" href="visualize.html"><span class="header-section-number">19</span> 視覚化（Visualize）</a></li>
<li><a class="" href="import.html"><span class="header-section-number">20</span> データ読み込み（Import）</a></li>
<li><a class="" href="modeling.html"><span class="header-section-number">21</span> 数理モデル（Modeling）</a></li>
<li><a class="" href="communicate.html"><span class="header-section-number">22</span> 情報共有（Communicate）</a></li>
<li><a class="" href="aboutfirstexample.html"><span class="header-section-number">23</span> 復習</a></li>
<li class="book-part">第三部 オープンデータの活用</li>
<li><a class="" href="publicdata.html"><span class="header-section-number">24</span> オープンデータの分析</a></li>
<li><a class="" href="worldbank.html"><span class="header-section-number">25</span> 世界銀行（World Bank）</a></li>
<li><a class="" href="oecd.html"><span class="header-section-number">26</span> OECD（経済協力開発機構）</a></li>
<li><a class="" href="un.html"><span class="header-section-number">27</span> UN Data（国際連合データ）</a></li>
<li><a class="" href="owid.html"><span class="header-section-number">28</span> Our World in Data</a></li>
<li><a class="" href="wid.html"><span class="header-section-number">29</span> 世界不平等データベース</a></li>
<li><a class="" href="executive-summary.html"><span class="header-section-number">30</span> Executive Summary</a></li>
<li><a class="" href="estat.html"><span class="header-section-number">31</span> e-Stat</a></li>
<li><a class="" href="others.html"><span class="header-section-number">32</span> その他のデータベース</a></li>
<li class="book-part">PART IV EDA</li>
<li><a class="" href="intro2eda.html"><span class="header-section-number">33</span> 探索的データ解析</a></li>
<li><a class="" href="visualize2.html"><span class="header-section-number">34</span> 視覚化の詳細　</a></li>
<li><a class="" href="toolbox.html"><span class="header-section-number">35</span> 道具箱</a></li>
<li><a class="active" href="worldmap.html"><span class="header-section-number">36</span> 地図 Choropleth Maps</a></li>
<li class="book-part">PART V EXAMPLES</li>
<li><a class="" href="example1.html"><span class="header-section-number">37</span> Example 1</a></li>
<li><a class="" href="references.html"><span class="header-section-number">38</span> 参考文献</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="japanese.html"><span class="header-section-number">A</span> 日本語の扱いについて</a></li>
<li><a class="" href="tools.html"><span class="header-section-number">B</span> IT ツール</a></li>
<li><a class="" href="bookdown-original.html"><span class="header-section-number">C</span> Bookdown</a></li>
<li><a class="" href="todo-list.html"><span class="header-section-number">D</span> To Do リスト</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/icu-hsuzuki/ds4aj">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="worldmap" class="section level1" number="36">
<h1>
<span class="header-section-number">36</span> 地図 Choropleth Maps<a class="anchor" aria-label="anchor" href="#worldmap"><i class="fas fa-link"></i></a>
</h1>
<p>この章では、<code>ggplot2</code> を使って、情報付きの地図を生成する方法を学ぶ。</p>
<p>最も基本的な <code>data.frame</code> を用い <code>geom_map</code> または <code>geom_polygon</code> で地図を書くことも可能だが、最近は、<code>simple feature (sf)</code> 形式のデータを使って <code>ggplot2</code> の <code>geom_sf</code> を用いて地図を描くことで、複雑なものを扱えるようになってきている。</p>
<p>本書のテーマからも、ある情報を加えた地図は有効だと思われるので、紹介を試みる。</p>
<div id="準備" class="section level2" number="36.1">
<h2>
<span class="header-section-number">36.1</span> 準備<a class="anchor" aria-label="anchor" href="#%E6%BA%96%E5%82%99"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb685"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching core tidyverse packages ──── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; ✔ dplyr     1.1.3     ✔ readr     2.1.4</span></span>
<span><span class="co">#&gt; ✔ forcats   1.0.0     ✔ stringr   1.5.0</span></span>
<span><span class="co">#&gt; ✔ ggplot2   3.4.3     ✔ tibble    3.2.1</span></span>
<span><span class="co">#&gt; ✔ lubridate 1.9.2     ✔ tidyr     1.3.0</span></span>
<span><span class="co">#&gt; ✔ purrr     1.0.2     </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2()</span></span>
<span><span class="co">#&gt; is TRUE</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/yixuan/showtext">showtext</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: sysfonts</span></span>
<span><span class="co">#&gt; Loading required package: showtextdb</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/showtext/man/showtext_auto.html">showtext_auto</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>WDI パッケージの、WDIcache() に含まれる、収入の多寡を表す <code>income</code> レベルと iso2c コードをまず用いる。</p>
<div class="sourceCode" id="cb686"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_rds.html">read_rds</a></span><span class="op">(</span><span class="st">"./data/wdi_cache.RData"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb687"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 299</span></span>
<span><span class="co">#&gt; Columns: 9</span></span>
<span><span class="co">#&gt; $ iso3c     &lt;chr&gt; "ABW", "AFE", "AFG", "AFR", "AFW", "AGO"…</span></span>
<span><span class="co">#&gt; $ iso2c     &lt;chr&gt; "AW", "ZH", "AF", "A9", "ZI", "AO", "AL"…</span></span>
<span><span class="co">#&gt; $ country   &lt;chr&gt; "Aruba", "Africa Eastern and Southern", …</span></span>
<span><span class="co">#&gt; $ region    &lt;chr&gt; "Latin America &amp; Caribbean", "Aggregates…</span></span>
<span><span class="co">#&gt; $ capital   &lt;chr&gt; "Oranjestad", "", "Kabul", "", "", "Luan…</span></span>
<span><span class="co">#&gt; $ longitude &lt;chr&gt; "-70.0167", "", "69.1761", "", "", "13.2…</span></span>
<span><span class="co">#&gt; $ latitude  &lt;chr&gt; "12.5167", "", "34.5228", "", "", "-8.81…</span></span>
<span><span class="co">#&gt; $ income    &lt;chr&gt; "High income", "Aggregates", "Low income…</span></span>
<span><span class="co">#&gt; $ lending   &lt;chr&gt; "Not classified", "Aggregates", "IDA", "…</span></span></code></pre></div>
<div class="sourceCode" id="cb688"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_income</span> <span class="op">&lt;-</span> <span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iso2c</span>, <span class="va">income</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">iso2c</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>income <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">income</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High income"</span>, <span class="st">"Upper middle income"</span>, <span class="st">"Lower middle income"</span>, <span class="st">"Low income"</span>, <span class="st">"Not classified"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">wdi_income</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 218</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ iso2c  &lt;chr&gt; "AW", "AF", "AO", "AL", "AD", "AE", "AR", "…</span></span>
<span><span class="co">#&gt; $ income &lt;fct&gt; High income, Low income, Lower middle incom…</span></span></code></pre></div>
<div id="geom_sf" class="section level3" number="36.1.1">
<h3>
<span class="header-section-number">36.1.1</span> <code>geom_sf</code><a class="anchor" aria-label="anchor" href="#geom_sf"><i class="fas fa-link"></i></a>
</h3>
<p>See also, <code>coord_sf</code>, <code>geom_sf_label</code>, <code>geom_sf_text</code>, <code>stat_sf</code>.</p>
<blockquote>
<p>This set of geom, stat, and coord are used to visualise simple feature (sf) objects. For simple plots, you will only need geom_sf() as it uses stat_sf() and adds coord_sf() for you. geom_sf() is an unusual geom because it will draw different geometric objects depending on what simple features are present in the data: you can get points, lines, or polygons. For text and labels, you can use geom_sf_text() and geom_sf_label().</p>
<p>この geom、stat、および coord のセットは、Simple Feature (sf) 形式のデータを視覚化するために使用されます。単純なプロットでは、stat_sf() を使用し、coord_sf() を追加するので、geom_sf() だけが必要です。geom_sf() は、データにどのような単純な特徴が存在するかによって異なる幾何オブジェクトを描画するので、珍しい geom です。テキストとラベルについては、geom_sf_text() と geom_sf_label() が使用可能です。</p>
</blockquote>
<pre><code>geom_sf(
  mapping = aes(),
  data = NULL,
  stat = "sf",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)</code></pre>
</div>
</div>
<div id="natural-earth-data" class="section level2" number="36.2">
<h2>
<span class="header-section-number">36.2</span> Natural Earth Data<a class="anchor" aria-label="anchor" href="#natural-earth-data"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://www.naturalearthdata.com" class="uri">https://www.naturalearthdata.com</a></p>
<p>このサイトで、データを提供しています。</p>
<p>Manual: <a href="https://cran.r-project.org/web/packages/rnaturalearth/rnaturalearth.pdf" class="uri">https://cran.r-project.org/web/packages/rnaturalearth/rnaturalearth.pdf</a></p>
<div id="ne_countries" class="section level3" number="36.2.1">
<h3>
<span class="header-section-number">36.2.1</span> <code>ne_countries</code><a class="anchor" aria-label="anchor" href="#ne_countries"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb690"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rnaturalearth/">rnaturalearth</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; The legacy packages maptools, rgdal, and rgeos, underpinning the sp package,</span></span>
<span><span class="co">#&gt; which was just loaded, will retire in October 2023.</span></span>
<span><span class="co">#&gt; Please refer to R-spatial evolution reports for details, especially</span></span>
<span><span class="co">#&gt; https://r-spatial.org/r/2023/05/15/evolution4.html.</span></span>
<span><span class="co">#&gt; It may be desirable to make the sf package available;</span></span>
<span><span class="co">#&gt; package maintainers should consider adding sf to Suggests:.</span></span>
<span><span class="co">#&gt; The sp package is now running under evolution status 2</span></span>
<span><span class="co">#&gt;      (status 2 uses the sf package in place of rgdal)</span></span>
<span><span class="co">#&gt; Support for Spatial objects (`sp`) will be deprecated in {rnaturalearth} and will be removed in a future release of the package. Please use `sf` objects with {rnaturalearth}. For example: `ne_download(returnclass = 'sf')`</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ropenscilabs/rnaturalearthdata">rnaturalearthdata</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'rnaturalearthdata'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:rnaturalearth':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     countries110</span></span></code></pre></div>
<pre><code>ne_countries(
  scale = 110,
  type = "countries",
  continent = NULL,
  country = NULL,
  geounit = NULL,
  sovereignty = NULL,
  returnclass = c("sp", "sf")
)</code></pre>
<div id="arguments" class="section level4" number="36.2.1.1">
<h4>
<span class="header-section-number">36.2.1.1</span> Arguments<a class="anchor" aria-label="anchor" href="#arguments"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>scale: scale of map to return, one of 110, 50, 10 or ‘small’, ‘medium’, ‘large’</li>
<li>type: country type, one of ‘countries’, ‘map_units’, ‘sovereignty’, ‘tiny_countries’</li>
<li>continent: a character vector of continent names to get countries from.</li>
<li>country: a character vector of country names.</li>
<li>geounit: a character vector of geounit names.</li>
<li>sovereignty: a character vector of sovereignty names.</li>
<li>returnclass: ‘sp’ default or ‘sf’ for Simple Features</li>
</ul>
</div>
<div id="例-2" class="section level4" number="36.2.1.2">
<h4>
<span class="header-section-number">36.2.1.2</span> 例<a class="anchor" aria-label="anchor" href="#%E4%BE%8B-2"><i class="fas fa-link"></i></a>
</h4>
<p>There are three scales. Add <code>returnclass = "sf"</code> as an option to obtain data in <code>sf</code> format.</p>
<div class="sourceCode" id="cb692"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_countries.html">ne_countries</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="st">"large"</span>, returnclass <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<div class="sourceCode" id="cb693"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_countries.html">ne_countries</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="st">"small"</span>, returnclass <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p>We will use <code>medium</code> scale data in the following.</p>
<div class="sourceCode" id="cb694"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_countries.html">ne_countries</a></span><span class="op">(</span>scale <span class="op">=</span> <span class="st">"medium"</span>, returnclass <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">ne_world</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 241</span></span>
<span><span class="co">#&gt; Columns: 64</span></span>
<span><span class="co">#&gt; $ scalerank  &lt;int&gt; 3, 1, 1, 1, 1, 3, 3, 1, 1, 1, 3, 1, 5, …</span></span>
<span><span class="co">#&gt; $ featurecla &lt;chr&gt; "Admin-0 country", "Admin-0 country", "…</span></span>
<span><span class="co">#&gt; $ labelrank  &lt;dbl&gt; 5, 3, 3, 6, 6, 6, 6, 4, 2, 6, 4, 4, 5, …</span></span>
<span><span class="co">#&gt; $ sovereignt &lt;chr&gt; "Netherlands", "Afghanistan", "Angola",…</span></span>
<span><span class="co">#&gt; $ sov_a3     &lt;chr&gt; "NL1", "AFG", "AGO", "GB1", "ALB", "FI1…</span></span>
<span><span class="co">#&gt; $ adm0_dif   &lt;dbl&gt; 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, …</span></span>
<span><span class="co">#&gt; $ level      &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span></span>
<span><span class="co">#&gt; $ type       &lt;chr&gt; "Country", "Sovereign country", "Sovere…</span></span>
<span><span class="co">#&gt; $ admin      &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ adm0_a3    &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALD…</span></span>
<span><span class="co">#&gt; $ geou_dif   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ geounit    &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ gu_a3      &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALD…</span></span>
<span><span class="co">#&gt; $ su_dif     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ subunit    &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ su_a3      &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALD…</span></span>
<span><span class="co">#&gt; $ brk_diff   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ name       &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ name_long  &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ brk_a3     &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALD…</span></span>
<span><span class="co">#&gt; $ brk_name   &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ brk_group  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ abbrev     &lt;chr&gt; "Aruba", "Afg.", "Ang.", "Ang.", "Alb."…</span></span>
<span><span class="co">#&gt; $ postal     &lt;chr&gt; "AW", "AF", "AO", "AI", "AL", "AI", "AN…</span></span>
<span><span class="co">#&gt; $ formal_en  &lt;chr&gt; "Aruba", "Islamic State of Afghanistan"…</span></span>
<span><span class="co">#&gt; $ formal_fr  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ note_adm0  &lt;chr&gt; "Neth.", NA, NA, "U.K.", NA, "Fin.", NA…</span></span>
<span><span class="co">#&gt; $ note_brk   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ name_sort  &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Angu…</span></span>
<span><span class="co">#&gt; $ name_alt   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ mapcolor7  &lt;dbl&gt; 4, 5, 3, 6, 1, 4, 1, 2, 3, 3, 4, 4, 1, …</span></span>
<span><span class="co">#&gt; $ mapcolor8  &lt;dbl&gt; 2, 6, 2, 6, 4, 1, 4, 1, 1, 1, 5, 5, 2, …</span></span>
<span><span class="co">#&gt; $ mapcolor9  &lt;dbl&gt; 2, 8, 6, 6, 1, 4, 1, 3, 3, 2, 1, 1, 2, …</span></span>
<span><span class="co">#&gt; $ mapcolor13 &lt;dbl&gt; 9, 7, 1, 3, 6, 6, 8, 3, 13, 10, 1, NA, …</span></span>
<span><span class="co">#&gt; $ pop_est    &lt;dbl&gt; 103065, 28400000, 12799293, 14436, 3639…</span></span>
<span><span class="co">#&gt; $ gdp_md_est &lt;dbl&gt; 2258.0, 22270.0, 110300.0, 108.9, 21810…</span></span>
<span><span class="co">#&gt; $ pop_year   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ lastcensus &lt;dbl&gt; 2010, 1979, 1970, NA, 2001, NA, 1989, 2…</span></span>
<span><span class="co">#&gt; $ gdp_year   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ economy    &lt;chr&gt; "6. Developing region", "7. Least devel…</span></span>
<span><span class="co">#&gt; $ income_grp &lt;chr&gt; "2. High income: nonOECD", "5. Low inco…</span></span>
<span><span class="co">#&gt; $ wikipedia  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ fips_10    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ iso_a2     &lt;chr&gt; "AW", "AF", "AO", "AI", "AL", "AX", "AD…</span></span>
<span><span class="co">#&gt; $ iso_a3     &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALA…</span></span>
<span><span class="co">#&gt; $ iso_n3     &lt;chr&gt; "533", "004", "024", "660", "008", "248…</span></span>
<span><span class="co">#&gt; $ un_a3      &lt;chr&gt; "533", "004", "024", "660", "008", "248…</span></span>
<span><span class="co">#&gt; $ wb_a2      &lt;chr&gt; "AW", "AF", "AO", NA, "AL", NA, "AD", "…</span></span>
<span><span class="co">#&gt; $ wb_a3      &lt;chr&gt; "ABW", "AFG", "AGO", NA, "ALB", NA, "AD…</span></span>
<span><span class="co">#&gt; $ woe_id     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ adm0_a3_is &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALA…</span></span>
<span><span class="co">#&gt; $ adm0_a3_us &lt;chr&gt; "ABW", "AFG", "AGO", "AIA", "ALB", "ALD…</span></span>
<span><span class="co">#&gt; $ adm0_a3_un &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ adm0_a3_wb &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ continent  &lt;chr&gt; "North America", "Asia", "Africa", "Nor…</span></span>
<span><span class="co">#&gt; $ region_un  &lt;chr&gt; "Americas", "Asia", "Africa", "Americas…</span></span>
<span><span class="co">#&gt; $ subregion  &lt;chr&gt; "Caribbean", "Southern Asia", "Middle A…</span></span>
<span><span class="co">#&gt; $ region_wb  &lt;chr&gt; "Latin America &amp; Caribbean", "South Asi…</span></span>
<span><span class="co">#&gt; $ name_len   &lt;dbl&gt; 5, 11, 6, 8, 7, 5, 7, 20, 9, 7, 14, 10,…</span></span>
<span><span class="co">#&gt; $ long_len   &lt;dbl&gt; 5, 11, 6, 8, 7, 13, 7, 20, 9, 7, 14, 10…</span></span>
<span><span class="co">#&gt; $ abbrev_len &lt;dbl&gt; 5, 4, 4, 4, 4, 5, 4, 6, 4, 4, 9, 4, 7, …</span></span>
<span><span class="co">#&gt; $ tiny       &lt;dbl&gt; 4, NA, NA, NA, NA, 5, 5, NA, NA, NA, 3,…</span></span>
<span><span class="co">#&gt; $ homepart   &lt;dbl&gt; NA, 1, 1, NA, 1, NA, 1, 1, 1, 1, NA, 1,…</span></span>
<span><span class="co">#&gt; $ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-69.89912 …</span></span></code></pre></div>
<p>The last column is the geometry which contains map data in multi-polygon format.</p>
<div class="sourceCode" id="cb696"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-10-1.png" width="672"></div>
<p>This map data comes with various information.</p>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">income_grp</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-11-1.png" width="672"></div>
<p>You can specify a ‘continent’, a ‘region_un’, a ‘subregion’ or ‘region_wb’.</p>
<div class="sourceCode" id="cb698"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">continent</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "North America"           "Asia"                   </span></span>
<span><span class="co">#&gt; [3] "Africa"                  "Europe"                 </span></span>
<span><span class="co">#&gt; [5] "South America"           "Oceania"                </span></span>
<span><span class="co">#&gt; [7] "Antarctica"              "Seven seas (open ocean)"</span></span></code></pre></div>
<div class="sourceCode" id="cb699"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">region_un</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Americas"                "Asia"                   </span></span>
<span><span class="co">#&gt; [3] "Africa"                  "Europe"                 </span></span>
<span><span class="co">#&gt; [5] "Oceania"                 "Antarctica"             </span></span>
<span><span class="co">#&gt; [7] "Seven seas (open ocean)"</span></span></code></pre></div>
<div class="sourceCode" id="cb700"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">subregion</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Caribbean"                 "Southern Asia"            </span></span>
<span><span class="co">#&gt;  [3] "Middle Africa"             "Southern Europe"          </span></span>
<span><span class="co">#&gt;  [5] "Northern Europe"           "Western Asia"             </span></span>
<span><span class="co">#&gt;  [7] "South America"             "Polynesia"                </span></span>
<span><span class="co">#&gt;  [9] "Antarctica"                "Australia and New Zealand"</span></span>
<span><span class="co">#&gt; [11] "Seven seas (open ocean)"   "Western Europe"           </span></span>
<span><span class="co">#&gt; [13] "Eastern Africa"            "Western Africa"           </span></span>
<span><span class="co">#&gt; [15] "Eastern Europe"            "Central America"          </span></span>
<span><span class="co">#&gt; [17] "Northern America"          "South-Eastern Asia"       </span></span>
<span><span class="co">#&gt; [19] "Southern Africa"           "Eastern Asia"             </span></span>
<span><span class="co">#&gt; [21] "Northern Africa"           "Melanesia"                </span></span>
<span><span class="co">#&gt; [23] "Micronesia"                "Central Asia"</span></span></code></pre></div>
<div class="sourceCode" id="cb701"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">region_wb</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Latin America &amp; Caribbean" </span></span>
<span><span class="co">#&gt; [2] "South Asia"                </span></span>
<span><span class="co">#&gt; [3] "Sub-Saharan Africa"        </span></span>
<span><span class="co">#&gt; [4] "Europe &amp; Central Asia"     </span></span>
<span><span class="co">#&gt; [5] "Middle East &amp; North Africa"</span></span>
<span><span class="co">#&gt; [6] "East Asia &amp; Pacific"       </span></span>
<span><span class="co">#&gt; [7] "Antarctica"                </span></span>
<span><span class="co">#&gt; [8] "North America"</span></span></code></pre></div>
<div class="sourceCode" id="cb702"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">subregion</span> <span class="op">==</span> <span class="st">"South-Eastern Asia"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">iso_a2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-16-1.png" width="672"></div>
<div class="sourceCode" id="cb703"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">continent</span> <span class="op">==</span> <span class="st">'Africa'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">subregion</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-17-1.png" width="672"></div>
</div>
<div id="type-argument" class="section level4" number="36.2.1.3">
<h4>
<span class="header-section-number">36.2.1.3</span> <code>type</code> argument<a class="anchor" aria-label="anchor" href="#type-argument"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb704"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_countries.html">ne_countries</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"countries"</span>, country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Japan"</span>, <span class="st">"South Korea"</span>, <span class="st">"North Korea"</span>, <span class="st">"China"</span>, <span class="st">"Taiwan"</span>, <span class="st">"Mongolia"</span><span class="op">)</span>, scale <span class="op">=</span> <span class="st">"medium"</span>, returnclass <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">economy</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-18-1.png" width="672"></div>
</div>
</div>
<div id="ne_states" class="section level3" number="36.2.2">
<h3>
<span class="header-section-number">36.2.2</span> <code>ne_states</code><a class="anchor" aria-label="anchor" href="#ne_states"><i class="fas fa-link"></i></a>
</h3>
<p>Get natural earth world state (admin level 1) polygons</p>
<p><strong>Description</strong>: returns state polygons (administrative level 1) for specified countries</p>
<div id="usage-1" class="section level4" number="36.2.2.1">
<h4>
<span class="header-section-number">36.2.2.1</span> Usage<a class="anchor" aria-label="anchor" href="#usage-1"><i class="fas fa-link"></i></a>
</h4>
<pre><code>ne_states(
  country = NULL,
  geounit = NULL,
  iso_a2 = NULL,
  spdf = NULL,
  returnclass = c("sp", "sf")
)</code></pre>
</div>
</div>
<div id="arguments-1" class="section level3" number="36.2.3">
<h3>
<span class="header-section-number">36.2.3</span> Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p>country: a character vector of country names.</p></li>
<li><p>geounit: a character vector of geounit names.</p></li>
<li><p>iso_a2: a character vector of iso_a2 country codes</p></li>
<li><p>spdf: an optional alternative states map</p></li>
<li><p>returnclass: ‘sp’ default or ‘sf’ for Simple Features</p></li>
</ul>
</div>
<div id="value" class="section level3" number="36.2.4">
<h3>
<span class="header-section-number">36.2.4</span> Value<a class="anchor" aria-label="anchor" href="#value"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>SpatialPolygons DataFrame or sf</li>
</ul>
<div class="sourceCode" id="cb706"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/rnaturalearth/reference/ne_states.html">ne_states</a></span><span class="op">(</span>returnclass <span class="op">=</span> <span class="st">"sf"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb707"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">ne_world_admin1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 4,596</span></span>
<span><span class="co">#&gt; Columns: 122</span></span>
<span><span class="co">#&gt; $ featurecla &lt;chr&gt; "Admin-1 states provinces lakes", "Admi…</span></span>
<span><span class="co">#&gt; $ scalerank  &lt;int&gt; 3, 6, 2, 6, 3, 4, 4, 3, 4, 3, 4, 3, 3, …</span></span>
<span><span class="co">#&gt; $ adm1_code  &lt;chr&gt; "ARG-1309", "URY-8", "IDN-1185", "MYS-1…</span></span>
<span><span class="co">#&gt; $ diss_me    &lt;int&gt; 1309, 8, 1185, 1186, 2694, 1936, 1937, …</span></span>
<span><span class="co">#&gt; $ iso_3166_2 &lt;chr&gt; "AR-E", "UY-PA", "ID-KI", "MY-12", "CL-…</span></span>
<span><span class="co">#&gt; $ wikipedia  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ iso_a2     &lt;chr&gt; "AR", "UY", "ID", "MY", "CL", "BO", "BO…</span></span>
<span><span class="co">#&gt; $ adm0_sr    &lt;int&gt; 1, 1, 5, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ name       &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan T…</span></span>
<span><span class="co">#&gt; $ name_alt   &lt;chr&gt; "Entre-Rios", NA, "Kaltim", "North Born…</span></span>
<span><span class="co">#&gt; $ name_local &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ type       &lt;chr&gt; "Provincia", "Departamento", "Propinsi"…</span></span>
<span><span class="co">#&gt; $ type_en    &lt;chr&gt; "Province", "Department", "Province", "…</span></span>
<span><span class="co">#&gt; $ code_local &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ code_hasc  &lt;chr&gt; "AR.ER", "UY.PA", "ID.KI", "MY.SA", "CL…</span></span>
<span><span class="co">#&gt; $ note       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ hasc_maybe &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "BO.OR|…</span></span>
<span><span class="co">#&gt; $ region     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ region_cod &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ provnum_ne &lt;int&gt; 10, 19, 15, 1, 0, 8, 7, 0, 1, 20006, 8,…</span></span>
<span><span class="co">#&gt; $ gadm_level &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ check_me   &lt;int&gt; 20, 0, 20, 20, 20, 0, 0, 20, 10, 20, 10…</span></span>
<span><span class="co">#&gt; $ datarank   &lt;int&gt; 3, 8, 1, 6, 3, 8, 6, 3, 6, 3, 5, 3, 3, …</span></span>
<span><span class="co">#&gt; $ abbrev     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ postal     &lt;chr&gt; "ER", "PA", "KI", "SA", NA, "LP", "OR",…</span></span>
<span><span class="co">#&gt; $ area_sqkm  &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ sameascity &lt;int&gt; -99, -99, -99, -99, 7, 6, 6, -99, -99, …</span></span>
<span><span class="co">#&gt; $ labelrank  &lt;int&gt; 3, 6, 2, 6, 7, 6, 6, 3, 4, 6, 7, 6, 3, …</span></span>
<span><span class="co">#&gt; $ name_len   &lt;int&gt; 10, 8, 16, 5, 18, 6, 5, 8, 6, 11, 5, 5,…</span></span>
<span><span class="co">#&gt; $ mapcolor9  &lt;int&gt; 3, 2, 6, 3, 5, 2, 2, 5, 2, 5, 4, 3, 3, …</span></span>
<span><span class="co">#&gt; $ mapcolor13 &lt;int&gt; 13, 10, 11, 6, 9, 3, 3, 9, 3, 9, 11, 13…</span></span>
<span><span class="co">#&gt; $ fips       &lt;chr&gt; "AR08", "UY11", "ID14", "MY16", NA, "BL…</span></span>
<span><span class="co">#&gt; $ fips_alt   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "BL05",…</span></span>
<span><span class="co">#&gt; $ woe_id     &lt;int&gt; 2344682, 2347650, 2345723, 2346310, 560…</span></span>
<span><span class="co">#&gt; $ woe_label  &lt;chr&gt; "Entre Rios, AR, Argentina", "PaysandÃº…</span></span>
<span><span class="co">#&gt; $ woe_name   &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan T…</span></span>
<span><span class="co">#&gt; $ latitude   &lt;dbl&gt; -32.02750, -32.09330, 1.28915, 5.31115,…</span></span>
<span><span class="co">#&gt; $ longitude  &lt;dbl&gt; -59.28240, -57.22400, 116.35400, 117.09…</span></span>
<span><span class="co">#&gt; $ sov_a3     &lt;chr&gt; "ARG", "URY", "IDN", "MYS", "CHL", "BOL…</span></span>
<span><span class="co">#&gt; $ adm0_a3    &lt;chr&gt; "ARG", "URY", "IDN", "MYS", "CHL", "BOL…</span></span>
<span><span class="co">#&gt; $ adm0_label &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …</span></span>
<span><span class="co">#&gt; $ admin      &lt;chr&gt; "Argentina", "Uruguay", "Indonesia", "M…</span></span>
<span><span class="co">#&gt; $ geonunit   &lt;chr&gt; "Argentina", "Uruguay", "Indonesia", "M…</span></span>
<span><span class="co">#&gt; $ gu_a3      &lt;chr&gt; "ARG", "URY", "IDN", "MYS", "CHL", "BOL…</span></span>
<span><span class="co">#&gt; $ gn_id      &lt;int&gt; 3434137, 3441242, 1641897, 1733039, 669…</span></span>
<span><span class="co">#&gt; $ gn_name    &lt;chr&gt; "Provincia de Entre Rios", "Departament…</span></span>
<span><span class="co">#&gt; $ gns_id     &lt;int&gt; -988655, -908097, -2680740, -2405166, 1…</span></span>
<span><span class="co">#&gt; $ gns_name   &lt;chr&gt; "Entre Rios", "Paysandu, Departamento d…</span></span>
<span><span class="co">#&gt; $ gn_level   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ gn_region  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ gn_a1_code &lt;chr&gt; "AR.08", "UY.11", "ID.14", "MY.16", "CL…</span></span>
<span><span class="co">#&gt; $ region_sub &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ sub_code   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ gns_level  &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ gns_lang   &lt;chr&gt; "khm", "fra", "ind", "fil", "ara", "kor…</span></span>
<span><span class="co">#&gt; $ gns_adm1   &lt;chr&gt; "AR08", "UY11", "ID14", "MY16", "CI16",…</span></span>
<span><span class="co">#&gt; $ gns_region &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ min_label  &lt;dbl&gt; 6.0, 8.0, 5.0, 7.0, 6.0, 6.6, 6.6, 6.0,…</span></span>
<span><span class="co">#&gt; $ max_label  &lt;dbl&gt; 11.0, 11.0, 10.1, 11.0, 11.0, 11.0, 11.…</span></span>
<span><span class="co">#&gt; $ min_zoom   &lt;dbl&gt; 6.0, 8.0, 4.6, 7.0, 6.0, 6.6, 6.6, 6.0,…</span></span>
<span><span class="co">#&gt; $ wikidataid &lt;chr&gt; "Q44762", "Q16576", "Q3899", "Q179029",…</span></span>
<span><span class="co">#&gt; $ name_ar    &lt;chr&gt; "إنتري ريوس", "إدارة بايساندو", "كالمنت…</span></span>
<span><span class="co">#&gt; $ name_bn    &lt;chr&gt; "এন্ত্রে রিও প্রদেশ", "পেসান্ডো বিভাগ", "পূর্…</span></span>
<span><span class="co">#&gt; $ name_de    &lt;chr&gt; "Entre Ríos", "Paysandú", "Ostkalimanta…</span></span>
<span><span class="co">#&gt; $ name_en    &lt;chr&gt; "Entre Ríos", "Paysandú", "East Kaliman…</span></span>
<span><span class="co">#&gt; $ name_es    &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan O…</span></span>
<span><span class="co">#&gt; $ name_fr    &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan o…</span></span>
<span><span class="co">#&gt; $ name_el    &lt;chr&gt; "Έντρε Ρίος", "Παϊσαντού", "Ανατολικό Κ…</span></span>
<span><span class="co">#&gt; $ name_hi    &lt;chr&gt; "एन्ट्रे रियोस", "पयसंदु विभाग", "पूर्व कालिमंत…</span></span>
<span><span class="co">#&gt; $ name_hu    &lt;chr&gt; "Entre Ríos", "Paysandú", "Kelet-Kalima…</span></span>
<span><span class="co">#&gt; $ name_id    &lt;chr&gt; "Entre Ríos", "Departemen Paysandú", "K…</span></span>
<span><span class="co">#&gt; $ name_it    &lt;chr&gt; "Entre Ríos", "dipartimento di Paysandú…</span></span>
<span><span class="co">#&gt; $ name_ja    &lt;chr&gt; "エントレ・リオス州", "パイサンドゥ県",…</span></span>
<span><span class="co">#&gt; $ name_ko    &lt;chr&gt; "엔트레리오스", "파이산두", "동칼리만탄…</span></span>
<span><span class="co">#&gt; $ name_nl    &lt;chr&gt; "Entre Ríos", "Paysandú", "Oost-Kaliman…</span></span>
<span><span class="co">#&gt; $ name_pl    &lt;chr&gt; "Entre Ríos", "Paysandú", "Borneo Wscho…</span></span>
<span><span class="co">#&gt; $ name_pt    &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan O…</span></span>
<span><span class="co">#&gt; $ name_ru    &lt;chr&gt; "Энтре-Риос", "Пайсанду", "Восточный Ка…</span></span>
<span><span class="co">#&gt; $ name_sv    &lt;chr&gt; "Entre Ríos", "Paysandú", "Kalimantan T…</span></span>
<span><span class="co">#&gt; $ name_tr    &lt;chr&gt; "Entre Ríos eyaleti", "Paysandu Departm…</span></span>
<span><span class="co">#&gt; $ name_vi    &lt;chr&gt; "Entre Ríos", "Paysandú", "Đông Kaliman…</span></span>
<span><span class="co">#&gt; $ name_zh    &lt;chr&gt; "恩特雷里奥斯省", "派桑杜省", "东加里曼…</span></span>
<span><span class="co">#&gt; $ ne_id      &lt;dbl&gt; 1159309789, 1159307733, 1159310009, 115…</span></span>
<span><span class="co">#&gt; $ name_he    &lt;chr&gt; "אנטרה ריוס", "פאיסאנדו", "מזרח קלימנטא…</span></span>
<span><span class="co">#&gt; $ name_uk    &lt;chr&gt; "Ентре-Ріос", "Пайсанду", "Східний Калі…</span></span>
<span><span class="co">#&gt; $ name_ur    &lt;chr&gt; "صوبہ انترے ریوس", "پایساندو محکمہ", "م…</span></span>
<span><span class="co">#&gt; $ name_fa    &lt;chr&gt; "ایالت انتره ریوز", "بخش پایساندو", "کا…</span></span>
<span><span class="co">#&gt; $ name_zht   &lt;chr&gt; "恩特雷里奥斯省", "派桑杜省", "東加里曼…</span></span>
<span><span class="co">#&gt; $ FCLASS_ISO &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_US  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_FR  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_RU  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_ES  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_CN  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_TW  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_IN  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_NP  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_PK  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_DE  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_GB  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_BR  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_IL  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_PS  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_SA  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_EG  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_MA  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_PT  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_AR  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_JP  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_KO  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_VN  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_TR  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_ID  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_PL  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_GR  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_IT  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_NL  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_SE  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_BD  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_UA  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ FCLASS_TLC &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ geometry   &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-58.20011 …</span></span></code></pre></div>
<div class="sourceCode" id="cb708"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso_a2</span> <span class="op">!=</span> <span class="st">"-1"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">admin</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">iso_a2</span>, <span class="va">admin</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["iso_a2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["admin"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"AF","2":"Afghanistan"},{"1":"AX","2":"Aland"},{"1":"AL","2":"Albania"},{"1":"DZ","2":"Algeria"},{"1":"AS","2":"American Samoa"},{"1":"AD","2":"Andorra"},{"1":"AO","2":"Angola"},{"1":"AI","2":"Anguilla"},{"1":"AQ","2":"Antarctica"},{"1":"AG","2":"Antigua and Barbuda"},{"1":"AR","2":"Argentina"},{"1":"AM","2":"Armenia"},{"1":"AW","2":"Aruba"},{"1":"AU","2":"Ashmore and Cartier Islands"},{"1":"AU","2":"Australia"},{"1":"AT","2":"Austria"},{"1":"AZ","2":"Azerbaijan"},{"1":"BH","2":"Bahrain"},{"1":"BD","2":"Bangladesh"},{"1":"BB","2":"Barbados"},{"1":"BY","2":"Belarus"},{"1":"BE","2":"Belgium"},{"1":"BZ","2":"Belize"},{"1":"BJ","2":"Benin"},{"1":"BM","2":"Bermuda"},{"1":"BT","2":"Bhutan"},{"1":"BO","2":"Bolivia"},{"1":"BA","2":"Bosnia and Herzegovina"},{"1":"BW","2":"Botswana"},{"1":"BR","2":"Brazil"},{"1":"IO","2":"British Indian Ocean Territory"},{"1":"VG","2":"British Virgin Islands"},{"1":"BN","2":"Brunei"},{"1":"BG","2":"Bulgaria"},{"1":"BF","2":"Burkina Faso"},{"1":"BI","2":"Burundi"},{"1":"KH","2":"Cambodia"},{"1":"CM","2":"Cameroon"},{"1":"CA","2":"Canada"},{"1":"CV","2":"Cape Verde"},{"1":"NL","2":"Caribbean Netherlands"},{"1":"KY","2":"Cayman Islands"},{"1":"CF","2":"Central African Republic"},{"1":"TD","2":"Chad"},{"1":"CL","2":"Chile"},{"1":"CN","2":"China"},{"1":"CO","2":"Colombia"},{"1":"KM","2":"Comoros"},{"1":"CK","2":"Cook Islands"},{"1":"CR","2":"Costa Rica"},{"1":"HR","2":"Croatia"},{"1":"CU","2":"Cuba"},{"1":"CW","2":"Curaçao"},{"1":"CY","2":"Cyprus"},{"1":"CZ","2":"Czech Republic"},{"1":"CD","2":"Democratic Republic of the Congo"},{"1":"DK","2":"Denmark"},{"1":"DJ","2":"Djibouti"},{"1":"DM","2":"Dominica"},{"1":"DO","2":"Dominican Republic"},{"1":"TL","2":"East Timor"},{"1":"EC","2":"Ecuador"},{"1":"EG","2":"Egypt"},{"1":"SV","2":"El Salvador"},{"1":"GQ","2":"Equatorial Guinea"},{"1":"ER","2":"Eritrea"},{"1":"EE","2":"Estonia"},{"1":"ET","2":"Ethiopia"},{"1":"FK","2":"Falkland Islands"},{"1":"FO","2":"Faroe Islands"},{"1":"FM","2":"Federated States of Micronesia"},{"1":"FJ","2":"Fiji"},{"1":"FI","2":"Finland"},{"1":"FR","2":"France"},{"1":"PF","2":"French Polynesia"},{"1":"TF","2":"French Southern and Antarctic Lands"},{"1":"GA","2":"Gabon"},{"1":"GM","2":"Gambia"},{"1":"PS","2":"Gaza Strip"},{"1":"GE","2":"Georgia"},{"1":"DE","2":"Germany"},{"1":"GH","2":"Ghana"},{"1":"GI","2":"Gibraltar"},{"1":"GR","2":"Greece"},{"1":"GL","2":"Greenland"},{"1":"GD","2":"Grenada"},{"1":"GU","2":"Guam"},{"1":"GT","2":"Guatemala"},{"1":"GG","2":"Guernsey"},{"1":"GN","2":"Guinea"},{"1":"GW","2":"Guinea Bissau"},{"1":"GY","2":"Guyana"},{"1":"HT","2":"Haiti"},{"1":"HM","2":"Heard Island and McDonald Islands"},{"1":"HN","2":"Honduras"},{"1":"HK","2":"Hong Kong S.A.R."},{"1":"HU","2":"Hungary"},{"1":"IS","2":"Iceland"},{"1":"IN","2":"India"},{"1":"ID","2":"Indonesia"},{"1":"IR","2":"Iran"},{"1":"IQ","2":"Iraq"},{"1":"IE","2":"Ireland"},{"1":"IM","2":"Isle of Man"},{"1":"IL","2":"Israel"},{"1":"IT","2":"Italy"},{"1":"CI","2":"Ivory Coast"},{"1":"JM","2":"Jamaica"},{"1":"JP","2":"Japan"},{"1":"JE","2":"Jersey"},{"1":"JO","2":"Jordan"},{"1":"KZ","2":"Kazakhstan"},{"1":"KE","2":"Kenya"},{"1":"KI","2":"Kiribati"},{"1":"XK","2":"Kosovo"},{"1":"KW","2":"Kuwait"},{"1":"KG","2":"Kyrgyzstan"},{"1":"LA","2":"Laos"},{"1":"LV","2":"Latvia"},{"1":"LB","2":"Lebanon"},{"1":"LS","2":"Lesotho"},{"1":"LR","2":"Liberia"},{"1":"LY","2":"Libya"},{"1":"LI","2":"Liechtenstein"},{"1":"LT","2":"Lithuania"},{"1":"LU","2":"Luxembourg"},{"1":"MO","2":"Macau S.A.R"},{"1":"MK","2":"Macedonia"},{"1":"MG","2":"Madagascar"},{"1":"MW","2":"Malawi"},{"1":"MY","2":"Malaysia"},{"1":"MV","2":"Maldives"},{"1":"ML","2":"Mali"},{"1":"MT","2":"Malta"},{"1":"MH","2":"Marshall Islands"},{"1":"MR","2":"Mauritania"},{"1":"MU","2":"Mauritius"},{"1":"MX","2":"Mexico"},{"1":"MD","2":"Moldova"},{"1":"MC","2":"Monaco"},{"1":"MN","2":"Mongolia"},{"1":"ME","2":"Montenegro"},{"1":"MS","2":"Montserrat"},{"1":"MA","2":"Morocco"},{"1":"MZ","2":"Mozambique"},{"1":"MM","2":"Myanmar"},{"1":"__NA__","2":"Namibia"},{"1":"NR","2":"Nauru"},{"1":"NP","2":"Nepal"},{"1":"NL","2":"Netherlands"},{"1":"NC","2":"New Caledonia"},{"1":"NZ","2":"New Zealand"},{"1":"TK","2":"New Zealand"},{"1":"NI","2":"Nicaragua"},{"1":"NE","2":"Niger"},{"1":"NG","2":"Nigeria"},{"1":"NU","2":"Niue"},{"1":"NF","2":"Norfolk Island"},{"1":"KP","2":"North Korea"},{"1":"MP","2":"Northern Mariana Islands"},{"1":"NO","2":"Norway"},{"1":"OM","2":"Oman"},{"1":"PK","2":"Pakistan"},{"1":"PW","2":"Palau"},{"1":"PA","2":"Panama"},{"1":"PG","2":"Papua New Guinea"},{"1":"PY","2":"Paraguay"},{"1":"PE","2":"Peru"},{"1":"PH","2":"Philippines"},{"1":"PN","2":"Pitcairn Islands"},{"1":"PL","2":"Poland"},{"1":"PT","2":"Portugal"},{"1":"PR","2":"Puerto Rico"},{"1":"QA","2":"Qatar"},{"1":"RS","2":"Republic of Serbia"},{"1":"CG","2":"Republic of the Congo"},{"1":"RO","2":"Romania"},{"1":"RU","2":"Russia"},{"1":"RW","2":"Rwanda"},{"1":"SS","2":"S. Sudan"},{"1":"BL","2":"Saint Barthelemy"},{"1":"SH","2":"Saint Helena"},{"1":"KN","2":"Saint Kitts and Nevis"},{"1":"LC","2":"Saint Lucia"},{"1":"MF","2":"Saint Martin"},{"1":"PM","2":"Saint Pierre and Miquelon"},{"1":"VC","2":"Saint Vincent and the Grenadines"},{"1":"WS","2":"Samoa"},{"1":"SM","2":"San Marino"},{"1":"ST","2":"Sao Tome and Principe"},{"1":"SA","2":"Saudi Arabia"},{"1":"SN","2":"Senegal"},{"1":"SC","2":"Seychelles"},{"1":"SL","2":"Sierra Leone"},{"1":"SG","2":"Singapore"},{"1":"SX","2":"Sint Maarten"},{"1":"SK","2":"Slovakia"},{"1":"SI","2":"Slovenia"},{"1":"SB","2":"Solomon Islands"},{"1":"SO","2":"Somalia"},{"1":"ZA","2":"South Africa"},{"1":"GS","2":"South Georgia and the Islands"},{"1":"KR","2":"South Korea"},{"1":"ES","2":"Spain"},{"1":"LK","2":"Sri Lanka"},{"1":"SD","2":"Sudan"},{"1":"SR","2":"Suriname"},{"1":"SZ","2":"Swaziland"},{"1":"SE","2":"Sweden"},{"1":"CH","2":"Switzerland"},{"1":"SY","2":"Syria"},{"1":"TW","2":"Taiwan"},{"1":"TJ","2":"Tajikistan"},{"1":"TH","2":"Thailand"},{"1":"BS","2":"The Bahamas"},{"1":"TG","2":"Togo"},{"1":"TO","2":"Tonga"},{"1":"TT","2":"Trinidad and Tobago"},{"1":"TN","2":"Tunisia"},{"1":"TR","2":"Turkey"},{"1":"TM","2":"Turkmenistan"},{"1":"TC","2":"Turks and Caicos Islands"},{"1":"TV","2":"Tuvalu"},{"1":"UG","2":"Uganda"},{"1":"UA","2":"Ukraine"},{"1":"AE","2":"United Arab Emirates"},{"1":"GB","2":"United Kingdom"},{"1":"TZ","2":"United Republic of Tanzania"},{"1":"UM","2":"United States Minor Outlying Islands"},{"1":"VI","2":"United States Virgin Islands"},{"1":"US","2":"United States of America"},{"1":"UY","2":"Uruguay"},{"1":"UZ","2":"Uzbekistan"},{"1":"VU","2":"Vanuatu"},{"1":"VA","2":"Vatican"},{"1":"VE","2":"Venezuela"},{"1":"VN","2":"Vietnam"},{"1":"WF","2":"Wallis and Futuna"},{"1":"PS","2":"West Bank"},{"1":"EH","2":"Western Sahara"},{"1":"YE","2":"Yemen"},{"1":"ZM","2":"Zambia"},{"1":"ZW","2":"Zimbabwe"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb709"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">country</span> <span class="op">&lt;-</span> <span class="st">"Japan"</span></span>
<span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">admin</span> <span class="op">==</span> <span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-22-1.png" width="672"></div>
<div class="sourceCode" id="cb710"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iso2s</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IN"</span>,<span class="st">"PK"</span>,<span class="st">"BD"</span>,<span class="st">"LK"</span><span class="op">)</span></span>
<span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso_a2</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">iso2s</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">admin</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-23-1.png" width="672"></div>
<div class="sourceCode" id="cb711"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Tohoku"</span><span class="op">)</span></span>
<span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">regions</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">name_local</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-24-1.png" width="672"></div>
<div class="sourceCode" id="cb712"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso_a2</span> <span class="op">==</span> <span class="st">"JP"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
<div class="sourceCode" id="cb713"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">admin</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name_local</span>, <span class="va">region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name_local"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"佐賀県","2":"NA"},{"1":"長崎県","2":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb714"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>region <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>  <span class="va">name_local</span> <span class="op">==</span> <span class="st">"佐賀県"</span> <span class="op">~</span> <span class="st">"Kyushu"</span>,</span>
<span>  <span class="va">name_local</span> <span class="op">==</span> <span class="st">"長崎県"</span> <span class="op">~</span> <span class="st">"Kyushu"</span>,</span>
<span>  <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">admin</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">name_local</span>, <span class="va">region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["name_local"],"name":[1],"type":["chr"],"align":["left"]},{"label":["region"],"name":[2],"type":["chr"],"align":["left"]}],"data":[],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb715"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ne_world_admin1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>region <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span></span>
<span>  <span class="va">name_local</span> <span class="op">==</span> <span class="st">"佐賀県"</span> <span class="op">~</span> <span class="st">"Kyushu"</span>,</span>
<span>  <span class="va">name_local</span> <span class="op">==</span> <span class="st">"長崎県"</span> <span class="op">~</span> <span class="st">"Kyushu"</span>,</span>
<span>  <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso_a2</span> <span class="op">==</span> <span class="st">"JP"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-28-1.png" width="672"></div>
</div>
</div>
<div id="geodata-package" class="section level2" number="36.3">
<h2>
<span class="header-section-number">36.3</span> <code>geodata</code> Package<a class="anchor" aria-label="anchor" href="#geodata-package"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>URL: <a href="https://gadm.org" class="uri">https://gadm.org</a>
</li>
<li>
<code>geodata</code>: Download Geographic Data</li>
<li>Functions for downloading of geographic data for use in spatial analysis and mapping. The package facilitates access to climate, crops, elevation, land use, soil, species occurrence, accessibility, administrative boundaries and other data.</li>
<li>Package Link: <a href="https://CRAN.R-project.org/package=geodata" class="uri">https://CRAN.R-project.org/package=geodata</a>
</li>
<li>Manual: <a href="https://cran.r-project.org/web/packages/geodata/geodata.pdf" class="uri">https://cran.r-project.org/web/packages/geodata/geodata.pdf</a>
</li>
</ul>
<div class="sourceCode" id="cb716"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">geodata</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: terra</span></span>
<span><span class="co">#&gt; terra 1.7.46</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'terra'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:tidyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     extract</span></span></code></pre></div>
<div class="sourceCode" id="cb717"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/geodata/man/world.html">world</a></span><span class="op">(</span>resolution<span class="op">=</span><span class="fl">5</span>, level<span class="op">=</span><span class="fl">0</span>, path <span class="op">=</span> <span class="st">"./data"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  class       : SpatVector </span></span>
<span><span class="co">#&gt;  geometry    : polygons </span></span>
<span><span class="co">#&gt;  dimensions  : 231, 2  (geometries, attributes)</span></span>
<span><span class="co">#&gt;  extent      : -180, 180, -90, 83.65625  (xmin, xmax, ymin, ymax)</span></span>
<span><span class="co">#&gt;  coord. ref. : +proj=longlat +datum=WGS84 +no_defs </span></span>
<span><span class="co">#&gt;  names       : GID_0      NAME_0</span></span>
<span><span class="co">#&gt;  type        : &lt;chr&gt;       &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  values      :   ABW       Aruba</span></span>
<span><span class="co">#&gt;                  AFG Afghanistan</span></span>
<span><span class="co">#&gt;                  AGO      Angola</span></span></code></pre></div>
<div class="sourceCode" id="cb718"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">world5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/serialize.html">readRDS</a></span><span class="op">(</span><span class="st">"./data/gadm/gadm36_adm0_r5_pk.rds"</span><span class="op">)</span></span>
<span><span class="va">world5</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 231</span></span>
<span><span class="co">#&gt; Columns: 2</span></span>
<span><span class="co">#&gt; $ GID_0  &lt;chr&gt; "ABW", "AFG", "AGO", "ALA", "ALB", "AND", "…</span></span>
<span><span class="co">#&gt; $ NAME_0 &lt;chr&gt; "Aruba", "Afghanistan", "Angola", "Åland", …</span></span></code></pre></div>
<div class="sourceCode" id="cb719"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">world5</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-32-1.png" width="672"></div>
<div class="sourceCode" id="cb720"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">world5</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">GID_0</span> <span class="op">==</span> <span class="st">"JPN"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-33-1.png" width="672"></div>
<div class="sourceCode" id="cb721"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/geodata/man/world.html">world</a></span><span class="op">(</span>resolution<span class="op">=</span><span class="fl">1</span>, level<span class="op">=</span><span class="fl">0</span>, path <span class="op">=</span> <span class="st">"./data"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-34-1.png" width="672"></div>
<div class="sourceCode" id="cb722"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/geodata/man/world.html">world</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"./data"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-35-1.png" width="672"></div>
<div class="sourceCode" id="cb723"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/geodata/man/world.html">world</a></span><span class="op">(</span>resolution<span class="op">=</span><span class="fl">1</span>, level<span class="op">=</span><span class="fl">0</span>, path <span class="op">=</span> <span class="st">"./data"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">NAME_0</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-36-1.png" width="672"></div>
<div class="sourceCode" id="cb724"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/geodata/man/world.html">world</a></span><span class="op">(</span>resolution<span class="op">=</span><span class="fl">1</span>, level<span class="op">=</span><span class="fl">0</span>, path <span class="op">=</span> <span class="st">"./data"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">NAME_0</span> <span class="op"><a href="https://rdrr.io/pkg/terra/man/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"India"</span>,<span class="st">"Pakistan"</span>, <span class="st">"Bangladesh"</span> , <span class="st">"Sri Lanka"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">GID_0</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-37-1.png" width="672"></div>
<div class="sourceCode" id="cb725"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">world5_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="va">world5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_set_crs</a></span><span class="op">(</span><span class="st">"+proj=longlat +datum=WGS84"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"+proj=robin"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">world5_df</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-38-1.png" width="672"></div>
<div id="gadm-administrative-boundaries" class="section level3" number="36.3.1">
<h3>
<span class="header-section-number">36.3.1</span> <code>gadm</code> Administrative boundaries<a class="anchor" aria-label="anchor" href="#gadm-administrative-boundaries"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Get administrative boundaries for any country in the world. Data are read from files that are down- loaded if necessary.</li>
<li>Usage: <code>gadm(country, level=1, path, version="latest", resolution=1, ...)</code>
</li>
<li>Arguments
<ul>
<li>country: character. Three-letter ISO code or full country name. If you provide multiple names they are all downloaded and rbind-ed together</li>
<li>level: numeric. The level of administrative subdivision requested. (starting with 0 for country, then 1 for the first level of subdivision)</li>
<li>path: character. Path for storing the downloaded data. See geodata_path</li>
<li>version: character. Either “latest” or GADM version number (can be “3.6”, “4.0” or “4.1”)</li>
<li>resolution: integer indicating the level of detail. Only for version 4.1. It should be either 1 (high) or 2 (low)</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb726"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/geodata/man/gadm.html">gadm</a></span><span class="op">(</span><span class="st">"JPN"</span>, level <span class="op">=</span> <span class="fl">0</span>, path <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb727"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm0</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-40-1.png" width="672"></div>
<div class="sourceCode" id="cb728"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/geodata/man/gadm.html">gadm</a></span><span class="op">(</span><span class="st">"JPN"</span>, level <span class="op">=</span> <span class="fl">1</span>, path <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gadm1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 47</span></span>
<span><span class="co">#&gt; Columns: 12</span></span>
<span><span class="co">#&gt; $ GID_1     &lt;chr&gt; "JPN.1_1", "JPN.2_1", "JPN.3_1", "JPN.4_…</span></span>
<span><span class="co">#&gt; $ GID_0     &lt;chr&gt; "JPN", "JPN", "JPN", "JPN", "JPN", "JPN"…</span></span>
<span><span class="co">#&gt; $ COUNTRY   &lt;chr&gt; "Japan", "Japan", "Japan", "Japan", "Jap…</span></span>
<span><span class="co">#&gt; $ NAME_1    &lt;chr&gt; "Aichi", "Akita", "Aomori", "Chiba", "Eh…</span></span>
<span><span class="co">#&gt; $ VARNAME_1 &lt;chr&gt; "Aiti", NA, NA, "Tiba|Tsiba", NA, "Hukui…</span></span>
<span><span class="co">#&gt; $ NL_NAME_1 &lt;chr&gt; "愛知県", "秋田県", "青森県", "千葉県", …</span></span>
<span><span class="co">#&gt; $ TYPE_1    &lt;chr&gt; "Ken", "Ken", "Ken", "Ken", "Ken", "Ken"…</span></span>
<span><span class="co">#&gt; $ ENGTYPE_1 &lt;chr&gt; "Prefecture", "Prefecture", "Prefecture"…</span></span>
<span><span class="co">#&gt; $ CC_1      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ HASC_1    &lt;chr&gt; "JP.AI", "JP.AK", "JP.AO", "JP.CH", "JP.…</span></span>
<span><span class="co">#&gt; $ ISO_1     &lt;chr&gt; "JP-23", "JP-05", "JP-02", "JP-12", "JP-…</span></span>
<span><span class="co">#&gt; $ geometry  &lt;GEOMETRY [°]&gt; MULTIPOLYGON (((137.0974 34...,…</span></span></code></pre></div>
<div class="sourceCode" id="cb729"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">NAME_1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-42-1.png" width="672"></div>
<div class="sourceCode" id="cb730"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/geodata/man/gadm.html">gadm</a></span><span class="op">(</span><span class="st">"JPN"</span>, level <span class="op">=</span> <span class="fl">2</span>, path <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">gadm2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1,811</span></span>
<span><span class="co">#&gt; Columns: 14</span></span>
<span><span class="co">#&gt; $ GID_2     &lt;chr&gt; "JPN.1.1_1", "JPN.1.2_1", "JPN.1.3_1", "…</span></span>
<span><span class="co">#&gt; $ GID_0     &lt;chr&gt; "JPN", "JPN", "JPN", "JPN", "JPN", "JPN"…</span></span>
<span><span class="co">#&gt; $ COUNTRY   &lt;chr&gt; "Japan", "Japan", "Japan", "Japan", "Jap…</span></span>
<span><span class="co">#&gt; $ GID_1     &lt;chr&gt; "JPN.1_1", "JPN.1_1", "JPN.1_1", "JPN.1_…</span></span>
<span><span class="co">#&gt; $ NAME_1    &lt;chr&gt; "Aichi", "Aichi", "Aichi", "Aichi", "Aic…</span></span>
<span><span class="co">#&gt; $ NL_NAME_1 &lt;chr&gt; "愛知県", "愛知県", "愛知県", "愛知県", …</span></span>
<span><span class="co">#&gt; $ NAME_2    &lt;chr&gt; "Agui", "Aisai", "Anjō", "Chiryū", "Chit…</span></span>
<span><span class="co">#&gt; $ VARNAME_2 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ NL_NAME_2 &lt;chr&gt; "阿久比町", "愛西市", "安城市", "知立市"…</span></span>
<span><span class="co">#&gt; $ TYPE_2    &lt;chr&gt; "Machi", "Shi", "Shi", "Shi", "Shi", "Ma…</span></span>
<span><span class="co">#&gt; $ ENGTYPE_2 &lt;chr&gt; "Town", "City", "City", "City", "City", …</span></span>
<span><span class="co">#&gt; $ CC_2      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ HASC_2    &lt;chr&gt; NA, NA, NA, NA, "JP.AI.CG", NA, NA, "JP.…</span></span>
<span><span class="co">#&gt; $ geometry  &lt;GEOMETRY [°]&gt; POLYGON ((136.8802 34.94398...,…</span></span></code></pre></div>
<div class="sourceCode" id="cb731"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gadm2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">NL_NAME_1</span> <span class="op"><a href="https://rdrr.io/pkg/terra/man/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"埼玉県"</span>, <span class="st">"群馬県"</span>, <span class="st">"栃木県"</span>, <span class="st">"茨城県"</span>, <span class="st">"千葉県"</span>, <span class="st">"神奈川県"</span>, <span class="st">"東京都"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">NAME_1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span><span class="op">(</span><span class="fl">34.7</span>,<span class="fl">37.2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fl">138.2</span>,<span class="fl">141</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="48-worldmap_files/figure-html/unnamed-chunk-44-1.png" width="672"></div>
</div>
</div>
<div id="参考文献-3" class="section level2" number="36.4">
<h2>
<span class="header-section-number">36.4</span> 参考文献<a class="anchor" aria-label="anchor" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-3"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>Data Visualization for International Relations: Chapter 7 Choropleth Maps: <a href="https://bookdown.org/alhdzsz/data_viz_ir/maps.html" class="uri">https://bookdown.org/alhdzsz/data_viz_ir/maps.html</a></p></li>
<li><p>R Graphics Cookbook: 13.18 Creating a Choropleth Map: <a href="https://r-graphics.org/recipe-miscgraph-choropleth" class="uri">https://r-graphics.org/recipe-miscgraph-choropleth</a></p></li>
<li>
<p>Geocomputation with R：First Edition in <a href="https://bookdown.org/robinlovelace/geocompr/">bookdown サイト</a></p>
<ul>
<li>日本語翻訳版（<a href="http://124.219.182.167/geo/" class="uri">http://124.219.182.167/geo/</a>）</li>
</ul>
</li>
</ul>
</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="toolbox.html"><span class="header-section-number">35</span> 道具箱</a></div>
<div class="next"><a href="example1.html"><span class="header-section-number">37</span> Example 1</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#worldmap"><span class="header-section-number">36</span> 地図 Choropleth Maps</a></li>
<li>
<a class="nav-link" href="#%E6%BA%96%E5%82%99"><span class="header-section-number">36.1</span> 準備</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#geom_sf"><span class="header-section-number">36.1.1</span> geom_sf</a></li></ul>
</li>
<li>
<a class="nav-link" href="#natural-earth-data"><span class="header-section-number">36.2</span> Natural Earth Data</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ne_countries"><span class="header-section-number">36.2.1</span> ne_countries</a></li>
<li><a class="nav-link" href="#ne_states"><span class="header-section-number">36.2.2</span> ne_states</a></li>
<li><a class="nav-link" href="#arguments-1"><span class="header-section-number">36.2.3</span> Arguments</a></li>
<li><a class="nav-link" href="#value"><span class="header-section-number">36.2.4</span> Value</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#geodata-package"><span class="header-section-number">36.3</span> geodata Package</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#gadm-administrative-boundaries"><span class="header-section-number">36.3.1</span> gadm Administrative boundaries</a></li></ul>
</li>
<li><a class="nav-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-3"><span class="header-section-number">36.4</span> 参考文献</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/icu-hsuzuki/ds4aj/blob/master/48-worldmap.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/icu-hsuzuki/ds4aj/edit/master/48-worldmap.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>みんなのデータサイエンス<br>
- Data Science for All -</strong>" was written by 鈴木寛（Hiroshi Suzuki）. It was last built on 2023-09-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
