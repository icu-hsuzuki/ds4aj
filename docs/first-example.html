<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -</title>
<meta name="author" content="鈴木寛（Hirosi Suzuki）">
<meta name="description" content="3.1 データサイエンスの実際 データから情報を得るときには、大体次のような手順をとります。 準備 Setup データを取得 Import data データ構造の確認 View data 必要に応じて整形 Transform data 視覚化 Visualize data データを理解 Understand data レポートなどにまとめる Communicate data 下の図は R...">
<meta name="generator" content="bookdown 0.34 with bs4_book()">
<meta property="og:title" content="Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -">
<meta property="og:type" content="book">
<meta property="og:url" content="https://icu-hsuzuki.github.io/ds4aj/first-example.html">
<meta property="og:description" content="3.1 データサイエンスの実際 データから情報を得るときには、大体次のような手順をとります。 準備 Setup データを取得 Import data データ構造の確認 View data 必要に応じて整形 Transform data 視覚化 Visualize data データを理解 Understand data レポートなどにまとめる Communicate data 下の図は R...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -">
<meta name="twitter:description" content="3.1 データサイエンスの実際 データから情報を得るときには、大体次のような手順をとります。 準備 Setup データを取得 Import data データ構造の確認 View data 必要に応じて整形 Transform data 視覚化 Visualize data データを理解 Understand data レポートなどにまとめる Communicate data 下の図は R...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">データサイエンスをはじめましょう<br>
- Data Science for All -</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">この文書について</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> はじめに</a></li>
<li><a class="" href="what2learn.html"><span class="header-section-number">2</span> 学ぶ内容　</a></li>
<li><a class="active" href="first-example.html"><span class="header-section-number">3</span> はじめてのデータサイエンス</a></li>
<li><a class="" href="wdi-site.html"><span class="header-section-number">4</span> 世界開発指標とオープンデータ</a></li>
<li><a class="" href="notebook.html"><span class="header-section-number">5</span> データサイエンス ノートブック</a></li>
<li class="book-part">PART I オープンデータ</li>
<li><a class="" href="publicdata-site.html"><span class="header-section-number">6</span> オープンデータ</a></li>
<li><a class="" href="worldbank-site.html"><span class="header-section-number">7</span> 世界銀行（World Bank）</a></li>
<li><a class="" href="oecd-site.html"><span class="header-section-number">8</span> OECD（経済協力開発機構）</a></li>
<li><a class="" href="un-site.html"><span class="header-section-number">9</span> United Nations（国際連合）</a></li>
<li><a class="" href="owid-site.html"><span class="header-section-number">10</span> Our World in Data</a></li>
<li><a class="" href="estat-site.html"><span class="header-section-number">11</span> e-Stat 日本の政府統計</a></li>
<li><a class="" href="other-site.html"><span class="header-section-number">12</span> その他のサイト</a></li>
<li class="book-part">PART II BASICS</li>
<li><a class="" href="ronrstudio.html"><span class="header-section-number">13</span> R Studio で R</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">14</span> R Markdown</a></li>
<li><a class="" href="rbasics.html"><span class="header-section-number">15</span> R の基礎</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">16</span> Tidyverse</a></li>
<li><a class="" href="transform.html"><span class="header-section-number">17</span> 変形（Transform）</a></li>
<li><a class="" href="visualize.html"><span class="header-section-number">18</span> 視覚化（Visualize）</a></li>
<li><a class="" href="import.html"><span class="header-section-number">19</span> Import</a></li>
<li><a class="" href="modeling.html"><span class="header-section-number">20</span> Modeling</a></li>
<li><a class="" href="communicate.html"><span class="header-section-number">21</span> Communicate</a></li>
<li><a class="" href="aboutfirstexample.html"><span class="header-section-number">22</span> 復習</a></li>
<li class="book-part">PART III INSTITUTIONAL DATA</li>
<li><a class="" href="publicdata.html"><span class="header-section-number">23</span> Public Data の分析</a></li>
<li><a class="" href="worldbank.html"><span class="header-section-number">24</span> World Bank</a></li>
<li><a class="" href="un.html"><span class="header-section-number">25</span> UN Data（国際連合データ）</a></li>
<li><a class="" href="owid.html"><span class="header-section-number">26</span> Our World in Data</a></li>
<li><a class="" href="estat.html"><span class="header-section-number">27</span> e-Stat</a></li>
<li><a class="" href="others.html"><span class="header-section-number">28</span> その他のデータベース</a></li>
<li class="book-part">PART IV EDA</li>
<li><a class="" href="intro2eda.html"><span class="header-section-number">29</span> 探索的データ解析</a></li>
<li class="book-part">PART V EXAMPLES</li>
<li><a class="" href="example1.html"><span class="header-section-number">30</span> Example 1</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="japanese.html"><span class="header-section-number">A</span> 日本語の扱いについて</a></li>
<li><a class="" href="tools.html"><span class="header-section-number">B</span> IT ツール</a></li>
<li><a class="" href="bookdown-original.html"><span class="header-section-number">C</span> Bookdown</a></li>
<li><a class="" href="todo-list.html"><span class="header-section-number">D</span> To Do リスト</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/icu-hsuzuki/ds4aj">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="first-example" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> はじめてのデータサイエンス<a class="anchor" aria-label="anchor" href="#first-example"><i class="fas fa-link"></i></a>
</h1>
<div id="データサイエンスの実際" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> データサイエンスの実際<a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B5%E3%82%A4%E3%82%A8%E3%83%B3%E3%82%B9%E3%81%AE%E5%AE%9F%E9%9A%9B"><i class="fas fa-link"></i></a>
</h2>
<p>データから情報を得るときには、大体次のような手順をとります。</p>
<ol style="list-style-type: decimal">
<li>準備 Setup</li>
<li>データを取得 Import data</li>
<li>データ構造の確認 View data</li>
<li>必要に応じて整形 Transform data</li>
<li>視覚化 Visualize data</li>
<li>データを理解 Understand data</li>
<li>レポートなどにまとめる Communicate data</li>
</ol>
<p>下の図は <a href="https://r4ds.hadley.nz">R for Data Science</a> に掲載されている図です。よく、表現されていると思います。詳細は、少しずつ説明します。</p>
<!-- ![R4DS掲載の画像](https://r4ds.hadley.nz/diagrams/data-science/base.png){width="593"} -->
<div class="inline-figure"><img src="data/base.png" width="100%"></div>
<p><a href="https://icu-hsuzuki.github.io/ds4aj/introduction.html#introduction">はじめに</a>に書きましたが、基本的には、問いをもちデータを取得し、視覚化などを通して、データを理解し、さらに問いを深めるサイクルが、データサイエンスの核だと思います。</p>
<blockquote>
<p>R を使った分析の一つの例を、見て行きます。一つ一つのコード（コンピュータ・プログラム）の簡単な説明は、加えますが、あまりそれに捉われず、「データサイエンスとは何か？」を考えながら、雰囲気を味わってください。</p>
</blockquote>
</div>
<div id="r-のパッケージを活用" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> R のパッケージを活用<a class="anchor" aria-label="anchor" href="#r-%E3%81%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E6%B4%BB%E7%94%A8"><i class="fas fa-link"></i></a>
</h2>
<div id="準備-setup" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> 準備 Setup<a class="anchor" aria-label="anchor" href="#%E6%BA%96%E5%82%99-setup"><i class="fas fa-link"></i></a>
</h3>
<p>世界銀行（World Bank）の、世界開発指標（WDI: World Development Indicators）の一つの、GDP（Gross Domestic Product 国内総生産）のデータから始めます。GDP にも何種類かの尺度がありますが、次のものを見てみます。</p>
<ul>
<li>NY.GDP.MKTP.CD: GDP (current US$)<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;GDP（Gross Domestic Product）とは、ある国のある期間（通常は1年）における、その国で生産されたすべての最終財・サービスの市場価値の総額を指します。これは国内総生産とも呼ばれます。GDPは、その国の経済力や活力を測る指標の1つとして広く用いられています。WDIのGDP (Current USD)は、各国のGDPを米ドルで表したものであり、通貨の価値が異なっても比較可能な形で国際比較ができます。ただし、GDPはあくまで市場価格を基準としているため、非市場活動や自然災害などの影響を受ける場合がある点に注意が必要です。&lt;/p&gt;"><sup>5</sup></a>
</li>
</ul>
<p>NY.GDP.MKTP.CD は、データコードと言われるもので、世界開発指標（WDI）には、一つづつ決まっています。</p>
<p><a href="https://datatopics.worldbank.org/world-development-indicators/">World Development Indicators</a> のサイトの下にある、Data Themes（テーマ）からテーマを選択し、下にスクロールすると、Code をみることができます。ちなみに、ここで利用する NY.GDP.MKTP.CD: GDP (current US$) は、テーマ Economy（経済）の、一番上にあります。</p>
<p>経済用語の英語はよく知らないという方は、ブラウザー（Edge, Google Chrome, Safari など）の翻訳機能を使うのも良いでしょう。ただ、そのページの対話型の機能（interactive function）を利用するときは、翻訳機能をOFF にする必要がある場合もありますので、注意してください。</p>
<p>エラーメッセージを調べるときなどに、英語のほうが情報がたくさん得られますから、言語を、英語に変更しておきます。</p>
<p>R には、WDI のデータを取得する R のツール（パッケージ）<code>WDI</code> がありますから、それを使います。また、データを取り扱うための基本的なツール（パッケージ）<code>tidyverse</code> を使いますので、次のコードで、これらを読み込みます。<code>#</code> 以下はコメント（簡単な説明を書きました） <code>#&gt;</code> 以下は、コードを実行すると、表示される情報（出力）です。以下同様です。</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>LANG <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span> <span class="co"># 言語を英語に</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>      <span class="co"># tidyverse パッケージを読み込みます</span></span>
<span><span class="co">#&gt; ── Attaching core tidyverse packages ──── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; ✔ dplyr     1.1.2     ✔ readr     2.1.4</span></span>
<span><span class="co">#&gt; ✔ forcats   1.0.0     ✔ stringr   1.5.0</span></span>
<span><span class="co">#&gt; ✔ ggplot2   3.4.2     ✔ tibble    3.2.1</span></span>
<span><span class="co">#&gt; ✔ lubridate 1.9.2     ✔ tidyr     1.3.0</span></span>
<span><span class="co">#&gt; ✔ purrr     1.0.1     </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/WDI/">WDI</a></span><span class="op">)</span>            <span class="co"># WDI パッケージを読み込みます</span></span></code></pre></div>
<p>データを保存する場所を作成しておくことをお勧めします。保存しておくときは、このディレクトリを使います。</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files2.html">dir.create</a></span><span class="op">(</span><span class="st">"./data"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="データ取得-import-data" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> データ取得 Import data<a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97-import-data"><i class="fas fa-link"></i></a>
</h3>
<p>データを取得します。少し時間がかかります。取得したデータに、<code>df_gdp</code> などと、わかりやすい名前をつけます。<code>df</code> は <code>data frame</code> の略で、R で標準的なデータの形式です。</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vincentarelbundock.github.io/WDI/reference/WDI.html">WDI</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"all"</span>, </span>
<span>              indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>gdp <span class="op">=</span> <span class="st">"NY.GDP.MKTP.CD"</span><span class="op">)</span>, </span>
<span>              extra <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>このコードで、全ての国の GDP を取得できます。GDP の値は、<code>NY.GDP.MKTP.CD</code> という名前の列にありますが、覚えやすいように、gdp という名前に変更しておきます。<code>extra = TRUE</code> とすることによって、それぞれの国についての情報などが追加されます。</p>
</div>
<div id="データ構造の確認" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> データ構造の確認<a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0%E3%81%AE%E7%A2%BA%E8%AA%8D"><i class="fas fa-link"></i></a>
</h3>
<p>最初の数行だけを見るには、<code>head(df_dgp)</code> とします。</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">df_gdp</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 13</span></span>
<span><span class="co">#&gt;   country iso2c iso3c  year    gdp status lastupdated region</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;      &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 Afghan… AF    AFG    1963 7.51e8 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; 2 Afghan… AF    AFG    1962 5.47e8 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; 3 Afghan… AF    AFG    1961 5.49e8 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; 4 Afghan… AF    AFG    1960 5.38e8 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; 5 Afghan… AF    AFG    2003 4.54e9 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; 6 Afghan… AF    AFG    2002 3.85e9 NA     2023-07-25  South…</span></span>
<span><span class="co">#&gt; # ℹ 5 more variables: capital &lt;chr&gt;, longitude &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   latitude &lt;dbl&gt;, income &lt;chr&gt;, lending &lt;chr&gt;</span></span></code></pre></div>
<p>データの構造を見るときには、<code>str(df_gdp)</code> もよく使われます。今度は、列が縦に並んで表示されます。</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df_gdp</span><span class="op">)</span></span>
<span><span class="co">#&gt; spc_tbl_ [16,758 × 13] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ country    : chr [1:16758] "Afghanistan" "Afghanistan" "Afghanistan" "Afghanistan" ...</span></span>
<span><span class="co">#&gt;  $ iso2c      : chr [1:16758] "AF" "AF" "AF" "AF" ...</span></span>
<span><span class="co">#&gt;  $ iso3c      : chr [1:16758] "AFG" "AFG" "AFG" "AFG" ...</span></span>
<span><span class="co">#&gt;  $ year       : num [1:16758] 1963 1962 1961 1960 2003 ...</span></span>
<span><span class="co">#&gt;  $ gdp        : num [1:16758] 7.51e+08 5.47e+08 5.49e+08 5.38e+08 4.54e+09 ...</span></span>
<span><span class="co">#&gt;  $ status     : logi [1:16758] NA NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ lastupdated: Date[1:16758], format: "2023-07-25" ...</span></span>
<span><span class="co">#&gt;  $ region     : chr [1:16758] "South Asia" "South Asia" "South Asia" "South Asia" ...</span></span>
<span><span class="co">#&gt;  $ capital    : chr [1:16758] "Kabul" "Kabul" "Kabul" "Kabul" ...</span></span>
<span><span class="co">#&gt;  $ longitude  : num [1:16758] 69.2 69.2 69.2 69.2 69.2 ...</span></span>
<span><span class="co">#&gt;  $ latitude   : num [1:16758] 34.5 34.5 34.5 34.5 34.5 ...</span></span>
<span><span class="co">#&gt;  $ income     : chr [1:16758] "Low income" "Low income" "Low income" "Low income" ...</span></span>
<span><span class="co">#&gt;  $ lending    : chr [1:16758] "IDA" "IDA" "IDA" "IDA" ...</span></span>
<span><span class="co">#&gt;  - attr(*, "spec")=</span></span>
<span><span class="co">#&gt;   .. cols(</span></span>
<span><span class="co">#&gt;   ..   country = col_character(),</span></span>
<span><span class="co">#&gt;   ..   iso2c = col_character(),</span></span>
<span><span class="co">#&gt;   ..   iso3c = col_character(),</span></span>
<span><span class="co">#&gt;   ..   year = col_double(),</span></span>
<span><span class="co">#&gt;   ..   gdp = col_double(),</span></span>
<span><span class="co">#&gt;   ..   status = col_logical(),</span></span>
<span><span class="co">#&gt;   ..   lastupdated = col_date(format = ""),</span></span>
<span><span class="co">#&gt;   ..   region = col_character(),</span></span>
<span><span class="co">#&gt;   ..   capital = col_character(),</span></span>
<span><span class="co">#&gt;   ..   longitude = col_double(),</span></span>
<span><span class="co">#&gt;   ..   latitude = col_double(),</span></span>
<span><span class="co">#&gt;   ..   income = col_character(),</span></span>
<span><span class="co">#&gt;   ..   lending = col_character()</span></span>
<span><span class="co">#&gt;   .. )</span></span>
<span><span class="co">#&gt;  - attr(*, "problems")=&lt;externalptr&gt;</span></span></code></pre></div>
<p>概要 (<code>summary(df_gdp)</code>) からもある程度わかります。</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">df_gdp</span><span class="op">)</span> </span>
<span><span class="co">#&gt;    country             iso2c              iso3c          </span></span>
<span><span class="co">#&gt;  Length:16758       Length:16758       Length:16758      </span></span>
<span><span class="co">#&gt;  Class :character   Class :character   Class :character  </span></span>
<span><span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span></span>
<span><span class="co">#&gt;                                                          </span></span>
<span><span class="co">#&gt;                                                          </span></span>
<span><span class="co">#&gt;                                                          </span></span>
<span><span class="co">#&gt;                                                          </span></span>
<span><span class="co">#&gt;       year           gdp             status       </span></span>
<span><span class="co">#&gt;  Min.   :1960   Min.   :8.825e+06   Mode:logical  </span></span>
<span><span class="co">#&gt;  1st Qu.:1975   1st Qu.:2.523e+09   NA's:16758    </span></span>
<span><span class="co">#&gt;  Median :1991   Median :1.843e+10                 </span></span>
<span><span class="co">#&gt;  Mean   :1991   Mean   :1.207e+12                 </span></span>
<span><span class="co">#&gt;  3rd Qu.:2007   3rd Qu.:2.244e+11                 </span></span>
<span><span class="co">#&gt;  Max.   :2022   Max.   :1.006e+14                 </span></span>
<span><span class="co">#&gt;                 NA's   :3393                      </span></span>
<span><span class="co">#&gt;   lastupdated            region            capital         </span></span>
<span><span class="co">#&gt;  Min.   :2023-07-25   Length:16758       Length:16758      </span></span>
<span><span class="co">#&gt;  1st Qu.:2023-07-25   Class :character   Class :character  </span></span>
<span><span class="co">#&gt;  Median :2023-07-25   Mode  :character   Mode  :character  </span></span>
<span><span class="co">#&gt;  Mean   :2023-07-25                                        </span></span>
<span><span class="co">#&gt;  3rd Qu.:2023-07-25                                        </span></span>
<span><span class="co">#&gt;  Max.   :2023-07-25                                        </span></span>
<span><span class="co">#&gt;                                                            </span></span>
<span><span class="co">#&gt;    longitude          latitude          income         </span></span>
<span><span class="co">#&gt;  Min.   :-175.22   Min.   :-41.286   Length:16758      </span></span>
<span><span class="co">#&gt;  1st Qu.: -15.18   1st Qu.:  4.174   Class :character  </span></span>
<span><span class="co">#&gt;  Median :  19.54   Median : 17.277   Mode  :character  </span></span>
<span><span class="co">#&gt;  Mean   :  19.16   Mean   : 18.740                     </span></span>
<span><span class="co">#&gt;  3rd Qu.:  50.53   3rd Qu.: 39.715                     </span></span>
<span><span class="co">#&gt;  Max.   : 179.09   Max.   : 64.184                     </span></span>
<span><span class="co">#&gt;  NA's   :3528      NA's   :3528                        </span></span>
<span><span class="co">#&gt;    lending         </span></span>
<span><span class="co">#&gt;  Length:16758      </span></span>
<span><span class="co">#&gt;  Class :character  </span></span>
<span><span class="co">#&gt;  Mode  :character  </span></span>
<span><span class="co">#&gt;                    </span></span>
<span><span class="co">#&gt;                    </span></span>
<span><span class="co">#&gt;                    </span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>国のリストをみてみましょう。とても長いリストの中には、地域名も含まれています。</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1] "Afghanistan"                                         </span></span>
<span><span class="co">#&gt;   [2] "Africa Eastern and Southern"                         </span></span>
<span><span class="co">#&gt;   [3] "Africa Western and Central"                          </span></span>
<span><span class="co">#&gt;   [4] "Albania"                                             </span></span>
<span><span class="co">#&gt;   [5] "Algeria"                                             </span></span>
<span><span class="co">#&gt;   [6] "American Samoa"                                      </span></span>
<span><span class="co">#&gt;   [7] "Andorra"                                             </span></span>
<span><span class="co">#&gt;   [8] "Angola"                                              </span></span>
<span><span class="co">#&gt;   [9] "Antigua and Barbuda"                                 </span></span>
<span><span class="co">#&gt;  [10] "Arab World"                                          </span></span>
<span><span class="co">#&gt;  [11] "Argentina"                                           </span></span>
<span><span class="co">#&gt;  [12] "Armenia"                                             </span></span>
<span><span class="co">#&gt;  [13] "Aruba"                                               </span></span>
<span><span class="co">#&gt;  [14] "Australia"                                           </span></span>
<span><span class="co">#&gt;  [15] "Austria"                                             </span></span>
<span><span class="co">#&gt;  [16] "Azerbaijan"                                          </span></span>
<span><span class="co">#&gt;  [17] "Bahamas, The"                                        </span></span>
<span><span class="co">#&gt;  [18] "Bahrain"                                             </span></span>
<span><span class="co">#&gt;  [19] "Bangladesh"                                          </span></span>
<span><span class="co">#&gt;  [20] "Barbados"                                            </span></span>
<span><span class="co">#&gt;  [21] "Belarus"                                             </span></span>
<span><span class="co">#&gt;  [22] "Belgium"                                             </span></span>
<span><span class="co">#&gt;  [23] "Belize"                                              </span></span>
<span><span class="co">#&gt;  [24] "Benin"                                               </span></span>
<span><span class="co">#&gt;  [25] "Bermuda"                                             </span></span>
<span><span class="co">#&gt;  [26] "Bhutan"                                              </span></span>
<span><span class="co">#&gt;  [27] "Bolivia"                                             </span></span>
<span><span class="co">#&gt;  [28] "Bosnia and Herzegovina"                              </span></span>
<span><span class="co">#&gt;  [29] "Botswana"                                            </span></span>
<span><span class="co">#&gt;  [30] "Brazil"                                              </span></span>
<span><span class="co">#&gt;  [31] "British Virgin Islands"                              </span></span>
<span><span class="co">#&gt;  [32] "Brunei Darussalam"                                   </span></span>
<span><span class="co">#&gt;  [33] "Bulgaria"                                            </span></span>
<span><span class="co">#&gt;  [34] "Burkina Faso"                                        </span></span>
<span><span class="co">#&gt;  [35] "Burundi"                                             </span></span>
<span><span class="co">#&gt;  [36] "Cabo Verde"                                          </span></span>
<span><span class="co">#&gt;  [37] "Cambodia"                                            </span></span>
<span><span class="co">#&gt;  [38] "Cameroon"                                            </span></span>
<span><span class="co">#&gt;  [39] "Canada"                                              </span></span>
<span><span class="co">#&gt;  [40] "Caribbean small states"                              </span></span>
<span><span class="co">#&gt;  [41] "Cayman Islands"                                      </span></span>
<span><span class="co">#&gt;  [42] "Central African Republic"                            </span></span>
<span><span class="co">#&gt;  [43] "Central Europe and the Baltics"                      </span></span>
<span><span class="co">#&gt;  [44] "Chad"                                                </span></span>
<span><span class="co">#&gt;  [45] "Channel Islands"                                     </span></span>
<span><span class="co">#&gt;  [46] "Chile"                                               </span></span>
<span><span class="co">#&gt;  [47] "China"                                               </span></span>
<span><span class="co">#&gt;  [48] "Colombia"                                            </span></span>
<span><span class="co">#&gt;  [49] "Comoros"                                             </span></span>
<span><span class="co">#&gt;  [50] "Congo, Dem. Rep."                                    </span></span>
<span><span class="co">#&gt;  [51] "Congo, Rep."                                         </span></span>
<span><span class="co">#&gt;  [52] "Costa Rica"                                          </span></span>
<span><span class="co">#&gt;  [53] "Cote d'Ivoire"                                       </span></span>
<span><span class="co">#&gt;  [54] "Croatia"                                             </span></span>
<span><span class="co">#&gt;  [55] "Cuba"                                                </span></span>
<span><span class="co">#&gt;  [56] "Curacao"                                             </span></span>
<span><span class="co">#&gt;  [57] "Cyprus"                                              </span></span>
<span><span class="co">#&gt;  [58] "Czechia"                                             </span></span>
<span><span class="co">#&gt;  [59] "Denmark"                                             </span></span>
<span><span class="co">#&gt;  [60] "Djibouti"                                            </span></span>
<span><span class="co">#&gt;  [61] "Dominica"                                            </span></span>
<span><span class="co">#&gt;  [62] "Dominican Republic"                                  </span></span>
<span><span class="co">#&gt;  [63] "Early-demographic dividend"                          </span></span>
<span><span class="co">#&gt;  [64] "East Asia &amp; Pacific"                                 </span></span>
<span><span class="co">#&gt;  [65] "East Asia &amp; Pacific (excluding high income)"         </span></span>
<span><span class="co">#&gt;  [66] "East Asia &amp; Pacific (IDA &amp; IBRD countries)"          </span></span>
<span><span class="co">#&gt;  [67] "Ecuador"                                             </span></span>
<span><span class="co">#&gt;  [68] "Egypt, Arab Rep."                                    </span></span>
<span><span class="co">#&gt;  [69] "El Salvador"                                         </span></span>
<span><span class="co">#&gt;  [70] "Equatorial Guinea"                                   </span></span>
<span><span class="co">#&gt;  [71] "Eritrea"                                             </span></span>
<span><span class="co">#&gt;  [72] "Estonia"                                             </span></span>
<span><span class="co">#&gt;  [73] "Eswatini"                                            </span></span>
<span><span class="co">#&gt;  [74] "Ethiopia"                                            </span></span>
<span><span class="co">#&gt;  [75] "Euro area"                                           </span></span>
<span><span class="co">#&gt;  [76] "Europe &amp; Central Asia"                               </span></span>
<span><span class="co">#&gt;  [77] "Europe &amp; Central Asia (excluding high income)"       </span></span>
<span><span class="co">#&gt;  [78] "Europe &amp; Central Asia (IDA &amp; IBRD countries)"        </span></span>
<span><span class="co">#&gt;  [79] "European Union"                                      </span></span>
<span><span class="co">#&gt;  [80] "Faroe Islands"                                       </span></span>
<span><span class="co">#&gt;  [81] "Fiji"                                                </span></span>
<span><span class="co">#&gt;  [82] "Finland"                                             </span></span>
<span><span class="co">#&gt;  [83] "Fragile and conflict affected situations"            </span></span>
<span><span class="co">#&gt;  [84] "France"                                              </span></span>
<span><span class="co">#&gt;  [85] "French Polynesia"                                    </span></span>
<span><span class="co">#&gt;  [86] "Gabon"                                               </span></span>
<span><span class="co">#&gt;  [87] "Gambia, The"                                         </span></span>
<span><span class="co">#&gt;  [88] "Georgia"                                             </span></span>
<span><span class="co">#&gt;  [89] "Germany"                                             </span></span>
<span><span class="co">#&gt;  [90] "Ghana"                                               </span></span>
<span><span class="co">#&gt;  [91] "Gibraltar"                                           </span></span>
<span><span class="co">#&gt;  [92] "Greece"                                              </span></span>
<span><span class="co">#&gt;  [93] "Greenland"                                           </span></span>
<span><span class="co">#&gt;  [94] "Grenada"                                             </span></span>
<span><span class="co">#&gt;  [95] "Guam"                                                </span></span>
<span><span class="co">#&gt;  [96] "Guatemala"                                           </span></span>
<span><span class="co">#&gt;  [97] "Guinea"                                              </span></span>
<span><span class="co">#&gt;  [98] "Guinea-Bissau"                                       </span></span>
<span><span class="co">#&gt;  [99] "Guyana"                                              </span></span>
<span><span class="co">#&gt; [100] "Haiti"                                               </span></span>
<span><span class="co">#&gt; [101] "Heavily indebted poor countries (HIPC)"              </span></span>
<span><span class="co">#&gt; [102] "High income"                                         </span></span>
<span><span class="co">#&gt; [103] "Honduras"                                            </span></span>
<span><span class="co">#&gt; [104] "Hong Kong SAR, China"                                </span></span>
<span><span class="co">#&gt; [105] "Hungary"                                             </span></span>
<span><span class="co">#&gt; [106] "IBRD only"                                           </span></span>
<span><span class="co">#&gt; [107] "Iceland"                                             </span></span>
<span><span class="co">#&gt; [108] "IDA &amp; IBRD total"                                    </span></span>
<span><span class="co">#&gt; [109] "IDA blend"                                           </span></span>
<span><span class="co">#&gt; [110] "IDA only"                                            </span></span>
<span><span class="co">#&gt; [111] "IDA total"                                           </span></span>
<span><span class="co">#&gt; [112] "India"                                               </span></span>
<span><span class="co">#&gt; [113] "Indonesia"                                           </span></span>
<span><span class="co">#&gt; [114] "Iran, Islamic Rep."                                  </span></span>
<span><span class="co">#&gt; [115] "Iraq"                                                </span></span>
<span><span class="co">#&gt; [116] "Ireland"                                             </span></span>
<span><span class="co">#&gt; [117] "Isle of Man"                                         </span></span>
<span><span class="co">#&gt; [118] "Israel"                                              </span></span>
<span><span class="co">#&gt; [119] "Italy"                                               </span></span>
<span><span class="co">#&gt; [120] "Jamaica"                                             </span></span>
<span><span class="co">#&gt; [121] "Japan"                                               </span></span>
<span><span class="co">#&gt; [122] "Jordan"                                              </span></span>
<span><span class="co">#&gt; [123] "Kazakhstan"                                          </span></span>
<span><span class="co">#&gt; [124] "Kenya"                                               </span></span>
<span><span class="co">#&gt; [125] "Kiribati"                                            </span></span>
<span><span class="co">#&gt; [126] "Korea, Dem. People's Rep."                           </span></span>
<span><span class="co">#&gt; [127] "Korea, Rep."                                         </span></span>
<span><span class="co">#&gt; [128] "Kosovo"                                              </span></span>
<span><span class="co">#&gt; [129] "Kuwait"                                              </span></span>
<span><span class="co">#&gt; [130] "Kyrgyz Republic"                                     </span></span>
<span><span class="co">#&gt; [131] "Lao PDR"                                             </span></span>
<span><span class="co">#&gt; [132] "Late-demographic dividend"                           </span></span>
<span><span class="co">#&gt; [133] "Latin America &amp; Caribbean"                           </span></span>
<span><span class="co">#&gt; [134] "Latin America &amp; Caribbean (excluding high income)"   </span></span>
<span><span class="co">#&gt; [135] "Latin America &amp; the Caribbean (IDA &amp; IBRD countries)"</span></span>
<span><span class="co">#&gt; [136] "Latvia"                                              </span></span>
<span><span class="co">#&gt; [137] "Least developed countries: UN classification"        </span></span>
<span><span class="co">#&gt; [138] "Lebanon"                                             </span></span>
<span><span class="co">#&gt; [139] "Lesotho"                                             </span></span>
<span><span class="co">#&gt; [140] "Liberia"                                             </span></span>
<span><span class="co">#&gt; [141] "Libya"                                               </span></span>
<span><span class="co">#&gt; [142] "Liechtenstein"                                       </span></span>
<span><span class="co">#&gt; [143] "Lithuania"                                           </span></span>
<span><span class="co">#&gt; [144] "Low &amp; middle income"                                 </span></span>
<span><span class="co">#&gt; [145] "Low income"                                          </span></span>
<span><span class="co">#&gt; [146] "Lower middle income"                                 </span></span>
<span><span class="co">#&gt; [147] "Luxembourg"                                          </span></span>
<span><span class="co">#&gt; [148] "Macao SAR, China"                                    </span></span>
<span><span class="co">#&gt; [149] "Madagascar"                                          </span></span>
<span><span class="co">#&gt; [150] "Malawi"                                              </span></span>
<span><span class="co">#&gt; [151] "Malaysia"                                            </span></span>
<span><span class="co">#&gt; [152] "Maldives"                                            </span></span>
<span><span class="co">#&gt; [153] "Mali"                                                </span></span>
<span><span class="co">#&gt; [154] "Malta"                                               </span></span>
<span><span class="co">#&gt; [155] "Marshall Islands"                                    </span></span>
<span><span class="co">#&gt; [156] "Mauritania"                                          </span></span>
<span><span class="co">#&gt; [157] "Mauritius"                                           </span></span>
<span><span class="co">#&gt; [158] "Mexico"                                              </span></span>
<span><span class="co">#&gt; [159] "Micronesia, Fed. Sts."                               </span></span>
<span><span class="co">#&gt; [160] "Middle East &amp; North Africa"                          </span></span>
<span><span class="co">#&gt; [161] "Middle East &amp; North Africa (excluding high income)"  </span></span>
<span><span class="co">#&gt; [162] "Middle East &amp; North Africa (IDA &amp; IBRD countries)"   </span></span>
<span><span class="co">#&gt; [163] "Middle income"                                       </span></span>
<span><span class="co">#&gt; [164] "Moldova"                                             </span></span>
<span><span class="co">#&gt; [165] "Monaco"                                              </span></span>
<span><span class="co">#&gt; [166] "Mongolia"                                            </span></span>
<span><span class="co">#&gt; [167] "Montenegro"                                          </span></span>
<span><span class="co">#&gt; [168] "Morocco"                                             </span></span>
<span><span class="co">#&gt; [169] "Mozambique"                                          </span></span>
<span><span class="co">#&gt; [170] "Myanmar"                                             </span></span>
<span><span class="co">#&gt; [171] "Namibia"                                             </span></span>
<span><span class="co">#&gt; [172] "Nauru"                                               </span></span>
<span><span class="co">#&gt; [173] "Nepal"                                               </span></span>
<span><span class="co">#&gt; [174] "Netherlands"                                         </span></span>
<span><span class="co">#&gt; [175] "New Caledonia"                                       </span></span>
<span><span class="co">#&gt; [176] "New Zealand"                                         </span></span>
<span><span class="co">#&gt; [177] "Nicaragua"                                           </span></span>
<span><span class="co">#&gt; [178] "Niger"                                               </span></span>
<span><span class="co">#&gt; [179] "Nigeria"                                             </span></span>
<span><span class="co">#&gt; [180] "North America"                                       </span></span>
<span><span class="co">#&gt; [181] "North Macedonia"                                     </span></span>
<span><span class="co">#&gt; [182] "Northern Mariana Islands"                            </span></span>
<span><span class="co">#&gt; [183] "Norway"                                              </span></span>
<span><span class="co">#&gt; [184] "Not classified"                                      </span></span>
<span><span class="co">#&gt; [185] "OECD members"                                        </span></span>
<span><span class="co">#&gt; [186] "Oman"                                                </span></span>
<span><span class="co">#&gt; [187] "Other small states"                                  </span></span>
<span><span class="co">#&gt; [188] "Pacific island small states"                         </span></span>
<span><span class="co">#&gt; [189] "Pakistan"                                            </span></span>
<span><span class="co">#&gt; [190] "Palau"                                               </span></span>
<span><span class="co">#&gt; [191] "Panama"                                              </span></span>
<span><span class="co">#&gt; [192] "Papua New Guinea"                                    </span></span>
<span><span class="co">#&gt; [193] "Paraguay"                                            </span></span>
<span><span class="co">#&gt; [194] "Peru"                                                </span></span>
<span><span class="co">#&gt; [195] "Philippines"                                         </span></span>
<span><span class="co">#&gt; [196] "Poland"                                              </span></span>
<span><span class="co">#&gt; [197] "Portugal"                                            </span></span>
<span><span class="co">#&gt; [198] "Post-demographic dividend"                           </span></span>
<span><span class="co">#&gt; [199] "Pre-demographic dividend"                            </span></span>
<span><span class="co">#&gt; [200] "Puerto Rico"                                         </span></span>
<span><span class="co">#&gt; [201] "Qatar"                                               </span></span>
<span><span class="co">#&gt; [202] "Romania"                                             </span></span>
<span><span class="co">#&gt; [203] "Russian Federation"                                  </span></span>
<span><span class="co">#&gt; [204] "Rwanda"                                              </span></span>
<span><span class="co">#&gt; [205] "Samoa"                                               </span></span>
<span><span class="co">#&gt; [206] "San Marino"                                          </span></span>
<span><span class="co">#&gt; [207] "Sao Tome and Principe"                               </span></span>
<span><span class="co">#&gt; [208] "Saudi Arabia"                                        </span></span>
<span><span class="co">#&gt; [209] "Senegal"                                             </span></span>
<span><span class="co">#&gt; [210] "Serbia"                                              </span></span>
<span><span class="co">#&gt; [211] "Seychelles"                                          </span></span>
<span><span class="co">#&gt; [212] "Sierra Leone"                                        </span></span>
<span><span class="co">#&gt; [213] "Singapore"                                           </span></span>
<span><span class="co">#&gt; [214] "Sint Maarten (Dutch part)"                           </span></span>
<span><span class="co">#&gt; [215] "Slovak Republic"                                     </span></span>
<span><span class="co">#&gt; [216] "Slovenia"                                            </span></span>
<span><span class="co">#&gt; [217] "Small states"                                        </span></span>
<span><span class="co">#&gt; [218] "Solomon Islands"                                     </span></span>
<span><span class="co">#&gt; [219] "Somalia"                                             </span></span>
<span><span class="co">#&gt; [220] "South Africa"                                        </span></span>
<span><span class="co">#&gt; [221] "South Asia"                                          </span></span>
<span><span class="co">#&gt; [222] "South Asia (IDA &amp; IBRD)"                             </span></span>
<span><span class="co">#&gt; [223] "South Sudan"                                         </span></span>
<span><span class="co">#&gt; [224] "Spain"                                               </span></span>
<span><span class="co">#&gt; [225] "Sri Lanka"                                           </span></span>
<span><span class="co">#&gt; [226] "St. Kitts and Nevis"                                 </span></span>
<span><span class="co">#&gt; [227] "St. Lucia"                                           </span></span>
<span><span class="co">#&gt; [228] "St. Martin (French part)"                            </span></span>
<span><span class="co">#&gt; [229] "St. Vincent and the Grenadines"                      </span></span>
<span><span class="co">#&gt; [230] "Sub-Saharan Africa"                                  </span></span>
<span><span class="co">#&gt; [231] "Sub-Saharan Africa (excluding high income)"          </span></span>
<span><span class="co">#&gt; [232] "Sub-Saharan Africa (IDA &amp; IBRD countries)"           </span></span>
<span><span class="co">#&gt; [233] "Sudan"                                               </span></span>
<span><span class="co">#&gt; [234] "Suriname"                                            </span></span>
<span><span class="co">#&gt; [235] "Sweden"                                              </span></span>
<span><span class="co">#&gt; [236] "Switzerland"                                         </span></span>
<span><span class="co">#&gt; [237] "Syrian Arab Republic"                                </span></span>
<span><span class="co">#&gt; [238] "Tajikistan"                                          </span></span>
<span><span class="co">#&gt; [239] "Tanzania"                                            </span></span>
<span><span class="co">#&gt; [240] "Thailand"                                            </span></span>
<span><span class="co">#&gt; [241] "Timor-Leste"                                         </span></span>
<span><span class="co">#&gt; [242] "Togo"                                                </span></span>
<span><span class="co">#&gt; [243] "Tonga"                                               </span></span>
<span><span class="co">#&gt; [244] "Trinidad and Tobago"                                 </span></span>
<span><span class="co">#&gt; [245] "Tunisia"                                             </span></span>
<span><span class="co">#&gt; [246] "Turkiye"                                             </span></span>
<span><span class="co">#&gt; [247] "Turkmenistan"                                        </span></span>
<span><span class="co">#&gt; [248] "Turks and Caicos Islands"                            </span></span>
<span><span class="co">#&gt; [249] "Tuvalu"                                              </span></span>
<span><span class="co">#&gt; [250] "Uganda"                                              </span></span>
<span><span class="co">#&gt; [251] "Ukraine"                                             </span></span>
<span><span class="co">#&gt; [252] "United Arab Emirates"                                </span></span>
<span><span class="co">#&gt; [253] "United Kingdom"                                      </span></span>
<span><span class="co">#&gt; [254] "United States"                                       </span></span>
<span><span class="co">#&gt; [255] "Upper middle income"                                 </span></span>
<span><span class="co">#&gt; [256] "Uruguay"                                             </span></span>
<span><span class="co">#&gt; [257] "Uzbekistan"                                          </span></span>
<span><span class="co">#&gt; [258] "Vanuatu"                                             </span></span>
<span><span class="co">#&gt; [259] "Venezuela, RB"                                       </span></span>
<span><span class="co">#&gt; [260] "Vietnam"                                             </span></span>
<span><span class="co">#&gt; [261] "Virgin Islands (U.S.)"                               </span></span>
<span><span class="co">#&gt; [262] "West Bank and Gaza"                                  </span></span>
<span><span class="co">#&gt; [263] "World"                                               </span></span>
<span><span class="co">#&gt; [264] "Yemen, Rep."                                         </span></span>
<span><span class="co">#&gt; [265] "Zambia"                                              </span></span>
<span><span class="co">#&gt; [266] "Zimbabwe"</span></span></code></pre></div>
<p>今回は下のように、<code>|&gt;</code>（パイプと呼びます） で繋げてコードを書きました。</p>
<pre><code>df_gdp |&gt; distinct(country) |&gt; pull()</code></pre>
<p>最初は、データ、その中の、異なる国を選択して、書き出してくださいというものです。</p>
<p>これは、</p>
<pre><code>pull(distinct(df_gdp, country))</code></pre>
<p>と同じです。どんどん、かっこの中に入れ子になって複雑になるので、一つ一つのステップを、順に書いたものが、最初のものになります。</p>
<pre><code>df_gdp |&gt; head()
df_gdp |&gt; str()</code></pre>
<p>なども可能です。かっこの中に最初に入るものが直前のもの、ここでは、データになっています。</p>
</div>
<div id="必要に応じて整形-transform-data" class="section level3" number="3.2.4">
<h3>
<span class="header-section-number">3.2.4</span> 必要に応じて整形 Transform data<a class="anchor" aria-label="anchor" href="#%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E6%95%B4%E5%BD%A2-transform-data"><i class="fas fa-link"></i></a>
</h3>
<p>変数が多いので、日本の部分だけ <code>filter</code> を使って選択します。country が Japan と一致する場合のみを選択するときは、<code>==</code> を使います。数値ではないので、引用符をつけます。半角を使ってください。</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 63 × 13</span></span>
<span><span class="co">#&gt;    country iso2c iso3c  year     gdp status lastupdated</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span><span class="co">#&gt;  1 Japan   JP    JPN    2022 4.23e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  2 Japan   JP    JPN    2021 5.01e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  3 Japan   JP    JPN    2020 5.05e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  4 Japan   JP    JPN    2019 5.12e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  5 Japan   JP    JPN    2018 5.04e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  6 Japan   JP    JPN    2017 4.93e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  7 Japan   JP    JPN    2016 5.00e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  8 Japan   JP    JPN    2015 4.44e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  9 Japan   JP    JPN    2014 4.90e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; 10 Japan   JP    JPN    2013 5.21e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; # ℹ 53 more rows</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 13</span></span>
<span><span class="co">#&gt;   country iso2c iso3c  year     gdp status lastupdated</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span><span class="co">#&gt; 1 Japan   JP    JPN    2022 4.23e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; 2 Japan   JP    JPN    2021 5.01e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<p>２行目の、gdp の、4.940878e+12 （この文書では、幅の都合で、<code>4.9e+12</code> と表示されているかもしれません）は、Scientific notation と言われるもので、 <span class="math display">\[4.940878 \times 10^{12} = 4,940,887,800,000\]</span> を意味します。<code>e+3</code> は千（thousand）、<code>e+6</code> は百万（million）、<code>e+9</code> は、10億（billion）、<code>e+12</code> は、兆（trillion）ですから、日本の、2021 年の GDP は、約5兆ドルとなります。</p>
</div>
<div id="視覚化-data-visualization" class="section level3" number="3.2.5">
<h3>
<span class="header-section-number">3.2.5</span> 視覚化 data visualization<a class="anchor" aria-label="anchor" href="#%E8%A6%96%E8%A6%9A%E5%8C%96-data-visualization"><i class="fas fa-link"></i></a>
</h3>
<div id="fig-1.-日本のgdp-の経年変化を表す折線グラフline-graph" class="section level4" number="3.2.5.1">
<h4>
<span class="header-section-number">3.2.5.1</span> Fig 1. 日本のGDP の経年変化を表す折線グラフ（line graph）<a class="anchor" aria-label="anchor" href="#fig-1.-%E6%97%A5%E6%9C%AC%E3%81%AEgdp-%E3%81%AE%E7%B5%8C%E5%B9%B4%E5%A4%89%E5%8C%96%E3%82%92%E8%A1%A8%E3%81%99%E6%8A%98%E7%B7%9A%E3%82%B0%E3%83%A9%E3%83%95line-graph"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-13-1.png" width="672"></div>
<pre><code>df_gdp |&gt; filter(country == "Japan") |&gt;
  ggplot(aes(x = year, y = gdp)) + geom_line()</code></pre>
<p>日本を選択したときに、それに名前をつけた新しいオブジェクトを作り、それを使うこともできますが、名前がどんどん増えるので、パイプを使って、コードを続けて書いていく方法をとっています。</p>
<p><code>ggplot(aes(x = year, y = gdp)) + geom_line()</code></p>
<p>の部分が、グラフを描く部分で、「x 軸を、year、y 軸を、gdp として、それを、折線グラフで描いてください」というコードです。</p>
<p>Warning: [38;5;238mRemoved 1 row containing missing values</p>
<p>などと表示される場合がありますが、それは、値がない（missing または 値が NA, not available）年があることを言っています。データがない年を最初から削除してこくことも可能です。</p>
</div>
</div>
<div id="データの理解-understand-data" class="section level3" number="3.2.6">
<h3>
<span class="header-section-number">3.2.6</span> データの理解 Understand data<a class="anchor" aria-label="anchor" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%90%86%E8%A7%A3-understand-data"><i class="fas fa-link"></i></a>
</h3>
<p>上の折線グラフを使った、視覚化によって見えてくることがいくつもありますね。どんなことがわかりますか。気づいたこと（observation）をあげてみましょう。</p>
<p>コードを描くことではなく、この部分が、データサイエンスの核の部分です。気づいたこと、疑問点を列挙してみましょう。</p>
<p>急激に増加しているとき、増加減少が繰り返している時、全体としては、1995年ごろからはあまり、増加していないように見えることなどがわかりますね。それぞれのピークや、下落は、なにがあったのかも気になりませんか。これは、世界的な傾向なのでしょうか。日本だけでしょうか。他にも似た傾向の国があるのでしょうか。将来はどうなっていくのでしょうか。などなど。</p>
</div>
<div id="さまざまな視覚化" class="section level3" number="3.2.7">
<h3>
<span class="header-section-number">3.2.7</span> さまざまな視覚化<a class="anchor" aria-label="anchor" href="#%E3%81%95%E3%81%BE%E3%81%96%E3%81%BE%E3%81%AA%E8%A6%96%E8%A6%9A%E5%8C%96"><i class="fas fa-link"></i></a>
</h3>
<div id="fig-2.-各年ごとのデータの数" class="section level4" number="3.2.7.1">
<h4>
<span class="header-section-number">3.2.7.1</span> Fig 2. 各年ごとのデータの数<a class="anchor" aria-label="anchor" href="#fig-2.-%E5%90%84%E5%B9%B4%E3%81%94%E3%81%A8%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E6%95%B0"><i class="fas fa-link"></i></a>
</h4>
<p><code>summary(df_gdp)</code> で、データ自体は、1960年から2022年までのようですが、年によって、どの程度データがあるか、調べてみます。</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-14-1.png" width="672"></div>
<pre><code>df_gdp |&gt; drop_na(gdp) |&gt; ggplot(aes(x = year)) + geom_bar()</code></pre>
<p>棒グラフ（bar graph）を使います。<code>gdp</code> の値が、欠損値（NA: not available）のデータを削除してから、グラフを描きます。</p>
</div>
<div id="年のgdpの降順での表示１" class="section level4" number="3.2.7.2">
<h4>
<span class="header-section-number">3.2.7.2</span> 2022年のGDPの降順での表示（１）<a class="anchor" aria-label="anchor" href="#%E5%B9%B4%E3%81%AEgdp%E3%81%AE%E9%99%8D%E9%A0%86%E3%81%A7%E3%81%AE%E8%A1%A8%E7%A4%BA%EF%BC%91"><i class="fas fa-link"></i></a>
</h4>
<p>最新の2022年のデータはすべてあるわけではなさそうですが、<code>gdp</code> の値が大きい順に並べてみましょう。</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2022</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 233 × 13</span></span>
<span><span class="co">#&gt;    country      iso2c iso3c  year     gdp status lastupdated</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span><span class="co">#&gt;  1 World        1W    WLD    2022 1.01e14 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  2 High income  XD    &lt;NA&gt;   2022 6.15e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  3 OECD members OE    OED    2022 5.96e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  4 Post-demogr… V4    PST    2022 5.60e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  5 IDA &amp; IBRD … ZT    IBT    2022 4.04e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  6 Low &amp; middl… XO    LMY    2022 3.87e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  7 Middle inco… XP    MIC    2022 3.82e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  8 IBRD only    XF    IBD    2022 3.76e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  9 East Asia &amp;… Z4    EAS    2022 3.07e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; 10 Upper middl… XT    &lt;NA&gt;   2022 3.01e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; # ℹ 223 more rows</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
</div>
<div id="年のgdpの降順での表示２" class="section level4" number="3.2.7.3">
<h4>
<span class="header-section-number">3.2.7.3</span> 2021年のGDPの降順での表示（２）<a class="anchor" aria-label="anchor" href="#%E5%B9%B4%E3%81%AEgdp%E3%81%AE%E9%99%8D%E9%A0%86%E3%81%A7%E3%81%AE%E8%A1%A8%E7%A4%BA%EF%BC%92"><i class="fas fa-link"></i></a>
</h4>
<p>最初に、World と表示され、グループや、カテゴリーのデータもあるようですから、それを、まず、削除することが必要です。<code>region</code> の列を見ると、World などは、Aggregates となっているので、そのようなものを削除すればよさそうです。数値の大きい順に並べたいので、<code>desc</code> 降順（descending order）にします。</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2022</span>, <span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 184 × 13</span></span>
<span><span class="co">#&gt;    country      iso2c iso3c  year     gdp status lastupdated</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span><span class="co">#&gt;  1 United Stat… US    USA    2022 2.55e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  2 China        CN    CHN    2022 1.80e13 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  3 Japan        JP    JPN    2022 4.23e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  4 Germany      DE    DEU    2022 4.07e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  5 India        IN    IND    2022 3.39e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  6 United King… GB    GBR    2022 3.07e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  7 France       FR    FRA    2022 2.78e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  8 Russian Fed… RU    RUS    2022 2.24e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt;  9 Canada       CA    CAN    2022 2.14e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; 10 Italy        IT    ITA    2022 2.01e12 NA     2023-07-25 </span></span>
<span><span class="co">#&gt; # ℹ 174 more rows</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<p>これは、グラフではありませんが、これも一つの可視化と考えられないことはありません。</p>
<p>上位７カ国は、United States, China, Japan, Germany, India, United Kingdom, France であることがわかりました。このあと、Russian Federation, Canada, Italy と続き、でここまでが、2022年のGDP が 2兆ドルを越している国となります。</p>
</div>
<div id="fig-3.-2022年時のgdp上位7カ国のgdp経年変化" class="section level4" number="3.2.7.4">
<h4>
<span class="header-section-number">3.2.7.4</span> Fig 3. 2022年時のGDP上位7カ国のGDP経年変化<a class="anchor" aria-label="anchor" href="#fig-3.-2022%E5%B9%B4%E6%99%82%E3%81%AEgdp%E4%B8%8A%E4%BD%8D7%E3%82%AB%E5%9B%BD%E3%81%AEgdp%E7%B5%8C%E5%B9%B4%E5%A4%89%E5%8C%96"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso2c</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"CN"</span>, <span class="st">"JP"</span>, <span class="st">"DE"</span>, <span class="st">"IN"</span>, <span class="st">"GB"</span>, <span class="st">"FR"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gdp</span>, col <span class="op">=</span> <span class="va">iso2c</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 10 rows containing missing values</span></span>
<span><span class="co">#&gt; (`geom_line()`).</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-17-1.png" width="672"></div>
<pre><code>df_gdp |&gt; filter(iso2c %in% c("US", "CN", "JP", "DE", "IN", "GB", "FR")) |&gt;
  ggplot(aes(x = year, y = gdp, col = iso2c)) + geom_line()</code></pre>
<p>ここでは、最初に、<code>filter</code> を使って、7カ国のデータを選択しています。 そのときには、<code>%in%</code> として、国名を、combine するといういみで、<code><a href="https://rdrr.io/r/base/c.html">c()</a></code> とひとまとめにします。数字ではなく、文字なので、引用符で囲んでいます。この場合は、single quote でも構いませんが、半角を使ってください。</p>
<p>このグラフからは、どのようなことがわかりますか。気づいたことを書いてみましょう。</p>
<p>もう少し、このようなグラフをみてみたいというような、メモも大切です。</p>
</div>
<div id="fig-4.-世界のgdp-における割合１" class="section level4" number="3.2.7.5">
<h4>
<span class="header-section-number">3.2.7.5</span> Fig 4. 世界のGDP における割合（１）<a class="anchor" aria-label="anchor" href="#fig-4.-%E4%B8%96%E7%95%8C%E3%81%AEgdp-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%89%B2%E5%90%88%EF%BC%91"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>gdp_ratio <span class="op">=</span> <span class="va">gdp</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso2c</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"CN"</span>, <span class="st">"JP"</span>, <span class="st">"DE"</span>, <span class="st">"IN"</span>, <span class="st">"GB"</span>, <span class="st">"FR"</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gdp_ratio</span>, fill <span class="op">=</span> <span class="va">iso2c</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"black"</span>, position <span class="op">=</span> <span class="st">"stack"</span>, linewidth <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent_format</a></span><span class="op">(</span>accuracy <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-18-1.png" width="672"></div>
<p>まず、下の部分が新しいですが、ここでは、年毎にグループにして、その上で、新しい <code>dgp_ratio</code> という名前の列を追加し、その gdp の値を、gdp 合計で割っています。すなわち、世界の、GDP における割合が計算されています。</p>
<pre><code>  group_by(year) |&gt; mutate(gdp_ratio = gdp/sum(gdp)) |&gt; ungroup() |&gt;</code></pre>
<p>下の部分では、<code>geom_area</code> を使って、<code>fill=iso2c</code> により、<code>iso2c</code> ごとに、違う色を塗って、position = “stack” により、積み上げ型の、グラフを描き、境目がわかりやすいように、0.3 の太さの黒の線を描いてください。また、y 軸は、小数点以下を省いたパーセント表示に変えてください。というコードです。</p>
<pre><code>  ggplot(aes(x = year, y = gdp_ratio, fill = iso2c)) + geom_area() +
  geom_line(col = "black", position = "stack", linewidth = 0.3) + 
  scale_y_continuous(labels = scales::percent_format(accuracy = 1))</code></pre>
</div>
<div id="fig-4.-世界のgdp-における割合２" class="section level4" number="3.2.7.6">
<h4>
<span class="header-section-number">3.2.7.6</span> Fig 4. 世界のGDP における割合（２）<a class="anchor" aria-label="anchor" href="#fig-4.-%E4%B8%96%E7%95%8C%E3%81%AEgdp-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E5%89%B2%E5%90%88%EF%BC%92"><i class="fas fa-link"></i></a>
</h4>
<p>これは、上から、iso2c の アルファベットの順番になっていますが、積み上げの順序を変更することもできます。</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>gdp_ratio <span class="op">=</span> <span class="va">gdp</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iso2c</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"US"</span>, <span class="st">"CN"</span>, <span class="st">"JP"</span>, <span class="st">"DE"</span>, <span class="st">"IN"</span>, <span class="st">"GB"</span>, <span class="st">"FR"</span><span class="op">)</span><span class="op">)</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>iso2co <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">iso2c</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"IN"</span>, <span class="st">"CN"</span>, <span class="st">"FR"</span>, <span class="st">"GB"</span>, <span class="st">"DE"</span>, <span class="st">"JP"</span>, <span class="st">"US"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gdp_ratio</span>, fill <span class="op">=</span> <span class="va">iso2co</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">geom_area</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"black"</span>, position <span class="op">=</span> <span class="st">"stack"</span>, linewidth <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html">percent_format</a></span><span class="op">(</span>accuracy <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-19-1.png" width="672"></div>
<p>これらは、世界全体の GPT における割合です。</p>
<p>どのようなことがわかりますか。</p>
<p>主要国で、60%〜70% を占めていることがわかります。それぞれの国や、幾つかの国の影響力や、その時代による変化も、ある程度みることができるように思います。</p>
<p>気づいたこと、疑問に思ったことなどを、書き出してみてください。</p>
<p>GDP が大きな国と、小さな国があるのはわかりますが、それは、どのように分布しているのでしょうか。</p>
</div>
<div id="fig-5.-2022年の世界の国のgdpの分布１" class="section level4" number="3.2.7.7">
<h4>
<span class="header-section-number">3.2.7.7</span> Fig 5. 2022年の世界の国のGDPの分布（１）<a class="anchor" aria-label="anchor" href="#fig-5.-2022%E5%B9%B4%E3%81%AE%E4%B8%96%E7%95%8C%E3%81%AE%E5%9B%BD%E3%81%AEgdp%E3%81%AE%E5%88%86%E5%B8%83%EF%BC%91"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2022</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span></span>
<span><span class="co">#&gt; `binwidth`.</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-20-1.png" width="672"></div>
<p>小さいところに集中していることがわかりますが、<code><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10()</a></code> を加え、対数軸をとってみます。</p>
<p><span class="math inline">\(log10(1000) = 3\)</span>, <span class="math inline">\(log10(1000000) = 6\)</span>, <span class="math inline">\(log10(1000000000) = 9\)</span> などになります。</p>
</div>
<div id="fig-6.-2022年の世界の国のgdpの分布２" class="section level4" number="3.2.7.8">
<h4>
<span class="header-section-number">3.2.7.8</span> Fig 6. 2022年の世界の国のGDPの分布（２）<a class="anchor" aria-label="anchor" href="#fig-6.-2022%E5%B9%B4%E3%81%AE%E4%B8%96%E7%95%8C%E3%81%AE%E5%9B%BD%E3%81%AEgdp%E3%81%AE%E5%88%86%E5%B8%83%EF%BC%92"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2022</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span></span>
<span><span class="co">#&gt; `binwidth`.</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-21-1.png" width="672"></div>
<p>幅を変更したり、分ける個数を変更するには <code>binwidth = 0.5</code> や、<code>bins = 20</code> を、<code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code> のかっこの中に入れます。</p>
</div>
<div id="fig-7.-2021年の世界の国のgdpの分布３" class="section level4" number="3.2.7.9">
<h4>
<span class="header-section-number">3.2.7.9</span> Fig 7. 2021年の世界の国のGDPの分布（３）<a class="anchor" aria-label="anchor" href="#fig-7.-2021%E5%B9%B4%E3%81%AE%E4%B8%96%E7%95%8C%E3%81%AE%E5%9B%BD%E3%81%AEgdp%E3%81%AE%E5%88%86%E5%B8%83%EF%BC%93"><i class="fas fa-link"></i></a>
</h4>
<p>また、密度曲線に変えるには、<code>geom_density</code> を使います。</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2021</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-22-1.png" width="672"></div>
</div>
<div id="fig-8.-2022年までの世界の国のgdpの分布４" class="section level4" number="3.2.7.10">
<h4>
<span class="header-section-number">3.2.7.10</span> Fig 8. 2022年までの世界の国のGDPの分布（４）<a class="anchor" aria-label="anchor" href="#fig-8.-2022%E5%B9%B4%E3%81%BE%E3%81%A7%E3%81%AE%E4%B8%96%E7%95%8C%E3%81%AE%E5%9B%BD%E3%81%AEgdp%E3%81%AE%E5%88%86%E5%B8%83%EF%BC%94"><i class="fas fa-link"></i></a>
</h4>
<p>これは、2022年のデータですが、10年ごとの、density の変化を見てみます。alpha の値は透明度です。</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1962</span>, <span class="fl">1972</span>, <span class="fl">1982</span>, <span class="fl">1992</span>, <span class="fl">2002</span>, <span class="fl">2012</span>, <span class="fl">2022</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-23-1.png" width="672"></div>
</div>
<div id="fig-9.-2022年の世界の国のgdpの分布５" class="section level4" number="3.2.7.11">
<h4>
<span class="header-section-number">3.2.7.11</span> Fig 9. 2022年の世界の国のGDPの分布（５）<a class="anchor" aria-label="anchor" href="#fig-9.-2022%E5%B9%B4%E3%81%AE%E4%B8%96%E7%95%8C%E3%81%AE%E5%9B%BD%E3%81%AEgdp%E3%81%AE%E5%88%86%E5%B8%83%EF%BC%95"><i class="fas fa-link"></i></a>
</h4>
<p>少しみにくいので、分けてみます。</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1972</span>, <span class="fl">1982</span>, <span class="fl">1992</span>, <span class="fl">2002</span>, <span class="fl">2012</span>, <span class="fl">2022</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-24-1.png" width="672"></div>
</div>
<div id="fig-10.-地域ごとの-gdp-の分布" class="section level4" number="3.2.7.12">
<h4>
<span class="header-section-number">3.2.7.12</span> Fig 10. 地域ごとの GDP の分布<a class="anchor" aria-label="anchor" href="#fig-10.-%E5%9C%B0%E5%9F%9F%E3%81%94%E3%81%A8%E3%81%AE-gdp-%E3%81%AE%E5%88%86%E5%B8%83"><i class="fas fa-link"></i></a>
</h4>
<p>いくつかのグループごとに分布をみてみることも可能です。それには、箱ひげ図（Boxplot）が有効です。箱ひげ図では、そのグループの国を値の大きさの順にならべて、四等分し、その、真ん中の二つが箱の部分に対応しています。また、真ん中の太い線は、中央値（median）を表しています。詳しくは、後ほど説明します。</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span>, <span class="va">region</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
</div>
<div id="fig-11.-収入の多寡による分類ごとの-gdp-分布" class="section level4" number="3.2.7.13">
<h4>
<span class="header-section-number">3.2.7.13</span> Fig 11. 収入の多寡による分類ごとの GDP 分布<a class="anchor" aria-label="anchor" href="#fig-11.-%E5%8F%8E%E5%85%A5%E3%81%AE%E5%A4%9A%E5%AF%A1%E3%81%AB%E3%82%88%E3%82%8B%E5%88%86%E9%A1%9E%E3%81%94%E3%81%A8%E3%81%AE-gdp-%E5%88%86%E5%B8%83"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">income</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">income</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High income"</span>, <span class="st">"Upper middle income"</span>, <span class="st">"Lower middle income"</span>, <span class="st">"Low income"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span>, <span class="va">level</span>, fill <span class="op">=</span> <span class="va">income</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-26-1.png" width="672"></div>
<p>これからも、いろいろなことがわかりますね。点は、外れ値を表しています。外れ値についても、きちんと決まっています。収入の多寡（Income Level）のグループは、GNI per Capita という、一人当たりの国民総所得（GNI を人口で割ったもの）をもとに、世界銀行が決めているものです。</p>
</div>
<div id="世界地図の準備" class="section level4" number="3.2.7.14">
<h4>
<span class="header-section-number">3.2.7.14</span> 世界地図の準備<a class="anchor" aria-label="anchor" href="#%E4%B8%96%E7%95%8C%E5%9C%B0%E5%9B%B3%E3%81%AE%E6%BA%96%E5%82%99"><i class="fas fa-link"></i></a>
</h4>
<p>地図で、国の収入の多寡（income level） をみてみましょう。</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">maps</span><span class="op">)</span></span>
<span><span class="va">gdp_short</span> <span class="op">&lt;-</span> <span class="va">df_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2022</span>, <span class="va">region</span> <span class="op">!=</span> <span class="st">"Aggregates"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iso2c</span>, <span class="va">gdp</span>, <span class="va">income</span><span class="op">)</span></span>
<span><span class="va">map_world</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/map_data.html">map_data</a></span><span class="op">(</span><span class="st">'world'</span><span class="op">)</span></span>
<span><span class="va">map_gdp</span> <span class="op">&lt;-</span> <span class="va">map_world</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>iso2c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/maps/man/iso.expand.html">iso.alpha</a></span><span class="op">(</span><span class="va">region</span>, n<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">gdp_short</span>, by <span class="op">=</span> <span class="st">"iso2c"</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">map_gdp</span><span class="op">)</span></span>
<span><span class="co">#&gt;        long      lat group order region subregion iso2c gdp</span></span>
<span><span class="co">#&gt; 1 -69.89912 12.45200     1     1  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt; 2 -69.89571 12.42300     1     2  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt; 3 -69.94219 12.43853     1     3  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt; 4 -70.00415 12.50049     1     4  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt; 5 -70.06612 12.54697     1     5  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt; 6 -70.05088 12.59707     1     6  Aruba      &lt;NA&gt;    AW  NA</span></span>
<span><span class="co">#&gt;        income</span></span>
<span><span class="co">#&gt; 1 High income</span></span>
<span><span class="co">#&gt; 2 High income</span></span>
<span><span class="co">#&gt; 3 High income</span></span>
<span><span class="co">#&gt; 4 High income</span></span>
<span><span class="co">#&gt; 5 High income</span></span>
<span><span class="co">#&gt; 6 High income</span></span></code></pre></div>
</div>
<div id="fig-12.-income-level-による色分け地図" class="section level4" number="3.2.7.15">
<h4>
<span class="header-section-number">3.2.7.15</span> Fig 12. Income Level による色分け地図<a class="anchor" aria-label="anchor" href="#fig-12.-income-level-%E3%81%AB%E3%82%88%E3%82%8B%E8%89%B2%E5%88%86%E3%81%91%E5%9C%B0%E5%9B%B3"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_gdp</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>income_level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">income</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High income"</span>, <span class="st">"Upper middle income"</span>, <span class="st">"Lower middle income"</span>, <span class="st">"Low income"</span>, <span class="st">"Not classified"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">long</span>, <span class="va">lat</span>, map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">income_level</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">map_world</span>, col <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2</span></span>
<span><span class="co">#&gt; 3.4.0.</span></span>
<span><span class="co">#&gt; ℹ Please use `linewidth` instead.</span></span>
<span><span class="co">#&gt; This warning is displayed once every 8 hours.</span></span>
<span><span class="co">#&gt; Call `lifecycle::last_lifecycle_warnings()` to see where</span></span>
<span><span class="co">#&gt; this warning was generated.</span></span>
<span><span class="co">#&gt; Warning in geom_map(aes(long, lat, map_id = region, fill =</span></span>
<span><span class="co">#&gt; income_level), : Ignoring unknown aesthetics: x and y</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-28-1.png" width="672"></div>
</div>
<div id="fig-13.-gdp-による色分け地図" class="section level4" number="3.2.7.16">
<h4>
<span class="header-section-number">3.2.7.16</span> Fig 13. GDP による色分け地図<a class="anchor" aria-label="anchor" href="#fig-13.-gdp-%E3%81%AB%E3%82%88%E3%82%8B%E8%89%B2%E5%88%86%E3%81%91%E5%9C%B0%E5%9B%B3"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_gdp</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_map.html">geom_map</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">long</span>, y<span class="op">=</span><span class="va">lat</span>, map_id <span class="op">=</span> <span class="va">region</span>, fill <span class="op">=</span> <span class="va">gdp</span><span class="op">)</span>, map <span class="op">=</span> <span class="va">map_world</span>, col <span class="op">=</span> <span class="st">"black"</span>, size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Warning in geom_map(aes(x = long, y = lat, map_id = region,</span></span>
<span><span class="co">#&gt; fill = gdp), : Ignoring unknown aesthetics: x and y</span></span></code></pre></div>
<div class="inline-figure"><img src="03-first-example_files/figure-html/unnamed-chunk-29-1.png" width="672"></div>
</div>
</div>
</div>
<div id="練習" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> 練習<a class="anchor" aria-label="anchor" href="#%E7%B7%B4%E7%BF%92"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>それぞれのグラフから、わかったこと、問いなどを列挙してみましょう。</li>
<li>Fig 1 の　Japan の部分を他の国や、グループ（World など）に変えてみてください。何がわかりますか。</li>
<li>Fig 3 の iso2c で選択する、国を変更してください。何がわかりますか。</li>
<li>Fig 4 または Fig 5 の iso2c の部分を他の国に変更してください。何がわかりますか。</li>
<li>Fig 5 または Fig 6 の、区間の幅や、数を 変更してみてください。何がわかりますか。</li>
<li>Fig 7, Fig 8, Fig 9 の年を変更してみてください。何がわかりますか。</li>
<li>Fig 12, Fig 13 の年を変更してみてください。何がわかりますか。</li>
</ol>
</div>
<div id="プロジェクト" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> プロジェクト<a class="anchor" aria-label="anchor" href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><i class="fas fa-link"></i></a>
</h2>
<p>他のデータで、同様のことをしてみましょう。</p>
<ol style="list-style-type: decimal">
<li>最初に、<code>gdp = "NY.GDP.MKTP.CD"</code> としましたが、GNI per capita, Atlas method (current US$): NY.GNP.PCAP.CD に変えてみましょう。</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_gnppcap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vincentarelbundock.github.io/WDI/reference/WDI.html">WDI</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"all"</span>, </span>
<span>              indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>gnppcap <span class="op">=</span> <span class="st">"NY.GNP.PCAP.CD"</span><span class="op">)</span>, </span>
<span>              extra <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<a href="https://datatopics.worldbank.org/world-development-indicators/">World Development Indicators</a> のサイトの下にある、Data Themes（テーマ）から自分が調べたいテーマを選び、そのテーマから、データコードを取得して、同様の分析をしてみてください。データがあまりない場合もありますので、ある程度データが多いものを選択することをお勧めします。</li>
</ol>
</div>
<div id="まとめ" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> まとめ<a class="anchor" aria-label="anchor" href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fas fa-link"></i></a>
</h2>
<p>今回は、経済指標である、GDP を使いました。データサイエンスについて少しずつ、学んでいきます。</p>
<p>コードの説明は、簡単にしかしていませんから、理解するのは難しいと思いますが、いくつかのことは、ご理解いただけると思います。</p>
<ul>
<li><p>それほど、長くはない、コードで、データを見ていく。R は対話型（interactive）のプログラミング言語と言われています。</p></li>
<li><p>コードに続けて、結果が表示されるので、コードと出力の対応が見やすい。また、コメントや説明も併記することができる。これは、RMarkdown という形式の中で、コードを書いていることによるものです。RMarkdown は、再現性（reproducibility）と、プログラム・コードの内容をコンピュータにわかるようにでなく、人間にもわかるように記述する（Literate Programming）を実現しています。</p></li>
<li><p>視覚化（Visualization）によって、わかることが色々とある。また、視覚化の方法もたくさんあり、いろいろな見方をすることで、データについての理解が深まっていく。</p></li>
<li><p>視覚化を通して、データを理解すること、問いを持ち、他の視覚化などを用いて、さらに、理解を深めることがたいせつ。</p></li>
<li><p>理解したことを元にして、さらに、そのデータ、または、他のデータを使って、新たな発見をしていく。</p></li>
</ul>
<p>統計的な指標も用いますが、それらによって、新しい知識を生み出すとも表現しますが、そのような営み全体が、データサイエンスの核をなす部分だと思います。</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="what2learn.html"><span class="header-section-number">2</span> 学ぶ内容　</a></div>
<div class="next"><a href="wdi-site.html"><span class="header-section-number">4</span> 世界開発指標とオープンデータ</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#first-example"><span class="header-section-number">3</span> はじめてのデータサイエンス</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B5%E3%82%A4%E3%82%A8%E3%83%B3%E3%82%B9%E3%81%AE%E5%AE%9F%E9%9A%9B"><span class="header-section-number">3.1</span> データサイエンスの実際</a></li>
<li>
<a class="nav-link" href="#r-%E3%81%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%82%92%E6%B4%BB%E7%94%A8"><span class="header-section-number">3.2</span> R のパッケージを活用</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%E6%BA%96%E5%82%99-setup"><span class="header-section-number">3.2.1</span> 準備 Setup</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97-import-data"><span class="header-section-number">3.2.2</span> データ取得 Import data</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0%E3%81%AE%E7%A2%BA%E8%AA%8D"><span class="header-section-number">3.2.3</span> データ構造の確認</a></li>
<li><a class="nav-link" href="#%E5%BF%85%E8%A6%81%E3%81%AB%E5%BF%9C%E3%81%98%E3%81%A6%E6%95%B4%E5%BD%A2-transform-data"><span class="header-section-number">3.2.4</span> 必要に応じて整形 Transform data</a></li>
<li><a class="nav-link" href="#%E8%A6%96%E8%A6%9A%E5%8C%96-data-visualization"><span class="header-section-number">3.2.5</span> 視覚化 data visualization</a></li>
<li><a class="nav-link" href="#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%90%86%E8%A7%A3-understand-data"><span class="header-section-number">3.2.6</span> データの理解 Understand data</a></li>
<li><a class="nav-link" href="#%E3%81%95%E3%81%BE%E3%81%96%E3%81%BE%E3%81%AA%E8%A6%96%E8%A6%9A%E5%8C%96"><span class="header-section-number">3.2.7</span> さまざまな視覚化</a></li>
</ul>
</li>
<li><a class="nav-link" href="#%E7%B7%B4%E7%BF%92"><span class="header-section-number">3.3</span> 練習</a></li>
<li><a class="nav-link" href="#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88"><span class="header-section-number">3.4</span> プロジェクト</a></li>
<li><a class="nav-link" href="#%E3%81%BE%E3%81%A8%E3%82%81"><span class="header-section-number">3.5</span> まとめ</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/icu-hsuzuki/ds4aj/blob/master/03-first-example.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/icu-hsuzuki/ds4aj/edit/master/03-first-example.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>データサイエンスをはじめましょう<br>
- Data Science for All -</strong>" was written by 鈴木寛（Hirosi Suzuki）. It was last built on 2023-09-05.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
