<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -</title>

    <meta name="author" content="鈴木寛（Hirosi Suzuki）" />
  
   <meta name="description" content="<p>This is a lecture note using the bookdown package to write a book in Japanese.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://icu-hsuzuki.github.io/ds4aj/" />
  
  <meta property="og:description" content="<p>This is a lecture note using the bookdown package to write a book in Japanese.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 はじめてのデータサイエンス | データサイエンスをはじめましょう - Data Science for All -" />
  
  <meta name="twitter:description" content="<p>This is a lecture note using the bookdown package to write a book in Japanese.
The HTML output format for this example is bookdown::bs4_book,
set in the _output.yml file.</p>" />
  
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.4.2/transition.js"></script>
    <script src="libs/bs3compat-0.4.2/tabs.js"></script>
    <script src="libs/bs3compat-0.4.2/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">データサイエンスをはじめましょう<br />
- Data Science for All -</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="first-example" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> はじめてのデータサイエンス</h1>
<div id="データサイエンスの実際" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> データサイエンスの実際</h2>
<p>データから情報を得るときには、大体次のような手順をとります。</p>
<ol style="list-style-type: decimal">
<li>準備 Setup</li>
<li>データを取得 Import data</li>
<li>データ構造の確認 View data</li>
<li>必要に応じて整形 Transform data</li>
<li>視覚化 Visualize data</li>
<li>データを理解 Understand data</li>
<li>レポートなどにまとめる Communicate data</li>
</ol>
<p>下の図は <a href="https://r4ds.hadley.nz">R for Data Science</a> に掲載されている図です。よく、表現されていると思います。詳細は、少しずつ説明します。</p>
<div class="float">
<img src="https://r4ds.hadley.nz/diagrams/data-science/base.png" width="593" alt="R4DS掲載の画像" />
<div class="figcaption">R4DS掲載の画像</div>
</div>
<p><img src="data/base.png" width="100%" /></p>
<p><a href="https://icu-hsuzuki.github.io/ds4aj/introduction.html#introduction">はじめに</a>に書きましたが、基本的には、問いをもちデータを取得し、視覚化などを通して、データを理解し、さらに問いを深めるサイクルが、データサイエンスの核だと思います。</p>
<blockquote>
<p>R を使った分析の一つの例を、見て行きます。一つ一つのコード（コンピュータ・プログラム）の簡単な説明は、加えますが、あまりそれに捉われず、「データサイエンスとは何か？」を考えながら、雰囲気を味わってください。</p>
</blockquote>
</div>
<div id="r-のパッケージを活用" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> R のパッケージを活用</h2>
<div id="準備-setup" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> 準備 Setup</h3>
<p>世界銀行（World Bank）の、世界開発指標（WDI: World Development Indicators）の一つの、GDP（Gross Domestic Product 国内総生産）のデータから始めます。GDP にも何種類かの尺度がありますが、次のものを見てみます。</p>
<ul>
<li>NY.GDP.MKTP.CD: GDP (current US$)<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a></li>
</ul>
<p>NY.GDP.MKTP.CD は、データコードと言われるもので、世界開発指標（WDI）には、一つづつ決まっています。</p>
<p><a href="https://datatopics.worldbank.org/world-development-indicators/">World Development Indicators</a> のサイトの下にある、Data Themes（テーマ）からテーマを選択し、下にスクロールすると、Code をみることができます。ちなみに、ここで利用する NY.GDP.MKTP.CD: GDP (current US$) は、テーマの Economy（経済）の、一番上にあります。</p>
<p>経済用語の英語はよく知らないという方は、ブラウザー（Edge, Google Chrome, Safari など）の翻訳機能を使うのも良いでしょう。ただ、そのページの対話型の機能（interactive function）を利用するときは、翻訳機能をOFF にする必要がある場合もありますので、注意してください。</p>
<p>エラーメッセージを調べるときなどに、英語のほうが情報がたくさん得られますから、言語を、英語に変更しておきます。</p>
<p>R には、WDI のデータを取得する R のツール（パッケージ）<code>WDI</code> がありますから、それを使います。また、データを取り扱うための基本的なツール（パッケージ）<code>tidyverse</code> を使いますので、次のコードで、これらを読み込みます。\#\&gt; 以下は、コードを実行すると、表示される情報（出力）です。以下同様です。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="first-example.html#cb1-1" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">LANG =</span> <span class="st">&quot;en&quot;</span>) <span class="co"># 言語を英語に</span></span>
<span id="cb1-2"><a href="first-example.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)      <span class="co"># tidyverse パッケージを読み込みます</span></span>
<span id="cb1-3"><a href="first-example.html#cb1-3" tabindex="-1"></a><span class="co">#&gt; ── Attaching core tidyverse packages ──── tidyverse 2.0.0 ──</span></span>
<span id="cb1-4"><a href="first-example.html#cb1-4" tabindex="-1"></a><span class="co">#&gt; ✔ dplyr     1.1.2     ✔ readr     2.1.4</span></span>
<span id="cb1-5"><a href="first-example.html#cb1-5" tabindex="-1"></a><span class="co">#&gt; ✔ forcats   1.0.0     ✔ stringr   1.5.0</span></span>
<span id="cb1-6"><a href="first-example.html#cb1-6" tabindex="-1"></a><span class="co">#&gt; ✔ ggplot2   3.4.2     ✔ tibble    3.2.1</span></span>
<span id="cb1-7"><a href="first-example.html#cb1-7" tabindex="-1"></a><span class="co">#&gt; ✔ lubridate 1.9.2     ✔ tidyr     1.3.0</span></span>
<span id="cb1-8"><a href="first-example.html#cb1-8" tabindex="-1"></a><span class="co">#&gt; ✔ purrr     1.0.1     </span></span>
<span id="cb1-9"><a href="first-example.html#cb1-9" tabindex="-1"></a><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span id="cb1-10"><a href="first-example.html#cb1-10" tabindex="-1"></a><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span id="cb1-11"><a href="first-example.html#cb1-11" tabindex="-1"></a><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span id="cb1-12"><a href="first-example.html#cb1-12" tabindex="-1"></a><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span>
<span id="cb1-13"><a href="first-example.html#cb1-13" tabindex="-1"></a><span class="fu">library</span>(WDI)            <span class="co"># WDI パッケージを読み込みます</span></span></code></pre></div>
<p>データを保存する場所を作成しておくことをお勧めします。保存しておくときは、このディレクトリを使います。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="first-example.html#cb2-1" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;./data&quot;</span>)</span></code></pre></div>
</div>
<div id="データ取得-import-data" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> データ取得 Import data</h3>
<p>データを取得します。少し時間がかかります。取得したデータに、<code>df_gdp</code> などと、わかりやすい名前をつけます。<code>df</code> は <code>data frame</code> の略で、R で標準的なデータの形式です。</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="first-example.html#cb3-1" tabindex="-1"></a>df_gdp <span class="ot">&lt;-</span> <span class="fu">WDI</span>(<span class="at">country =</span> <span class="st">&quot;all&quot;</span>, </span>
<span id="cb3-2"><a href="first-example.html#cb3-2" tabindex="-1"></a>              <span class="at">indicator =</span> <span class="fu">c</span>(<span class="at">gdp =</span> <span class="st">&quot;NY.GDP.MKTP.CD&quot;</span>), </span>
<span id="cb3-3"><a href="first-example.html#cb3-3" tabindex="-1"></a>              <span class="at">extra =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>このコードで、全ての国の GDP を取得できます。GDP の値は、<code>NY.GDP.MKTP.CD</code> という名前の列にありますが、覚えやすいように、gdp という名前に変更しておきます。<code>extra = TRUE</code> とすることによって、それぞれの国についての情報などが追加されます。</p>
</div>
<div id="データ構造の確認" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> データ構造の確認</h3>
<p>最初の数行だけを見るには、<code>head(df_dgp)</code> とします。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="first-example.html#cb4-1" tabindex="-1"></a><span class="fu">head</span>(df_gdp)</span>
<span id="cb4-2"><a href="first-example.html#cb4-2" tabindex="-1"></a><span class="co">#&gt; # A tibble: 6 × 13</span></span>
<span id="cb4-3"><a href="first-example.html#cb4-3" tabindex="-1"></a><span class="co">#&gt;   country     iso2c iso3c  year       gdp status lastupdated</span></span>
<span id="cb4-4"><a href="first-example.html#cb4-4" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span id="cb4-5"><a href="first-example.html#cb4-5" tabindex="-1"></a><span class="co">#&gt; 1 Afghanistan AF    AFG    2015   2.00e10 NA     2022-12-22 </span></span>
<span id="cb4-6"><a href="first-example.html#cb4-6" tabindex="-1"></a><span class="co">#&gt; 2 Afghanistan AF    AFG    2011   1.82e10 NA     2022-12-22 </span></span>
<span id="cb4-7"><a href="first-example.html#cb4-7" tabindex="-1"></a><span class="co">#&gt; 3 Afghanistan AF    AFG    2014   2.06e10 NA     2022-12-22 </span></span>
<span id="cb4-8"><a href="first-example.html#cb4-8" tabindex="-1"></a><span class="co">#&gt; 4 Afghanistan AF    AFG    2013   2.06e10 NA     2022-12-22 </span></span>
<span id="cb4-9"><a href="first-example.html#cb4-9" tabindex="-1"></a><span class="co">#&gt; 5 Afghanistan AF    AFG    2012   2.02e10 NA     2022-12-22 </span></span>
<span id="cb4-10"><a href="first-example.html#cb4-10" tabindex="-1"></a><span class="co">#&gt; 6 Afghanistan AF    AFG    2007   9.72e 9 NA     2022-12-22 </span></span>
<span id="cb4-11"><a href="first-example.html#cb4-11" tabindex="-1"></a><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span id="cb4-12"><a href="first-example.html#cb4-12" tabindex="-1"></a><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span id="cb4-13"><a href="first-example.html#cb4-13" tabindex="-1"></a><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<p>データの構造を見るときには、<code>str(df_gdp)</code> もよく使われます。今度は、列が縦に並んで表示されます。</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="first-example.html#cb5-1" tabindex="-1"></a><span class="fu">str</span>(df_gdp)</span>
<span id="cb5-2"><a href="first-example.html#cb5-2" tabindex="-1"></a><span class="co">#&gt; spc_tbl_ [16,492 × 13] (S3: spec_tbl_df/tbl_df/tbl/data.frame)</span></span>
<span id="cb5-3"><a href="first-example.html#cb5-3" tabindex="-1"></a><span class="co">#&gt;  $ country    : chr [1:16492] &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; &quot;Afghanistan&quot; ...</span></span>
<span id="cb5-4"><a href="first-example.html#cb5-4" tabindex="-1"></a><span class="co">#&gt;  $ iso2c      : chr [1:16492] &quot;AF&quot; &quot;AF&quot; &quot;AF&quot; &quot;AF&quot; ...</span></span>
<span id="cb5-5"><a href="first-example.html#cb5-5" tabindex="-1"></a><span class="co">#&gt;  $ iso3c      : chr [1:16492] &quot;AFG&quot; &quot;AFG&quot; &quot;AFG&quot; &quot;AFG&quot; ...</span></span>
<span id="cb5-6"><a href="first-example.html#cb5-6" tabindex="-1"></a><span class="co">#&gt;  $ year       : num [1:16492] 2015 2011 2014 2013 2012 ...</span></span>
<span id="cb5-7"><a href="first-example.html#cb5-7" tabindex="-1"></a><span class="co">#&gt;  $ gdp        : num [1:16492] 2.00e+10 1.82e+10 2.06e+10 2.06e+10 2.02e+10 ...</span></span>
<span id="cb5-8"><a href="first-example.html#cb5-8" tabindex="-1"></a><span class="co">#&gt;  $ status     : logi [1:16492] NA NA NA NA NA NA ...</span></span>
<span id="cb5-9"><a href="first-example.html#cb5-9" tabindex="-1"></a><span class="co">#&gt;  $ lastupdated: Date[1:16492], format: &quot;2022-12-22&quot; ...</span></span>
<span id="cb5-10"><a href="first-example.html#cb5-10" tabindex="-1"></a><span class="co">#&gt;  $ region     : chr [1:16492] &quot;South Asia&quot; &quot;South Asia&quot; &quot;South Asia&quot; &quot;South Asia&quot; ...</span></span>
<span id="cb5-11"><a href="first-example.html#cb5-11" tabindex="-1"></a><span class="co">#&gt;  $ capital    : chr [1:16492] &quot;Kabul&quot; &quot;Kabul&quot; &quot;Kabul&quot; &quot;Kabul&quot; ...</span></span>
<span id="cb5-12"><a href="first-example.html#cb5-12" tabindex="-1"></a><span class="co">#&gt;  $ longitude  : num [1:16492] 69.2 69.2 69.2 69.2 69.2 ...</span></span>
<span id="cb5-13"><a href="first-example.html#cb5-13" tabindex="-1"></a><span class="co">#&gt;  $ latitude   : num [1:16492] 34.5 34.5 34.5 34.5 34.5 ...</span></span>
<span id="cb5-14"><a href="first-example.html#cb5-14" tabindex="-1"></a><span class="co">#&gt;  $ income     : chr [1:16492] &quot;Low income&quot; &quot;Low income&quot; &quot;Low income&quot; &quot;Low income&quot; ...</span></span>
<span id="cb5-15"><a href="first-example.html#cb5-15" tabindex="-1"></a><span class="co">#&gt;  $ lending    : chr [1:16492] &quot;IDA&quot; &quot;IDA&quot; &quot;IDA&quot; &quot;IDA&quot; ...</span></span>
<span id="cb5-16"><a href="first-example.html#cb5-16" tabindex="-1"></a><span class="co">#&gt;  - attr(*, &quot;spec&quot;)=</span></span>
<span id="cb5-17"><a href="first-example.html#cb5-17" tabindex="-1"></a><span class="co">#&gt;   .. cols(</span></span>
<span id="cb5-18"><a href="first-example.html#cb5-18" tabindex="-1"></a><span class="co">#&gt;   ..   country = col_character(),</span></span>
<span id="cb5-19"><a href="first-example.html#cb5-19" tabindex="-1"></a><span class="co">#&gt;   ..   iso2c = col_character(),</span></span>
<span id="cb5-20"><a href="first-example.html#cb5-20" tabindex="-1"></a><span class="co">#&gt;   ..   iso3c = col_character(),</span></span>
<span id="cb5-21"><a href="first-example.html#cb5-21" tabindex="-1"></a><span class="co">#&gt;   ..   year = col_double(),</span></span>
<span id="cb5-22"><a href="first-example.html#cb5-22" tabindex="-1"></a><span class="co">#&gt;   ..   gdp = col_double(),</span></span>
<span id="cb5-23"><a href="first-example.html#cb5-23" tabindex="-1"></a><span class="co">#&gt;   ..   status = col_logical(),</span></span>
<span id="cb5-24"><a href="first-example.html#cb5-24" tabindex="-1"></a><span class="co">#&gt;   ..   lastupdated = col_date(format = &quot;&quot;),</span></span>
<span id="cb5-25"><a href="first-example.html#cb5-25" tabindex="-1"></a><span class="co">#&gt;   ..   region = col_character(),</span></span>
<span id="cb5-26"><a href="first-example.html#cb5-26" tabindex="-1"></a><span class="co">#&gt;   ..   capital = col_character(),</span></span>
<span id="cb5-27"><a href="first-example.html#cb5-27" tabindex="-1"></a><span class="co">#&gt;   ..   longitude = col_double(),</span></span>
<span id="cb5-28"><a href="first-example.html#cb5-28" tabindex="-1"></a><span class="co">#&gt;   ..   latitude = col_double(),</span></span>
<span id="cb5-29"><a href="first-example.html#cb5-29" tabindex="-1"></a><span class="co">#&gt;   ..   income = col_character(),</span></span>
<span id="cb5-30"><a href="first-example.html#cb5-30" tabindex="-1"></a><span class="co">#&gt;   ..   lending = col_character()</span></span>
<span id="cb5-31"><a href="first-example.html#cb5-31" tabindex="-1"></a><span class="co">#&gt;   .. )</span></span>
<span id="cb5-32"><a href="first-example.html#cb5-32" tabindex="-1"></a><span class="co">#&gt;  - attr(*, &quot;problems&quot;)=&lt;externalptr&gt;</span></span></code></pre></div>
<p>概要 (<code>summary(df_gdp)</code>) からもある程度わかります。</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="first-example.html#cb6-1" tabindex="-1"></a><span class="fu">summary</span>(df_gdp) </span>
<span id="cb6-2"><a href="first-example.html#cb6-2" tabindex="-1"></a><span class="co">#&gt;    country             iso2c              iso3c          </span></span>
<span id="cb6-3"><a href="first-example.html#cb6-3" tabindex="-1"></a><span class="co">#&gt;  Length:16492       Length:16492       Length:16492      </span></span>
<span id="cb6-4"><a href="first-example.html#cb6-4" tabindex="-1"></a><span class="co">#&gt;  Class :character   Class :character   Class :character  </span></span>
<span id="cb6-5"><a href="first-example.html#cb6-5" tabindex="-1"></a><span class="co">#&gt;  Mode  :character   Mode  :character   Mode  :character  </span></span>
<span id="cb6-6"><a href="first-example.html#cb6-6" tabindex="-1"></a><span class="co">#&gt;                                                          </span></span>
<span id="cb6-7"><a href="first-example.html#cb6-7" tabindex="-1"></a><span class="co">#&gt;                                                          </span></span>
<span id="cb6-8"><a href="first-example.html#cb6-8" tabindex="-1"></a><span class="co">#&gt;                                                          </span></span>
<span id="cb6-9"><a href="first-example.html#cb6-9" tabindex="-1"></a><span class="co">#&gt;                                                          </span></span>
<span id="cb6-10"><a href="first-example.html#cb6-10" tabindex="-1"></a><span class="co">#&gt;       year           gdp             status       </span></span>
<span id="cb6-11"><a href="first-example.html#cb6-11" tabindex="-1"></a><span class="co">#&gt;  Min.   :1960   Min.   :8.824e+06   Mode:logical  </span></span>
<span id="cb6-12"><a href="first-example.html#cb6-12" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:1975   1st Qu.:2.441e+09   NA&#39;s:16492    </span></span>
<span id="cb6-13"><a href="first-example.html#cb6-13" tabindex="-1"></a><span class="co">#&gt;  Median :1990   Median :1.784e+10                 </span></span>
<span id="cb6-14"><a href="first-example.html#cb6-14" tabindex="-1"></a><span class="co">#&gt;  Mean   :1990   Mean   :1.162e+12                 </span></span>
<span id="cb6-15"><a href="first-example.html#cb6-15" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:2006   3rd Qu.:2.158e+11                 </span></span>
<span id="cb6-16"><a href="first-example.html#cb6-16" tabindex="-1"></a><span class="co">#&gt;  Max.   :2021   Max.   :9.651e+13                 </span></span>
<span id="cb6-17"><a href="first-example.html#cb6-17" tabindex="-1"></a><span class="co">#&gt;                 NA&#39;s   :3343                      </span></span>
<span id="cb6-18"><a href="first-example.html#cb6-18" tabindex="-1"></a><span class="co">#&gt;   lastupdated            region            capital         </span></span>
<span id="cb6-19"><a href="first-example.html#cb6-19" tabindex="-1"></a><span class="co">#&gt;  Min.   :2022-12-22   Length:16492       Length:16492      </span></span>
<span id="cb6-20"><a href="first-example.html#cb6-20" tabindex="-1"></a><span class="co">#&gt;  1st Qu.:2022-12-22   Class :character   Class :character  </span></span>
<span id="cb6-21"><a href="first-example.html#cb6-21" tabindex="-1"></a><span class="co">#&gt;  Median :2022-12-22   Mode  :character   Mode  :character  </span></span>
<span id="cb6-22"><a href="first-example.html#cb6-22" tabindex="-1"></a><span class="co">#&gt;  Mean   :2022-12-22                                        </span></span>
<span id="cb6-23"><a href="first-example.html#cb6-23" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:2022-12-22                                        </span></span>
<span id="cb6-24"><a href="first-example.html#cb6-24" tabindex="-1"></a><span class="co">#&gt;  Max.   :2022-12-22                                        </span></span>
<span id="cb6-25"><a href="first-example.html#cb6-25" tabindex="-1"></a><span class="co">#&gt;                                                            </span></span>
<span id="cb6-26"><a href="first-example.html#cb6-26" tabindex="-1"></a><span class="co">#&gt;    longitude          latitude          income         </span></span>
<span id="cb6-27"><a href="first-example.html#cb6-27" tabindex="-1"></a><span class="co">#&gt;  Min.   :-175.22   Min.   :-41.286   Length:16492      </span></span>
<span id="cb6-28"><a href="first-example.html#cb6-28" tabindex="-1"></a><span class="co">#&gt;  1st Qu.: -15.18   1st Qu.:  4.174   Class :character  </span></span>
<span id="cb6-29"><a href="first-example.html#cb6-29" tabindex="-1"></a><span class="co">#&gt;  Median :  19.54   Median : 17.277   Mode  :character  </span></span>
<span id="cb6-30"><a href="first-example.html#cb6-30" tabindex="-1"></a><span class="co">#&gt;  Mean   :  19.16   Mean   : 18.740                     </span></span>
<span id="cb6-31"><a href="first-example.html#cb6-31" tabindex="-1"></a><span class="co">#&gt;  3rd Qu.:  50.53   3rd Qu.: 39.715                     </span></span>
<span id="cb6-32"><a href="first-example.html#cb6-32" tabindex="-1"></a><span class="co">#&gt;  Max.   : 179.09   Max.   : 64.184                     </span></span>
<span id="cb6-33"><a href="first-example.html#cb6-33" tabindex="-1"></a><span class="co">#&gt;  NA&#39;s   :3472      NA&#39;s   :3472                        </span></span>
<span id="cb6-34"><a href="first-example.html#cb6-34" tabindex="-1"></a><span class="co">#&gt;    lending         </span></span>
<span id="cb6-35"><a href="first-example.html#cb6-35" tabindex="-1"></a><span class="co">#&gt;  Length:16492      </span></span>
<span id="cb6-36"><a href="first-example.html#cb6-36" tabindex="-1"></a><span class="co">#&gt;  Class :character  </span></span>
<span id="cb6-37"><a href="first-example.html#cb6-37" tabindex="-1"></a><span class="co">#&gt;  Mode  :character  </span></span>
<span id="cb6-38"><a href="first-example.html#cb6-38" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb6-39"><a href="first-example.html#cb6-39" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb6-40"><a href="first-example.html#cb6-40" tabindex="-1"></a><span class="co">#&gt;                    </span></span>
<span id="cb6-41"><a href="first-example.html#cb6-41" tabindex="-1"></a><span class="co">#&gt; </span></span></code></pre></div>
<p>国のリストをみてみましょう。とても長いリストの中には、地域名も含まれています。</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="first-example.html#cb7-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">distinct</span>(country) <span class="sc">|&gt;</span> <span class="fu">pull</span>()</span>
<span id="cb7-2"><a href="first-example.html#cb7-2" tabindex="-1"></a><span class="co">#&gt;   [1] &quot;Afghanistan&quot;                                         </span></span>
<span id="cb7-3"><a href="first-example.html#cb7-3" tabindex="-1"></a><span class="co">#&gt;   [2] &quot;Africa Eastern and Southern&quot;                         </span></span>
<span id="cb7-4"><a href="first-example.html#cb7-4" tabindex="-1"></a><span class="co">#&gt;   [3] &quot;Africa Western and Central&quot;                          </span></span>
<span id="cb7-5"><a href="first-example.html#cb7-5" tabindex="-1"></a><span class="co">#&gt;   [4] &quot;Albania&quot;                                             </span></span>
<span id="cb7-6"><a href="first-example.html#cb7-6" tabindex="-1"></a><span class="co">#&gt;   [5] &quot;Algeria&quot;                                             </span></span>
<span id="cb7-7"><a href="first-example.html#cb7-7" tabindex="-1"></a><span class="co">#&gt;   [6] &quot;American Samoa&quot;                                      </span></span>
<span id="cb7-8"><a href="first-example.html#cb7-8" tabindex="-1"></a><span class="co">#&gt;   [7] &quot;Andorra&quot;                                             </span></span>
<span id="cb7-9"><a href="first-example.html#cb7-9" tabindex="-1"></a><span class="co">#&gt;   [8] &quot;Angola&quot;                                              </span></span>
<span id="cb7-10"><a href="first-example.html#cb7-10" tabindex="-1"></a><span class="co">#&gt;   [9] &quot;Antigua and Barbuda&quot;                                 </span></span>
<span id="cb7-11"><a href="first-example.html#cb7-11" tabindex="-1"></a><span class="co">#&gt;  [10] &quot;Arab World&quot;                                          </span></span>
<span id="cb7-12"><a href="first-example.html#cb7-12" tabindex="-1"></a><span class="co">#&gt;  [11] &quot;Argentina&quot;                                           </span></span>
<span id="cb7-13"><a href="first-example.html#cb7-13" tabindex="-1"></a><span class="co">#&gt;  [12] &quot;Armenia&quot;                                             </span></span>
<span id="cb7-14"><a href="first-example.html#cb7-14" tabindex="-1"></a><span class="co">#&gt;  [13] &quot;Aruba&quot;                                               </span></span>
<span id="cb7-15"><a href="first-example.html#cb7-15" tabindex="-1"></a><span class="co">#&gt;  [14] &quot;Australia&quot;                                           </span></span>
<span id="cb7-16"><a href="first-example.html#cb7-16" tabindex="-1"></a><span class="co">#&gt;  [15] &quot;Austria&quot;                                             </span></span>
<span id="cb7-17"><a href="first-example.html#cb7-17" tabindex="-1"></a><span class="co">#&gt;  [16] &quot;Azerbaijan&quot;                                          </span></span>
<span id="cb7-18"><a href="first-example.html#cb7-18" tabindex="-1"></a><span class="co">#&gt;  [17] &quot;Bahamas, The&quot;                                        </span></span>
<span id="cb7-19"><a href="first-example.html#cb7-19" tabindex="-1"></a><span class="co">#&gt;  [18] &quot;Bahrain&quot;                                             </span></span>
<span id="cb7-20"><a href="first-example.html#cb7-20" tabindex="-1"></a><span class="co">#&gt;  [19] &quot;Bangladesh&quot;                                          </span></span>
<span id="cb7-21"><a href="first-example.html#cb7-21" tabindex="-1"></a><span class="co">#&gt;  [20] &quot;Barbados&quot;                                            </span></span>
<span id="cb7-22"><a href="first-example.html#cb7-22" tabindex="-1"></a><span class="co">#&gt;  [21] &quot;Belarus&quot;                                             </span></span>
<span id="cb7-23"><a href="first-example.html#cb7-23" tabindex="-1"></a><span class="co">#&gt;  [22] &quot;Belgium&quot;                                             </span></span>
<span id="cb7-24"><a href="first-example.html#cb7-24" tabindex="-1"></a><span class="co">#&gt;  [23] &quot;Belize&quot;                                              </span></span>
<span id="cb7-25"><a href="first-example.html#cb7-25" tabindex="-1"></a><span class="co">#&gt;  [24] &quot;Benin&quot;                                               </span></span>
<span id="cb7-26"><a href="first-example.html#cb7-26" tabindex="-1"></a><span class="co">#&gt;  [25] &quot;Bermuda&quot;                                             </span></span>
<span id="cb7-27"><a href="first-example.html#cb7-27" tabindex="-1"></a><span class="co">#&gt;  [26] &quot;Bhutan&quot;                                              </span></span>
<span id="cb7-28"><a href="first-example.html#cb7-28" tabindex="-1"></a><span class="co">#&gt;  [27] &quot;Bolivia&quot;                                             </span></span>
<span id="cb7-29"><a href="first-example.html#cb7-29" tabindex="-1"></a><span class="co">#&gt;  [28] &quot;Bosnia and Herzegovina&quot;                              </span></span>
<span id="cb7-30"><a href="first-example.html#cb7-30" tabindex="-1"></a><span class="co">#&gt;  [29] &quot;Botswana&quot;                                            </span></span>
<span id="cb7-31"><a href="first-example.html#cb7-31" tabindex="-1"></a><span class="co">#&gt;  [30] &quot;Brazil&quot;                                              </span></span>
<span id="cb7-32"><a href="first-example.html#cb7-32" tabindex="-1"></a><span class="co">#&gt;  [31] &quot;British Virgin Islands&quot;                              </span></span>
<span id="cb7-33"><a href="first-example.html#cb7-33" tabindex="-1"></a><span class="co">#&gt;  [32] &quot;Brunei Darussalam&quot;                                   </span></span>
<span id="cb7-34"><a href="first-example.html#cb7-34" tabindex="-1"></a><span class="co">#&gt;  [33] &quot;Bulgaria&quot;                                            </span></span>
<span id="cb7-35"><a href="first-example.html#cb7-35" tabindex="-1"></a><span class="co">#&gt;  [34] &quot;Burkina Faso&quot;                                        </span></span>
<span id="cb7-36"><a href="first-example.html#cb7-36" tabindex="-1"></a><span class="co">#&gt;  [35] &quot;Burundi&quot;                                             </span></span>
<span id="cb7-37"><a href="first-example.html#cb7-37" tabindex="-1"></a><span class="co">#&gt;  [36] &quot;Cabo Verde&quot;                                          </span></span>
<span id="cb7-38"><a href="first-example.html#cb7-38" tabindex="-1"></a><span class="co">#&gt;  [37] &quot;Cambodia&quot;                                            </span></span>
<span id="cb7-39"><a href="first-example.html#cb7-39" tabindex="-1"></a><span class="co">#&gt;  [38] &quot;Cameroon&quot;                                            </span></span>
<span id="cb7-40"><a href="first-example.html#cb7-40" tabindex="-1"></a><span class="co">#&gt;  [39] &quot;Canada&quot;                                              </span></span>
<span id="cb7-41"><a href="first-example.html#cb7-41" tabindex="-1"></a><span class="co">#&gt;  [40] &quot;Caribbean small states&quot;                              </span></span>
<span id="cb7-42"><a href="first-example.html#cb7-42" tabindex="-1"></a><span class="co">#&gt;  [41] &quot;Cayman Islands&quot;                                      </span></span>
<span id="cb7-43"><a href="first-example.html#cb7-43" tabindex="-1"></a><span class="co">#&gt;  [42] &quot;Central African Republic&quot;                            </span></span>
<span id="cb7-44"><a href="first-example.html#cb7-44" tabindex="-1"></a><span class="co">#&gt;  [43] &quot;Central Europe and the Baltics&quot;                      </span></span>
<span id="cb7-45"><a href="first-example.html#cb7-45" tabindex="-1"></a><span class="co">#&gt;  [44] &quot;Chad&quot;                                                </span></span>
<span id="cb7-46"><a href="first-example.html#cb7-46" tabindex="-1"></a><span class="co">#&gt;  [45] &quot;Channel Islands&quot;                                     </span></span>
<span id="cb7-47"><a href="first-example.html#cb7-47" tabindex="-1"></a><span class="co">#&gt;  [46] &quot;Chile&quot;                                               </span></span>
<span id="cb7-48"><a href="first-example.html#cb7-48" tabindex="-1"></a><span class="co">#&gt;  [47] &quot;China&quot;                                               </span></span>
<span id="cb7-49"><a href="first-example.html#cb7-49" tabindex="-1"></a><span class="co">#&gt;  [48] &quot;Colombia&quot;                                            </span></span>
<span id="cb7-50"><a href="first-example.html#cb7-50" tabindex="-1"></a><span class="co">#&gt;  [49] &quot;Comoros&quot;                                             </span></span>
<span id="cb7-51"><a href="first-example.html#cb7-51" tabindex="-1"></a><span class="co">#&gt;  [50] &quot;Congo, Dem. Rep.&quot;                                    </span></span>
<span id="cb7-52"><a href="first-example.html#cb7-52" tabindex="-1"></a><span class="co">#&gt;  [51] &quot;Congo, Rep.&quot;                                         </span></span>
<span id="cb7-53"><a href="first-example.html#cb7-53" tabindex="-1"></a><span class="co">#&gt;  [52] &quot;Costa Rica&quot;                                          </span></span>
<span id="cb7-54"><a href="first-example.html#cb7-54" tabindex="-1"></a><span class="co">#&gt;  [53] &quot;Cote d&#39;Ivoire&quot;                                       </span></span>
<span id="cb7-55"><a href="first-example.html#cb7-55" tabindex="-1"></a><span class="co">#&gt;  [54] &quot;Croatia&quot;                                             </span></span>
<span id="cb7-56"><a href="first-example.html#cb7-56" tabindex="-1"></a><span class="co">#&gt;  [55] &quot;Cuba&quot;                                                </span></span>
<span id="cb7-57"><a href="first-example.html#cb7-57" tabindex="-1"></a><span class="co">#&gt;  [56] &quot;Curacao&quot;                                             </span></span>
<span id="cb7-58"><a href="first-example.html#cb7-58" tabindex="-1"></a><span class="co">#&gt;  [57] &quot;Cyprus&quot;                                              </span></span>
<span id="cb7-59"><a href="first-example.html#cb7-59" tabindex="-1"></a><span class="co">#&gt;  [58] &quot;Czechia&quot;                                             </span></span>
<span id="cb7-60"><a href="first-example.html#cb7-60" tabindex="-1"></a><span class="co">#&gt;  [59] &quot;Denmark&quot;                                             </span></span>
<span id="cb7-61"><a href="first-example.html#cb7-61" tabindex="-1"></a><span class="co">#&gt;  [60] &quot;Djibouti&quot;                                            </span></span>
<span id="cb7-62"><a href="first-example.html#cb7-62" tabindex="-1"></a><span class="co">#&gt;  [61] &quot;Dominica&quot;                                            </span></span>
<span id="cb7-63"><a href="first-example.html#cb7-63" tabindex="-1"></a><span class="co">#&gt;  [62] &quot;Dominican Republic&quot;                                  </span></span>
<span id="cb7-64"><a href="first-example.html#cb7-64" tabindex="-1"></a><span class="co">#&gt;  [63] &quot;Early-demographic dividend&quot;                          </span></span>
<span id="cb7-65"><a href="first-example.html#cb7-65" tabindex="-1"></a><span class="co">#&gt;  [64] &quot;East Asia &amp; Pacific&quot;                                 </span></span>
<span id="cb7-66"><a href="first-example.html#cb7-66" tabindex="-1"></a><span class="co">#&gt;  [65] &quot;East Asia &amp; Pacific (excluding high income)&quot;         </span></span>
<span id="cb7-67"><a href="first-example.html#cb7-67" tabindex="-1"></a><span class="co">#&gt;  [66] &quot;East Asia &amp; Pacific (IDA &amp; IBRD countries)&quot;          </span></span>
<span id="cb7-68"><a href="first-example.html#cb7-68" tabindex="-1"></a><span class="co">#&gt;  [67] &quot;Ecuador&quot;                                             </span></span>
<span id="cb7-69"><a href="first-example.html#cb7-69" tabindex="-1"></a><span class="co">#&gt;  [68] &quot;Egypt, Arab Rep.&quot;                                    </span></span>
<span id="cb7-70"><a href="first-example.html#cb7-70" tabindex="-1"></a><span class="co">#&gt;  [69] &quot;El Salvador&quot;                                         </span></span>
<span id="cb7-71"><a href="first-example.html#cb7-71" tabindex="-1"></a><span class="co">#&gt;  [70] &quot;Equatorial Guinea&quot;                                   </span></span>
<span id="cb7-72"><a href="first-example.html#cb7-72" tabindex="-1"></a><span class="co">#&gt;  [71] &quot;Eritrea&quot;                                             </span></span>
<span id="cb7-73"><a href="first-example.html#cb7-73" tabindex="-1"></a><span class="co">#&gt;  [72] &quot;Estonia&quot;                                             </span></span>
<span id="cb7-74"><a href="first-example.html#cb7-74" tabindex="-1"></a><span class="co">#&gt;  [73] &quot;Eswatini&quot;                                            </span></span>
<span id="cb7-75"><a href="first-example.html#cb7-75" tabindex="-1"></a><span class="co">#&gt;  [74] &quot;Ethiopia&quot;                                            </span></span>
<span id="cb7-76"><a href="first-example.html#cb7-76" tabindex="-1"></a><span class="co">#&gt;  [75] &quot;Euro area&quot;                                           </span></span>
<span id="cb7-77"><a href="first-example.html#cb7-77" tabindex="-1"></a><span class="co">#&gt;  [76] &quot;Europe &amp; Central Asia&quot;                               </span></span>
<span id="cb7-78"><a href="first-example.html#cb7-78" tabindex="-1"></a><span class="co">#&gt;  [77] &quot;Europe &amp; Central Asia (excluding high income)&quot;       </span></span>
<span id="cb7-79"><a href="first-example.html#cb7-79" tabindex="-1"></a><span class="co">#&gt;  [78] &quot;Europe &amp; Central Asia (IDA &amp; IBRD countries)&quot;        </span></span>
<span id="cb7-80"><a href="first-example.html#cb7-80" tabindex="-1"></a><span class="co">#&gt;  [79] &quot;European Union&quot;                                      </span></span>
<span id="cb7-81"><a href="first-example.html#cb7-81" tabindex="-1"></a><span class="co">#&gt;  [80] &quot;Faroe Islands&quot;                                       </span></span>
<span id="cb7-82"><a href="first-example.html#cb7-82" tabindex="-1"></a><span class="co">#&gt;  [81] &quot;Fiji&quot;                                                </span></span>
<span id="cb7-83"><a href="first-example.html#cb7-83" tabindex="-1"></a><span class="co">#&gt;  [82] &quot;Finland&quot;                                             </span></span>
<span id="cb7-84"><a href="first-example.html#cb7-84" tabindex="-1"></a><span class="co">#&gt;  [83] &quot;Fragile and conflict affected situations&quot;            </span></span>
<span id="cb7-85"><a href="first-example.html#cb7-85" tabindex="-1"></a><span class="co">#&gt;  [84] &quot;France&quot;                                              </span></span>
<span id="cb7-86"><a href="first-example.html#cb7-86" tabindex="-1"></a><span class="co">#&gt;  [85] &quot;French Polynesia&quot;                                    </span></span>
<span id="cb7-87"><a href="first-example.html#cb7-87" tabindex="-1"></a><span class="co">#&gt;  [86] &quot;Gabon&quot;                                               </span></span>
<span id="cb7-88"><a href="first-example.html#cb7-88" tabindex="-1"></a><span class="co">#&gt;  [87] &quot;Gambia, The&quot;                                         </span></span>
<span id="cb7-89"><a href="first-example.html#cb7-89" tabindex="-1"></a><span class="co">#&gt;  [88] &quot;Georgia&quot;                                             </span></span>
<span id="cb7-90"><a href="first-example.html#cb7-90" tabindex="-1"></a><span class="co">#&gt;  [89] &quot;Germany&quot;                                             </span></span>
<span id="cb7-91"><a href="first-example.html#cb7-91" tabindex="-1"></a><span class="co">#&gt;  [90] &quot;Ghana&quot;                                               </span></span>
<span id="cb7-92"><a href="first-example.html#cb7-92" tabindex="-1"></a><span class="co">#&gt;  [91] &quot;Gibraltar&quot;                                           </span></span>
<span id="cb7-93"><a href="first-example.html#cb7-93" tabindex="-1"></a><span class="co">#&gt;  [92] &quot;Greece&quot;                                              </span></span>
<span id="cb7-94"><a href="first-example.html#cb7-94" tabindex="-1"></a><span class="co">#&gt;  [93] &quot;Greenland&quot;                                           </span></span>
<span id="cb7-95"><a href="first-example.html#cb7-95" tabindex="-1"></a><span class="co">#&gt;  [94] &quot;Grenada&quot;                                             </span></span>
<span id="cb7-96"><a href="first-example.html#cb7-96" tabindex="-1"></a><span class="co">#&gt;  [95] &quot;Guam&quot;                                                </span></span>
<span id="cb7-97"><a href="first-example.html#cb7-97" tabindex="-1"></a><span class="co">#&gt;  [96] &quot;Guatemala&quot;                                           </span></span>
<span id="cb7-98"><a href="first-example.html#cb7-98" tabindex="-1"></a><span class="co">#&gt;  [97] &quot;Guinea&quot;                                              </span></span>
<span id="cb7-99"><a href="first-example.html#cb7-99" tabindex="-1"></a><span class="co">#&gt;  [98] &quot;Guinea-Bissau&quot;                                       </span></span>
<span id="cb7-100"><a href="first-example.html#cb7-100" tabindex="-1"></a><span class="co">#&gt;  [99] &quot;Guyana&quot;                                              </span></span>
<span id="cb7-101"><a href="first-example.html#cb7-101" tabindex="-1"></a><span class="co">#&gt; [100] &quot;Haiti&quot;                                               </span></span>
<span id="cb7-102"><a href="first-example.html#cb7-102" tabindex="-1"></a><span class="co">#&gt; [101] &quot;Heavily indebted poor countries (HIPC)&quot;              </span></span>
<span id="cb7-103"><a href="first-example.html#cb7-103" tabindex="-1"></a><span class="co">#&gt; [102] &quot;High income&quot;                                         </span></span>
<span id="cb7-104"><a href="first-example.html#cb7-104" tabindex="-1"></a><span class="co">#&gt; [103] &quot;Honduras&quot;                                            </span></span>
<span id="cb7-105"><a href="first-example.html#cb7-105" tabindex="-1"></a><span class="co">#&gt; [104] &quot;Hong Kong SAR, China&quot;                                </span></span>
<span id="cb7-106"><a href="first-example.html#cb7-106" tabindex="-1"></a><span class="co">#&gt; [105] &quot;Hungary&quot;                                             </span></span>
<span id="cb7-107"><a href="first-example.html#cb7-107" tabindex="-1"></a><span class="co">#&gt; [106] &quot;IBRD only&quot;                                           </span></span>
<span id="cb7-108"><a href="first-example.html#cb7-108" tabindex="-1"></a><span class="co">#&gt; [107] &quot;Iceland&quot;                                             </span></span>
<span id="cb7-109"><a href="first-example.html#cb7-109" tabindex="-1"></a><span class="co">#&gt; [108] &quot;IDA &amp; IBRD total&quot;                                    </span></span>
<span id="cb7-110"><a href="first-example.html#cb7-110" tabindex="-1"></a><span class="co">#&gt; [109] &quot;IDA blend&quot;                                           </span></span>
<span id="cb7-111"><a href="first-example.html#cb7-111" tabindex="-1"></a><span class="co">#&gt; [110] &quot;IDA only&quot;                                            </span></span>
<span id="cb7-112"><a href="first-example.html#cb7-112" tabindex="-1"></a><span class="co">#&gt; [111] &quot;IDA total&quot;                                           </span></span>
<span id="cb7-113"><a href="first-example.html#cb7-113" tabindex="-1"></a><span class="co">#&gt; [112] &quot;India&quot;                                               </span></span>
<span id="cb7-114"><a href="first-example.html#cb7-114" tabindex="-1"></a><span class="co">#&gt; [113] &quot;Indonesia&quot;                                           </span></span>
<span id="cb7-115"><a href="first-example.html#cb7-115" tabindex="-1"></a><span class="co">#&gt; [114] &quot;Iran, Islamic Rep.&quot;                                  </span></span>
<span id="cb7-116"><a href="first-example.html#cb7-116" tabindex="-1"></a><span class="co">#&gt; [115] &quot;Iraq&quot;                                                </span></span>
<span id="cb7-117"><a href="first-example.html#cb7-117" tabindex="-1"></a><span class="co">#&gt; [116] &quot;Ireland&quot;                                             </span></span>
<span id="cb7-118"><a href="first-example.html#cb7-118" tabindex="-1"></a><span class="co">#&gt; [117] &quot;Isle of Man&quot;                                         </span></span>
<span id="cb7-119"><a href="first-example.html#cb7-119" tabindex="-1"></a><span class="co">#&gt; [118] &quot;Israel&quot;                                              </span></span>
<span id="cb7-120"><a href="first-example.html#cb7-120" tabindex="-1"></a><span class="co">#&gt; [119] &quot;Italy&quot;                                               </span></span>
<span id="cb7-121"><a href="first-example.html#cb7-121" tabindex="-1"></a><span class="co">#&gt; [120] &quot;Jamaica&quot;                                             </span></span>
<span id="cb7-122"><a href="first-example.html#cb7-122" tabindex="-1"></a><span class="co">#&gt; [121] &quot;Japan&quot;                                               </span></span>
<span id="cb7-123"><a href="first-example.html#cb7-123" tabindex="-1"></a><span class="co">#&gt; [122] &quot;Jordan&quot;                                              </span></span>
<span id="cb7-124"><a href="first-example.html#cb7-124" tabindex="-1"></a><span class="co">#&gt; [123] &quot;Kazakhstan&quot;                                          </span></span>
<span id="cb7-125"><a href="first-example.html#cb7-125" tabindex="-1"></a><span class="co">#&gt; [124] &quot;Kenya&quot;                                               </span></span>
<span id="cb7-126"><a href="first-example.html#cb7-126" tabindex="-1"></a><span class="co">#&gt; [125] &quot;Kiribati&quot;                                            </span></span>
<span id="cb7-127"><a href="first-example.html#cb7-127" tabindex="-1"></a><span class="co">#&gt; [126] &quot;Korea, Dem. People&#39;s Rep.&quot;                           </span></span>
<span id="cb7-128"><a href="first-example.html#cb7-128" tabindex="-1"></a><span class="co">#&gt; [127] &quot;Korea, Rep.&quot;                                         </span></span>
<span id="cb7-129"><a href="first-example.html#cb7-129" tabindex="-1"></a><span class="co">#&gt; [128] &quot;Kosovo&quot;                                              </span></span>
<span id="cb7-130"><a href="first-example.html#cb7-130" tabindex="-1"></a><span class="co">#&gt; [129] &quot;Kuwait&quot;                                              </span></span>
<span id="cb7-131"><a href="first-example.html#cb7-131" tabindex="-1"></a><span class="co">#&gt; [130] &quot;Kyrgyz Republic&quot;                                     </span></span>
<span id="cb7-132"><a href="first-example.html#cb7-132" tabindex="-1"></a><span class="co">#&gt; [131] &quot;Lao PDR&quot;                                             </span></span>
<span id="cb7-133"><a href="first-example.html#cb7-133" tabindex="-1"></a><span class="co">#&gt; [132] &quot;Late-demographic dividend&quot;                           </span></span>
<span id="cb7-134"><a href="first-example.html#cb7-134" tabindex="-1"></a><span class="co">#&gt; [133] &quot;Latin America &amp; Caribbean&quot;                           </span></span>
<span id="cb7-135"><a href="first-example.html#cb7-135" tabindex="-1"></a><span class="co">#&gt; [134] &quot;Latin America &amp; Caribbean (excluding high income)&quot;   </span></span>
<span id="cb7-136"><a href="first-example.html#cb7-136" tabindex="-1"></a><span class="co">#&gt; [135] &quot;Latin America &amp; the Caribbean (IDA &amp; IBRD countries)&quot;</span></span>
<span id="cb7-137"><a href="first-example.html#cb7-137" tabindex="-1"></a><span class="co">#&gt; [136] &quot;Latvia&quot;                                              </span></span>
<span id="cb7-138"><a href="first-example.html#cb7-138" tabindex="-1"></a><span class="co">#&gt; [137] &quot;Least developed countries: UN classification&quot;        </span></span>
<span id="cb7-139"><a href="first-example.html#cb7-139" tabindex="-1"></a><span class="co">#&gt; [138] &quot;Lebanon&quot;                                             </span></span>
<span id="cb7-140"><a href="first-example.html#cb7-140" tabindex="-1"></a><span class="co">#&gt; [139] &quot;Lesotho&quot;                                             </span></span>
<span id="cb7-141"><a href="first-example.html#cb7-141" tabindex="-1"></a><span class="co">#&gt; [140] &quot;Liberia&quot;                                             </span></span>
<span id="cb7-142"><a href="first-example.html#cb7-142" tabindex="-1"></a><span class="co">#&gt; [141] &quot;Libya&quot;                                               </span></span>
<span id="cb7-143"><a href="first-example.html#cb7-143" tabindex="-1"></a><span class="co">#&gt; [142] &quot;Liechtenstein&quot;                                       </span></span>
<span id="cb7-144"><a href="first-example.html#cb7-144" tabindex="-1"></a><span class="co">#&gt; [143] &quot;Lithuania&quot;                                           </span></span>
<span id="cb7-145"><a href="first-example.html#cb7-145" tabindex="-1"></a><span class="co">#&gt; [144] &quot;Low &amp; middle income&quot;                                 </span></span>
<span id="cb7-146"><a href="first-example.html#cb7-146" tabindex="-1"></a><span class="co">#&gt; [145] &quot;Low income&quot;                                          </span></span>
<span id="cb7-147"><a href="first-example.html#cb7-147" tabindex="-1"></a><span class="co">#&gt; [146] &quot;Lower middle income&quot;                                 </span></span>
<span id="cb7-148"><a href="first-example.html#cb7-148" tabindex="-1"></a><span class="co">#&gt; [147] &quot;Luxembourg&quot;                                          </span></span>
<span id="cb7-149"><a href="first-example.html#cb7-149" tabindex="-1"></a><span class="co">#&gt; [148] &quot;Macao SAR, China&quot;                                    </span></span>
<span id="cb7-150"><a href="first-example.html#cb7-150" tabindex="-1"></a><span class="co">#&gt; [149] &quot;Madagascar&quot;                                          </span></span>
<span id="cb7-151"><a href="first-example.html#cb7-151" tabindex="-1"></a><span class="co">#&gt; [150] &quot;Malawi&quot;                                              </span></span>
<span id="cb7-152"><a href="first-example.html#cb7-152" tabindex="-1"></a><span class="co">#&gt; [151] &quot;Malaysia&quot;                                            </span></span>
<span id="cb7-153"><a href="first-example.html#cb7-153" tabindex="-1"></a><span class="co">#&gt; [152] &quot;Maldives&quot;                                            </span></span>
<span id="cb7-154"><a href="first-example.html#cb7-154" tabindex="-1"></a><span class="co">#&gt; [153] &quot;Mali&quot;                                                </span></span>
<span id="cb7-155"><a href="first-example.html#cb7-155" tabindex="-1"></a><span class="co">#&gt; [154] &quot;Malta&quot;                                               </span></span>
<span id="cb7-156"><a href="first-example.html#cb7-156" tabindex="-1"></a><span class="co">#&gt; [155] &quot;Marshall Islands&quot;                                    </span></span>
<span id="cb7-157"><a href="first-example.html#cb7-157" tabindex="-1"></a><span class="co">#&gt; [156] &quot;Mauritania&quot;                                          </span></span>
<span id="cb7-158"><a href="first-example.html#cb7-158" tabindex="-1"></a><span class="co">#&gt; [157] &quot;Mauritius&quot;                                           </span></span>
<span id="cb7-159"><a href="first-example.html#cb7-159" tabindex="-1"></a><span class="co">#&gt; [158] &quot;Mexico&quot;                                              </span></span>
<span id="cb7-160"><a href="first-example.html#cb7-160" tabindex="-1"></a><span class="co">#&gt; [159] &quot;Micronesia, Fed. Sts.&quot;                               </span></span>
<span id="cb7-161"><a href="first-example.html#cb7-161" tabindex="-1"></a><span class="co">#&gt; [160] &quot;Middle East &amp; North Africa&quot;                          </span></span>
<span id="cb7-162"><a href="first-example.html#cb7-162" tabindex="-1"></a><span class="co">#&gt; [161] &quot;Middle East &amp; North Africa (excluding high income)&quot;  </span></span>
<span id="cb7-163"><a href="first-example.html#cb7-163" tabindex="-1"></a><span class="co">#&gt; [162] &quot;Middle East &amp; North Africa (IDA &amp; IBRD countries)&quot;   </span></span>
<span id="cb7-164"><a href="first-example.html#cb7-164" tabindex="-1"></a><span class="co">#&gt; [163] &quot;Middle income&quot;                                       </span></span>
<span id="cb7-165"><a href="first-example.html#cb7-165" tabindex="-1"></a><span class="co">#&gt; [164] &quot;Moldova&quot;                                             </span></span>
<span id="cb7-166"><a href="first-example.html#cb7-166" tabindex="-1"></a><span class="co">#&gt; [165] &quot;Monaco&quot;                                              </span></span>
<span id="cb7-167"><a href="first-example.html#cb7-167" tabindex="-1"></a><span class="co">#&gt; [166] &quot;Mongolia&quot;                                            </span></span>
<span id="cb7-168"><a href="first-example.html#cb7-168" tabindex="-1"></a><span class="co">#&gt; [167] &quot;Montenegro&quot;                                          </span></span>
<span id="cb7-169"><a href="first-example.html#cb7-169" tabindex="-1"></a><span class="co">#&gt; [168] &quot;Morocco&quot;                                             </span></span>
<span id="cb7-170"><a href="first-example.html#cb7-170" tabindex="-1"></a><span class="co">#&gt; [169] &quot;Mozambique&quot;                                          </span></span>
<span id="cb7-171"><a href="first-example.html#cb7-171" tabindex="-1"></a><span class="co">#&gt; [170] &quot;Myanmar&quot;                                             </span></span>
<span id="cb7-172"><a href="first-example.html#cb7-172" tabindex="-1"></a><span class="co">#&gt; [171] &quot;Namibia&quot;                                             </span></span>
<span id="cb7-173"><a href="first-example.html#cb7-173" tabindex="-1"></a><span class="co">#&gt; [172] &quot;Nauru&quot;                                               </span></span>
<span id="cb7-174"><a href="first-example.html#cb7-174" tabindex="-1"></a><span class="co">#&gt; [173] &quot;Nepal&quot;                                               </span></span>
<span id="cb7-175"><a href="first-example.html#cb7-175" tabindex="-1"></a><span class="co">#&gt; [174] &quot;Netherlands&quot;                                         </span></span>
<span id="cb7-176"><a href="first-example.html#cb7-176" tabindex="-1"></a><span class="co">#&gt; [175] &quot;New Caledonia&quot;                                       </span></span>
<span id="cb7-177"><a href="first-example.html#cb7-177" tabindex="-1"></a><span class="co">#&gt; [176] &quot;New Zealand&quot;                                         </span></span>
<span id="cb7-178"><a href="first-example.html#cb7-178" tabindex="-1"></a><span class="co">#&gt; [177] &quot;Nicaragua&quot;                                           </span></span>
<span id="cb7-179"><a href="first-example.html#cb7-179" tabindex="-1"></a><span class="co">#&gt; [178] &quot;Niger&quot;                                               </span></span>
<span id="cb7-180"><a href="first-example.html#cb7-180" tabindex="-1"></a><span class="co">#&gt; [179] &quot;Nigeria&quot;                                             </span></span>
<span id="cb7-181"><a href="first-example.html#cb7-181" tabindex="-1"></a><span class="co">#&gt; [180] &quot;North America&quot;                                       </span></span>
<span id="cb7-182"><a href="first-example.html#cb7-182" tabindex="-1"></a><span class="co">#&gt; [181] &quot;North Macedonia&quot;                                     </span></span>
<span id="cb7-183"><a href="first-example.html#cb7-183" tabindex="-1"></a><span class="co">#&gt; [182] &quot;Northern Mariana Islands&quot;                            </span></span>
<span id="cb7-184"><a href="first-example.html#cb7-184" tabindex="-1"></a><span class="co">#&gt; [183] &quot;Norway&quot;                                              </span></span>
<span id="cb7-185"><a href="first-example.html#cb7-185" tabindex="-1"></a><span class="co">#&gt; [184] &quot;Not classified&quot;                                      </span></span>
<span id="cb7-186"><a href="first-example.html#cb7-186" tabindex="-1"></a><span class="co">#&gt; [185] &quot;OECD members&quot;                                        </span></span>
<span id="cb7-187"><a href="first-example.html#cb7-187" tabindex="-1"></a><span class="co">#&gt; [186] &quot;Oman&quot;                                                </span></span>
<span id="cb7-188"><a href="first-example.html#cb7-188" tabindex="-1"></a><span class="co">#&gt; [187] &quot;Other small states&quot;                                  </span></span>
<span id="cb7-189"><a href="first-example.html#cb7-189" tabindex="-1"></a><span class="co">#&gt; [188] &quot;Pacific island small states&quot;                         </span></span>
<span id="cb7-190"><a href="first-example.html#cb7-190" tabindex="-1"></a><span class="co">#&gt; [189] &quot;Pakistan&quot;                                            </span></span>
<span id="cb7-191"><a href="first-example.html#cb7-191" tabindex="-1"></a><span class="co">#&gt; [190] &quot;Palau&quot;                                               </span></span>
<span id="cb7-192"><a href="first-example.html#cb7-192" tabindex="-1"></a><span class="co">#&gt; [191] &quot;Panama&quot;                                              </span></span>
<span id="cb7-193"><a href="first-example.html#cb7-193" tabindex="-1"></a><span class="co">#&gt; [192] &quot;Papua New Guinea&quot;                                    </span></span>
<span id="cb7-194"><a href="first-example.html#cb7-194" tabindex="-1"></a><span class="co">#&gt; [193] &quot;Paraguay&quot;                                            </span></span>
<span id="cb7-195"><a href="first-example.html#cb7-195" tabindex="-1"></a><span class="co">#&gt; [194] &quot;Peru&quot;                                                </span></span>
<span id="cb7-196"><a href="first-example.html#cb7-196" tabindex="-1"></a><span class="co">#&gt; [195] &quot;Philippines&quot;                                         </span></span>
<span id="cb7-197"><a href="first-example.html#cb7-197" tabindex="-1"></a><span class="co">#&gt; [196] &quot;Poland&quot;                                              </span></span>
<span id="cb7-198"><a href="first-example.html#cb7-198" tabindex="-1"></a><span class="co">#&gt; [197] &quot;Portugal&quot;                                            </span></span>
<span id="cb7-199"><a href="first-example.html#cb7-199" tabindex="-1"></a><span class="co">#&gt; [198] &quot;Post-demographic dividend&quot;                           </span></span>
<span id="cb7-200"><a href="first-example.html#cb7-200" tabindex="-1"></a><span class="co">#&gt; [199] &quot;Pre-demographic dividend&quot;                            </span></span>
<span id="cb7-201"><a href="first-example.html#cb7-201" tabindex="-1"></a><span class="co">#&gt; [200] &quot;Puerto Rico&quot;                                         </span></span>
<span id="cb7-202"><a href="first-example.html#cb7-202" tabindex="-1"></a><span class="co">#&gt; [201] &quot;Qatar&quot;                                               </span></span>
<span id="cb7-203"><a href="first-example.html#cb7-203" tabindex="-1"></a><span class="co">#&gt; [202] &quot;Romania&quot;                                             </span></span>
<span id="cb7-204"><a href="first-example.html#cb7-204" tabindex="-1"></a><span class="co">#&gt; [203] &quot;Russian Federation&quot;                                  </span></span>
<span id="cb7-205"><a href="first-example.html#cb7-205" tabindex="-1"></a><span class="co">#&gt; [204] &quot;Rwanda&quot;                                              </span></span>
<span id="cb7-206"><a href="first-example.html#cb7-206" tabindex="-1"></a><span class="co">#&gt; [205] &quot;Samoa&quot;                                               </span></span>
<span id="cb7-207"><a href="first-example.html#cb7-207" tabindex="-1"></a><span class="co">#&gt; [206] &quot;San Marino&quot;                                          </span></span>
<span id="cb7-208"><a href="first-example.html#cb7-208" tabindex="-1"></a><span class="co">#&gt; [207] &quot;Sao Tome and Principe&quot;                               </span></span>
<span id="cb7-209"><a href="first-example.html#cb7-209" tabindex="-1"></a><span class="co">#&gt; [208] &quot;Saudi Arabia&quot;                                        </span></span>
<span id="cb7-210"><a href="first-example.html#cb7-210" tabindex="-1"></a><span class="co">#&gt; [209] &quot;Senegal&quot;                                             </span></span>
<span id="cb7-211"><a href="first-example.html#cb7-211" tabindex="-1"></a><span class="co">#&gt; [210] &quot;Serbia&quot;                                              </span></span>
<span id="cb7-212"><a href="first-example.html#cb7-212" tabindex="-1"></a><span class="co">#&gt; [211] &quot;Seychelles&quot;                                          </span></span>
<span id="cb7-213"><a href="first-example.html#cb7-213" tabindex="-1"></a><span class="co">#&gt; [212] &quot;Sierra Leone&quot;                                        </span></span>
<span id="cb7-214"><a href="first-example.html#cb7-214" tabindex="-1"></a><span class="co">#&gt; [213] &quot;Singapore&quot;                                           </span></span>
<span id="cb7-215"><a href="first-example.html#cb7-215" tabindex="-1"></a><span class="co">#&gt; [214] &quot;Sint Maarten (Dutch part)&quot;                           </span></span>
<span id="cb7-216"><a href="first-example.html#cb7-216" tabindex="-1"></a><span class="co">#&gt; [215] &quot;Slovak Republic&quot;                                     </span></span>
<span id="cb7-217"><a href="first-example.html#cb7-217" tabindex="-1"></a><span class="co">#&gt; [216] &quot;Slovenia&quot;                                            </span></span>
<span id="cb7-218"><a href="first-example.html#cb7-218" tabindex="-1"></a><span class="co">#&gt; [217] &quot;Small states&quot;                                        </span></span>
<span id="cb7-219"><a href="first-example.html#cb7-219" tabindex="-1"></a><span class="co">#&gt; [218] &quot;Solomon Islands&quot;                                     </span></span>
<span id="cb7-220"><a href="first-example.html#cb7-220" tabindex="-1"></a><span class="co">#&gt; [219] &quot;Somalia&quot;                                             </span></span>
<span id="cb7-221"><a href="first-example.html#cb7-221" tabindex="-1"></a><span class="co">#&gt; [220] &quot;South Africa&quot;                                        </span></span>
<span id="cb7-222"><a href="first-example.html#cb7-222" tabindex="-1"></a><span class="co">#&gt; [221] &quot;South Asia&quot;                                          </span></span>
<span id="cb7-223"><a href="first-example.html#cb7-223" tabindex="-1"></a><span class="co">#&gt; [222] &quot;South Asia (IDA &amp; IBRD)&quot;                             </span></span>
<span id="cb7-224"><a href="first-example.html#cb7-224" tabindex="-1"></a><span class="co">#&gt; [223] &quot;South Sudan&quot;                                         </span></span>
<span id="cb7-225"><a href="first-example.html#cb7-225" tabindex="-1"></a><span class="co">#&gt; [224] &quot;Spain&quot;                                               </span></span>
<span id="cb7-226"><a href="first-example.html#cb7-226" tabindex="-1"></a><span class="co">#&gt; [225] &quot;Sri Lanka&quot;                                           </span></span>
<span id="cb7-227"><a href="first-example.html#cb7-227" tabindex="-1"></a><span class="co">#&gt; [226] &quot;St. Kitts and Nevis&quot;                                 </span></span>
<span id="cb7-228"><a href="first-example.html#cb7-228" tabindex="-1"></a><span class="co">#&gt; [227] &quot;St. Lucia&quot;                                           </span></span>
<span id="cb7-229"><a href="first-example.html#cb7-229" tabindex="-1"></a><span class="co">#&gt; [228] &quot;St. Martin (French part)&quot;                            </span></span>
<span id="cb7-230"><a href="first-example.html#cb7-230" tabindex="-1"></a><span class="co">#&gt; [229] &quot;St. Vincent and the Grenadines&quot;                      </span></span>
<span id="cb7-231"><a href="first-example.html#cb7-231" tabindex="-1"></a><span class="co">#&gt; [230] &quot;Sub-Saharan Africa&quot;                                  </span></span>
<span id="cb7-232"><a href="first-example.html#cb7-232" tabindex="-1"></a><span class="co">#&gt; [231] &quot;Sub-Saharan Africa (excluding high income)&quot;          </span></span>
<span id="cb7-233"><a href="first-example.html#cb7-233" tabindex="-1"></a><span class="co">#&gt; [232] &quot;Sub-Saharan Africa (IDA &amp; IBRD countries)&quot;           </span></span>
<span id="cb7-234"><a href="first-example.html#cb7-234" tabindex="-1"></a><span class="co">#&gt; [233] &quot;Sudan&quot;                                               </span></span>
<span id="cb7-235"><a href="first-example.html#cb7-235" tabindex="-1"></a><span class="co">#&gt; [234] &quot;Suriname&quot;                                            </span></span>
<span id="cb7-236"><a href="first-example.html#cb7-236" tabindex="-1"></a><span class="co">#&gt; [235] &quot;Sweden&quot;                                              </span></span>
<span id="cb7-237"><a href="first-example.html#cb7-237" tabindex="-1"></a><span class="co">#&gt; [236] &quot;Switzerland&quot;                                         </span></span>
<span id="cb7-238"><a href="first-example.html#cb7-238" tabindex="-1"></a><span class="co">#&gt; [237] &quot;Syrian Arab Republic&quot;                                </span></span>
<span id="cb7-239"><a href="first-example.html#cb7-239" tabindex="-1"></a><span class="co">#&gt; [238] &quot;Tajikistan&quot;                                          </span></span>
<span id="cb7-240"><a href="first-example.html#cb7-240" tabindex="-1"></a><span class="co">#&gt; [239] &quot;Tanzania&quot;                                            </span></span>
<span id="cb7-241"><a href="first-example.html#cb7-241" tabindex="-1"></a><span class="co">#&gt; [240] &quot;Thailand&quot;                                            </span></span>
<span id="cb7-242"><a href="first-example.html#cb7-242" tabindex="-1"></a><span class="co">#&gt; [241] &quot;Timor-Leste&quot;                                         </span></span>
<span id="cb7-243"><a href="first-example.html#cb7-243" tabindex="-1"></a><span class="co">#&gt; [242] &quot;Togo&quot;                                                </span></span>
<span id="cb7-244"><a href="first-example.html#cb7-244" tabindex="-1"></a><span class="co">#&gt; [243] &quot;Tonga&quot;                                               </span></span>
<span id="cb7-245"><a href="first-example.html#cb7-245" tabindex="-1"></a><span class="co">#&gt; [244] &quot;Trinidad and Tobago&quot;                                 </span></span>
<span id="cb7-246"><a href="first-example.html#cb7-246" tabindex="-1"></a><span class="co">#&gt; [245] &quot;Tunisia&quot;                                             </span></span>
<span id="cb7-247"><a href="first-example.html#cb7-247" tabindex="-1"></a><span class="co">#&gt; [246] &quot;Turkiye&quot;                                             </span></span>
<span id="cb7-248"><a href="first-example.html#cb7-248" tabindex="-1"></a><span class="co">#&gt; [247] &quot;Turkmenistan&quot;                                        </span></span>
<span id="cb7-249"><a href="first-example.html#cb7-249" tabindex="-1"></a><span class="co">#&gt; [248] &quot;Turks and Caicos Islands&quot;                            </span></span>
<span id="cb7-250"><a href="first-example.html#cb7-250" tabindex="-1"></a><span class="co">#&gt; [249] &quot;Tuvalu&quot;                                              </span></span>
<span id="cb7-251"><a href="first-example.html#cb7-251" tabindex="-1"></a><span class="co">#&gt; [250] &quot;Uganda&quot;                                              </span></span>
<span id="cb7-252"><a href="first-example.html#cb7-252" tabindex="-1"></a><span class="co">#&gt; [251] &quot;Ukraine&quot;                                             </span></span>
<span id="cb7-253"><a href="first-example.html#cb7-253" tabindex="-1"></a><span class="co">#&gt; [252] &quot;United Arab Emirates&quot;                                </span></span>
<span id="cb7-254"><a href="first-example.html#cb7-254" tabindex="-1"></a><span class="co">#&gt; [253] &quot;United Kingdom&quot;                                      </span></span>
<span id="cb7-255"><a href="first-example.html#cb7-255" tabindex="-1"></a><span class="co">#&gt; [254] &quot;United States&quot;                                       </span></span>
<span id="cb7-256"><a href="first-example.html#cb7-256" tabindex="-1"></a><span class="co">#&gt; [255] &quot;Upper middle income&quot;                                 </span></span>
<span id="cb7-257"><a href="first-example.html#cb7-257" tabindex="-1"></a><span class="co">#&gt; [256] &quot;Uruguay&quot;                                             </span></span>
<span id="cb7-258"><a href="first-example.html#cb7-258" tabindex="-1"></a><span class="co">#&gt; [257] &quot;Uzbekistan&quot;                                          </span></span>
<span id="cb7-259"><a href="first-example.html#cb7-259" tabindex="-1"></a><span class="co">#&gt; [258] &quot;Vanuatu&quot;                                             </span></span>
<span id="cb7-260"><a href="first-example.html#cb7-260" tabindex="-1"></a><span class="co">#&gt; [259] &quot;Venezuela, RB&quot;                                       </span></span>
<span id="cb7-261"><a href="first-example.html#cb7-261" tabindex="-1"></a><span class="co">#&gt; [260] &quot;Vietnam&quot;                                             </span></span>
<span id="cb7-262"><a href="first-example.html#cb7-262" tabindex="-1"></a><span class="co">#&gt; [261] &quot;Virgin Islands (U.S.)&quot;                               </span></span>
<span id="cb7-263"><a href="first-example.html#cb7-263" tabindex="-1"></a><span class="co">#&gt; [262] &quot;West Bank and Gaza&quot;                                  </span></span>
<span id="cb7-264"><a href="first-example.html#cb7-264" tabindex="-1"></a><span class="co">#&gt; [263] &quot;World&quot;                                               </span></span>
<span id="cb7-265"><a href="first-example.html#cb7-265" tabindex="-1"></a><span class="co">#&gt; [264] &quot;Yemen, Rep.&quot;                                         </span></span>
<span id="cb7-266"><a href="first-example.html#cb7-266" tabindex="-1"></a><span class="co">#&gt; [265] &quot;Zambia&quot;                                              </span></span>
<span id="cb7-267"><a href="first-example.html#cb7-267" tabindex="-1"></a><span class="co">#&gt; [266] &quot;Zimbabwe&quot;</span></span></code></pre></div>
<p>今回は下のように、<code>|&gt;</code>（パイプと呼びます） で繋げてコードを書きました。</p>
<pre><code>df_gdp |&gt; distinct(country) |&gt; pull()</code></pre>
<p>最初は、データ、その中の、異なる国を選択して、書き出してくださいというものです。</p>
<p>これは、</p>
<pre><code>pull(distinct(df_gdp, country))</code></pre>
<p>と同じです。どんどん、かっこの中に入れ子になって複雑になるので、一つ一つのステップを、順に書いたものが、最初のものになります。</p>
<pre><code>df_gdp |&gt; head()
df_gdp |&gt; str()</code></pre>
<p>なども可能です。かっこの中に最初に入るものが直前のもの、ここでは、データになっています。</p>
</div>
<div id="必要に応じて整形-transform-data" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> 必要に応じて整形 Transform data</h3>
<p>変数が多いので、日本の部分だけ <code>filter</code> を使って選択します。country が Japan と一致する場合のみを選択するときは、<code>==</code> を使います。数値ではないので、引用符をつけます。半角を使ってください。</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="first-example.html#cb11-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Japan&quot;</span>)</span>
<span id="cb11-2"><a href="first-example.html#cb11-2" tabindex="-1"></a><span class="co">#&gt; # A tibble: 62 × 13</span></span>
<span id="cb11-3"><a href="first-example.html#cb11-3" tabindex="-1"></a><span class="co">#&gt;    country iso2c iso3c  year     gdp status lastupdated</span></span>
<span id="cb11-4"><a href="first-example.html#cb11-4" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span id="cb11-5"><a href="first-example.html#cb11-5" tabindex="-1"></a><span class="co">#&gt;  1 Japan   JP    JPN    2021 4.94e12 NA     2022-12-22 </span></span>
<span id="cb11-6"><a href="first-example.html#cb11-6" tabindex="-1"></a><span class="co">#&gt;  2 Japan   JP    JPN    2020 5.04e12 NA     2022-12-22 </span></span>
<span id="cb11-7"><a href="first-example.html#cb11-7" tabindex="-1"></a><span class="co">#&gt;  3 Japan   JP    JPN    2019 5.12e12 NA     2022-12-22 </span></span>
<span id="cb11-8"><a href="first-example.html#cb11-8" tabindex="-1"></a><span class="co">#&gt;  4 Japan   JP    JPN    2018 5.04e12 NA     2022-12-22 </span></span>
<span id="cb11-9"><a href="first-example.html#cb11-9" tabindex="-1"></a><span class="co">#&gt;  5 Japan   JP    JPN    2017 4.93e12 NA     2022-12-22 </span></span>
<span id="cb11-10"><a href="first-example.html#cb11-10" tabindex="-1"></a><span class="co">#&gt;  6 Japan   JP    JPN    2016 5.00e12 NA     2022-12-22 </span></span>
<span id="cb11-11"><a href="first-example.html#cb11-11" tabindex="-1"></a><span class="co">#&gt;  7 Japan   JP    JPN    2015 4.44e12 NA     2022-12-22 </span></span>
<span id="cb11-12"><a href="first-example.html#cb11-12" tabindex="-1"></a><span class="co">#&gt;  8 Japan   JP    JPN    2014 4.90e12 NA     2022-12-22 </span></span>
<span id="cb11-13"><a href="first-example.html#cb11-13" tabindex="-1"></a><span class="co">#&gt;  9 Japan   JP    JPN    2013 5.21e12 NA     2022-12-22 </span></span>
<span id="cb11-14"><a href="first-example.html#cb11-14" tabindex="-1"></a><span class="co">#&gt; 10 Japan   JP    JPN    2012 6.27e12 NA     2022-12-22 </span></span>
<span id="cb11-15"><a href="first-example.html#cb11-15" tabindex="-1"></a><span class="co">#&gt; # ℹ 52 more rows</span></span>
<span id="cb11-16"><a href="first-example.html#cb11-16" tabindex="-1"></a><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span id="cb11-17"><a href="first-example.html#cb11-17" tabindex="-1"></a><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span id="cb11-18"><a href="first-example.html#cb11-18" tabindex="-1"></a><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="first-example.html#cb12-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Japan&quot;</span>) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">2</span>)</span>
<span id="cb12-2"><a href="first-example.html#cb12-2" tabindex="-1"></a><span class="co">#&gt; # A tibble: 2 × 13</span></span>
<span id="cb12-3"><a href="first-example.html#cb12-3" tabindex="-1"></a><span class="co">#&gt;   country iso2c iso3c  year     gdp status lastupdated</span></span>
<span id="cb12-4"><a href="first-example.html#cb12-4" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span id="cb12-5"><a href="first-example.html#cb12-5" tabindex="-1"></a><span class="co">#&gt; 1 Japan   JP    JPN    2021 4.94e12 NA     2022-12-22 </span></span>
<span id="cb12-6"><a href="first-example.html#cb12-6" tabindex="-1"></a><span class="co">#&gt; 2 Japan   JP    JPN    2020 5.04e12 NA     2022-12-22 </span></span>
<span id="cb12-7"><a href="first-example.html#cb12-7" tabindex="-1"></a><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span id="cb12-8"><a href="first-example.html#cb12-8" tabindex="-1"></a><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span id="cb12-9"><a href="first-example.html#cb12-9" tabindex="-1"></a><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<p>２行目の、gdp の、4.940878e+12 は、Scientific notation と言われるもので、 <span class="math display">\[4.940878 \times 10^{12} = 4,940,887,800,000\]</span> を意味します。<code>e+3</code> は千（thousand）、<code>e+6</code> は百万（million）、<code>e+9</code> は、10億（billion）、<code>e+12</code> は、兆（trillion）ですから、日本の、2021 年の GDP は、約5兆ドルとなります。</p>
</div>
<div id="視覚化-data-visualization" class="section level3" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> 視覚化 data visualization</h3>
<div id="fig-1.-日本のgdp-の経年変化を折線グラフline-graph" class="section level4" number="3.2.5.1">
<h4><span class="header-section-number">3.2.5.1</span> Fig 1. 日本のGDP の経年変化を折線グラフ（line graph）</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="first-example.html#cb13-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Japan&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="first-example.html#cb13-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre><code>df_gdp |&gt; filter(country == &quot;Japan&quot;) |&gt;
  ggplot(aes(x = year, y = gdp)) + geom_line()</code></pre>
<p>日本を選択したときに、それに名前をつけておいて、それを使うこともできますが、名前がどんどん増えるので、それに続けて、コードを書いていく方法をとっています。</p>
<p><code>ggplot(aes(x = year, y = gdp)) + geom_line()</code></p>
<p>の部分が、グラフを描く部分で、「x 軸を、year、y 軸を、gdp として、それを、折線グラフで描いてください」というコードです。</p>
<p>Warning: [38;5;238mRemoved 1 row containing missing values</p>
<p>と表示されています。値がない年があることを言っています。2022年のデータがないことがわかっていますから、最初から削除してこくことも可能です。</p>
</div>
</div>
<div id="データの理解-understand-data" class="section level3" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> データの理解 Understand data</h3>
<p>視覚化によって見えてくることがいくつもありますね。どんなことがわかりますか。気づいたこと（observation）をあげてみましょう。</p>
<p>コードを描くことではなく、この部分が、データサイエンスの核の部分です。気づいたことを列挙してみましょう。</p>
</div>
<div id="さまざまな視覚化" class="section level3" number="3.2.7">
<h3><span class="header-section-number">3.2.7</span> さまざまな視覚化</h3>
<div id="fig-2.-各年ごとのデータの数" class="section level4" number="3.2.7.1">
<h4><span class="header-section-number">3.2.7.1</span> Fig 2. 各年ごとのデータの数</h4>
<p><code>summary(df_gdp)</code> で、データ自体は、1960年から2022年までのようですが、日本も、2022年のデータはありませんでしたから、年によって、どの程度データがあるか、調べてみます。</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="first-example.html#cb15-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre><code>df_gdp |&gt; drop_na(gdp) |&gt; ggplot(aes(x = year)) + geom_bar()</code></pre>
<p>バー・グラフを使いますが、<code>gdp</code> の値が、欠損値（NA: not available）のデータを削除してから、グラフを描きます。</p>
</div>
<div id="年のgdpの降順での表示１" class="section level4" number="3.2.7.2">
<h4><span class="header-section-number">3.2.7.2</span> 2021年のGDPの降順での表示（１）</h4>
<p>最新の2021年のデータはすべてあるわけではなさそうですが、<code>gdp</code> の値が大きい順に並べてみましょう。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="first-example.html#cb17-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(gdp))</span>
<span id="cb17-2"><a href="first-example.html#cb17-2" tabindex="-1"></a><span class="co">#&gt; # A tibble: 245 × 13</span></span>
<span id="cb17-3"><a href="first-example.html#cb17-3" tabindex="-1"></a><span class="co">#&gt;    country      iso2c iso3c  year     gdp status lastupdated</span></span>
<span id="cb17-4"><a href="first-example.html#cb17-4" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span id="cb17-5"><a href="first-example.html#cb17-5" tabindex="-1"></a><span class="co">#&gt;  1 World        1W    WLD    2021 9.65e13 NA     2022-12-22 </span></span>
<span id="cb17-6"><a href="first-example.html#cb17-6" tabindex="-1"></a><span class="co">#&gt;  2 High income  XD    &lt;NA&gt;   2021 5.98e13 NA     2022-12-22 </span></span>
<span id="cb17-7"><a href="first-example.html#cb17-7" tabindex="-1"></a><span class="co">#&gt;  3 OECD members OE    OED    2021 5.83e13 NA     2022-12-22 </span></span>
<span id="cb17-8"><a href="first-example.html#cb17-8" tabindex="-1"></a><span class="co">#&gt;  4 Post-demogr… V4    PST    2021 5.50e13 NA     2022-12-22 </span></span>
<span id="cb17-9"><a href="first-example.html#cb17-9" tabindex="-1"></a><span class="co">#&gt;  5 IDA &amp; IBRD … ZT    IBT    2021 3.80e13 NA     2022-12-22 </span></span>
<span id="cb17-10"><a href="first-example.html#cb17-10" tabindex="-1"></a><span class="co">#&gt;  6 Low &amp; middl… XO    LMY    2021 3.64e13 NA     2022-12-22 </span></span>
<span id="cb17-11"><a href="first-example.html#cb17-11" tabindex="-1"></a><span class="co">#&gt;  7 Middle inco… XP    MIC    2021 3.58e13 NA     2022-12-22 </span></span>
<span id="cb17-12"><a href="first-example.html#cb17-12" tabindex="-1"></a><span class="co">#&gt;  8 IBRD only    XF    IBD    2021 3.55e13 NA     2022-12-22 </span></span>
<span id="cb17-13"><a href="first-example.html#cb17-13" tabindex="-1"></a><span class="co">#&gt;  9 East Asia &amp;… Z4    EAS    2021 3.09e13 NA     2022-12-22 </span></span>
<span id="cb17-14"><a href="first-example.html#cb17-14" tabindex="-1"></a><span class="co">#&gt; 10 Upper middl… XT    &lt;NA&gt;   2021 2.71e13 NA     2022-12-22 </span></span>
<span id="cb17-15"><a href="first-example.html#cb17-15" tabindex="-1"></a><span class="co">#&gt; # ℹ 235 more rows</span></span>
<span id="cb17-16"><a href="first-example.html#cb17-16" tabindex="-1"></a><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span id="cb17-17"><a href="first-example.html#cb17-17" tabindex="-1"></a><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span id="cb17-18"><a href="first-example.html#cb17-18" tabindex="-1"></a><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
</div>
<div id="年のgdpの降順での表示２" class="section level4" number="3.2.7.3">
<h4><span class="header-section-number">3.2.7.3</span> 2021年のGDPの降順での表示（２）</h4>
<p>最初に、World と表示され、グループや、カテゴリーのデータもあるようですから、それを、まず、削除することが必要です。<code>region</code> の列を見ると、World などは、Aggregates となっているので、そのようなものを削除すればよさそうです。数値の大きい順に並べたいので、<code>desc</code> 降順（descending order）にします。</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="first-example.html#cb18-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>, region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="first-example.html#cb18-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(gdp))</span>
<span id="cb18-3"><a href="first-example.html#cb18-3" tabindex="-1"></a><span class="co">#&gt; # A tibble: 196 × 13</span></span>
<span id="cb18-4"><a href="first-example.html#cb18-4" tabindex="-1"></a><span class="co">#&gt;    country      iso2c iso3c  year     gdp status lastupdated</span></span>
<span id="cb18-5"><a href="first-example.html#cb18-5" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;  &lt;date&gt;     </span></span>
<span id="cb18-6"><a href="first-example.html#cb18-6" tabindex="-1"></a><span class="co">#&gt;  1 United Stat… US    USA    2021 2.33e13 NA     2022-12-22 </span></span>
<span id="cb18-7"><a href="first-example.html#cb18-7" tabindex="-1"></a><span class="co">#&gt;  2 China        CN    CHN    2021 1.77e13 NA     2022-12-22 </span></span>
<span id="cb18-8"><a href="first-example.html#cb18-8" tabindex="-1"></a><span class="co">#&gt;  3 Japan        JP    JPN    2021 4.94e12 NA     2022-12-22 </span></span>
<span id="cb18-9"><a href="first-example.html#cb18-9" tabindex="-1"></a><span class="co">#&gt;  4 Germany      DE    DEU    2021 4.26e12 NA     2022-12-22 </span></span>
<span id="cb18-10"><a href="first-example.html#cb18-10" tabindex="-1"></a><span class="co">#&gt;  5 India        IN    IND    2021 3.18e12 NA     2022-12-22 </span></span>
<span id="cb18-11"><a href="first-example.html#cb18-11" tabindex="-1"></a><span class="co">#&gt;  6 United King… GB    GBR    2021 3.13e12 NA     2022-12-22 </span></span>
<span id="cb18-12"><a href="first-example.html#cb18-12" tabindex="-1"></a><span class="co">#&gt;  7 France       FR    FRA    2021 2.96e12 NA     2022-12-22 </span></span>
<span id="cb18-13"><a href="first-example.html#cb18-13" tabindex="-1"></a><span class="co">#&gt;  8 Italy        IT    ITA    2021 2.11e12 NA     2022-12-22 </span></span>
<span id="cb18-14"><a href="first-example.html#cb18-14" tabindex="-1"></a><span class="co">#&gt;  9 Canada       CA    CAN    2021 1.99e12 NA     2022-12-22 </span></span>
<span id="cb18-15"><a href="first-example.html#cb18-15" tabindex="-1"></a><span class="co">#&gt; 10 Korea, Rep.  KR    KOR    2021 1.81e12 NA     2022-12-22 </span></span>
<span id="cb18-16"><a href="first-example.html#cb18-16" tabindex="-1"></a><span class="co">#&gt; # ℹ 186 more rows</span></span>
<span id="cb18-17"><a href="first-example.html#cb18-17" tabindex="-1"></a><span class="co">#&gt; # ℹ 6 more variables: region &lt;chr&gt;, capital &lt;chr&gt;,</span></span>
<span id="cb18-18"><a href="first-example.html#cb18-18" tabindex="-1"></a><span class="co">#&gt; #   longitude &lt;dbl&gt;, latitude &lt;dbl&gt;, income &lt;chr&gt;,</span></span>
<span id="cb18-19"><a href="first-example.html#cb18-19" tabindex="-1"></a><span class="co">#&gt; #   lending &lt;chr&gt;</span></span></code></pre></div>
<p>これは、グラフではありませんが、これも一つの視覚化とも考えられないことはありません。</p>
<p>上位７カ国は、United States, China, Japan, Germany, India, United Kingdom, France であることがわかりました。8番目は、Italy でここまでが、GDP が 2兆ドルを越している国となります。</p>
</div>
<div id="fig-3.-2021年時のgdp上位7カ国のgdp経年変化" class="section level4" number="3.2.7.4">
<h4><span class="header-section-number">3.2.7.4</span> Fig 3. 2021年時のGDP上位7カ国のGDP経年変化</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="first-example.html#cb19-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(iso2c <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;CN&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;IN&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;FR&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="first-example.html#cb19-2" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp, <span class="at">col =</span> iso2c)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span>
<span id="cb19-3"><a href="first-example.html#cb19-3" tabindex="-1"></a><span class="co">#&gt; Warning: Removed 10 rows containing missing values</span></span>
<span id="cb19-4"><a href="first-example.html#cb19-4" tabindex="-1"></a><span class="co">#&gt; (`geom_line()`).</span></span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre><code>df_gdp |&gt; filter(iso2c %in% c(&quot;US&quot;, &quot;CN&quot;, &quot;JP&quot;, &quot;DE&quot;, &quot;IN&quot;, &quot;GB&quot;, &quot;FR&quot;)) |&gt;
  ggplot(aes(x = year, y = gdp, col = iso2c)) + geom_line()</code></pre>
<p>ここでは、最初に、<code>filter</code> を使って、7カ国のデータを選択しています。 そのときには、<code>%in%</code> として、国名を、combine するといういみで、<code>c()</code> とひとまとめにします。数字ではなく、文字なので、引用符で囲んでいます。この場合は、single quote でも構いませんが、半角を使ってください。</p>
<p>このグラフからは、どのようなことがわかりますか。気づいたことを書いてみましょう。</p>
<p>もう少し、このようなグラフをみてみたいというような、メモも大切です。</p>
</div>
<div id="fig-4.-世界のgdp-における割合１" class="section level4" number="3.2.7.5">
<h4><span class="header-section-number">3.2.7.5</span> Fig 4. 世界のGDP における割合（１）</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="first-example.html#cb21-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> </span>
<span id="cb21-2"><a href="first-example.html#cb21-2" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="first-example.html#cb21-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">gdp_ratio =</span> gdp<span class="sc">/</span><span class="fu">sum</span>(gdp)) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="first-example.html#cb21-4" tabindex="-1"></a>  <span class="fu">filter</span>(iso2c <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;CN&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;IN&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;FR&quot;</span>))  <span class="sc">|&gt;</span></span>
<span id="cb21-5"><a href="first-example.html#cb21-5" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp_ratio, <span class="at">fill =</span> iso2c)) <span class="sc">+</span> <span class="fu">geom_area</span>() <span class="sc">+</span></span>
<span id="cb21-6"><a href="first-example.html#cb21-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span> </span>
<span id="cb21-7"><a href="first-example.html#cb21-7" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>まず、下の部分が新しいですが、ここでは、年毎にグループにして、その上で、新しい <code>dgp_ratio</code> という名前の列を追加し、その gdp の値を、gdp 合計で割っています。すなわち、世界の、GDP における割合が計算されています。</p>
<pre><code>  group_by(year) |&gt; mutate(gdp_ratio = gdp/sum(gdp)) |&gt; ungroup() |&gt;</code></pre>
<p>下の部分では、<code>geom_area</code> を使って、<code>fill=iso2c</code> により、<code>iso2c</code> ごとに、違う色を塗って、position = “stack” により、積み上げ型の、グラフを描き、境目がわかりやすいように、0.3 の太さの黒の線を描いてください。また、y 軸は、小数点以下を省いたパーセント表示に変えてください。というコードです。</p>
<pre><code>  ggplot(aes(x = year, y = gdp_ratio, fill = iso2c)) + geom_area() +
  geom_line(col = &quot;black&quot;, position = &quot;stack&quot;, linewidth = 0.3) + 
  scale_y_continuous(labels = scales::percent_format(accuracy = 1))</code></pre>
</div>
<div id="fig-4.-世界のgdp-における割合２" class="section level4" number="3.2.7.6">
<h4><span class="header-section-number">3.2.7.6</span> Fig 4. 世界のGDP における割合（２）</h4>
<p>これは、上から、iso2c の アルファベットの順番になっていますが、積み上げの順序を変更することもできます。</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="first-example.html#cb24-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="first-example.html#cb24-2" tabindex="-1"></a>  <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="first-example.html#cb24-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">gdp_ratio =</span> gdp<span class="sc">/</span><span class="fu">sum</span>(gdp)) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="first-example.html#cb24-4" tabindex="-1"></a>  <span class="fu">filter</span>(iso2c <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;US&quot;</span>, <span class="st">&quot;CN&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;IN&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;FR&quot;</span>))  <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="first-example.html#cb24-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">iso2co =</span> <span class="fu">factor</span>(iso2c, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;IN&quot;</span>, <span class="st">&quot;CN&quot;</span>, <span class="st">&quot;FR&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;US&quot;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb24-6"><a href="first-example.html#cb24-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp_ratio, <span class="at">fill =</span> iso2co)) <span class="sc">+</span> <span class="fu">geom_area</span>() <span class="sc">+</span></span>
<span id="cb24-7"><a href="first-example.html#cb24-7" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>) <span class="sc">+</span> </span>
<span id="cb24-8"><a href="first-example.html#cb24-8" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>(<span class="at">accuracy =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>これらは、世界全体の GPT における割合です。</p>
<p>どのようなことがわかりますか。</p>
<p>主要国で、60%〜70% を占めていることがわかります。それぞれの国や、幾つかの国の影響力も、ある程度みることができるように見えます。</p>
<p>気づいたこと、疑問に思ったことなどを、書き出してみてください。</p>
<p>GDP が大きな国と、小さな国があるのはわかりますが、それは、どのように分布しているのでしょうか。</p>
</div>
<div id="fig-5.-2021年の世界の国のgdpの分布１" class="section level4" number="3.2.7.7">
<h4><span class="header-section-number">3.2.7.7</span> Fig 5. 2021年の世界の国のGDPの分布（１）</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="first-example.html#cb25-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="first-example.html#cb25-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="first-example.html#cb25-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp)) <span class="sc">+</span> <span class="fu">geom_histogram</span>()</span>
<span id="cb25-4"><a href="first-example.html#cb25-4" tabindex="-1"></a><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span></span>
<span id="cb25-5"><a href="first-example.html#cb25-5" tabindex="-1"></a><span class="co">#&gt; `binwidth`.</span></span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>小さいところに集中していることがわかりますが、<code>scale_x_log10()</code> を加え、対数軸をとってみます。</p>
<p><span class="math inline">\(log10(1000) = 3\)</span>, <span class="math inline">\(log10(1000000) = 6\)</span>, <span class="math inline">\(log10(1000000000) = 9\)</span> などになります。</p>
</div>
<div id="fig-6.-2021年の世界の国のgdpの分布２" class="section level4" number="3.2.7.8">
<h4><span class="header-section-number">3.2.7.8</span> Fig 6. 2021年の世界の国のGDPの分布（２）</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="first-example.html#cb26-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="first-example.html#cb26-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="first-example.html#cb26-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp)) <span class="sc">+</span> <span class="fu">geom_histogram</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span>
<span id="cb26-4"><a href="first-example.html#cb26-4" tabindex="-1"></a><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with</span></span>
<span id="cb26-5"><a href="first-example.html#cb26-5" tabindex="-1"></a><span class="co">#&gt; `binwidth`.</span></span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>幅を変更したり、分ける個数を変更するには <code>binwidth = 0.5</code> や、<code>bins = 20</code> を、<code>geom_histogram()</code> のかっこの中に入れます。</p>
</div>
<div id="fig-7.-2021年の世界の国のgdpの分布３" class="section level4" number="3.2.7.9">
<h4><span class="header-section-number">3.2.7.9</span> Fig 7. 2021年の世界の国のGDPの分布（３）</h4>
<p>また、密度曲線に変えるには、<code>geom_density</code> を使います。</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="first-example.html#cb27-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="first-example.html#cb27-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>) <span class="sc">|&gt;</span> <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="first-example.html#cb27-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp)) <span class="sc">+</span> <span class="fu">geom_density</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
<div id="fig-8.-2021年の世界の国のgdpの分布４" class="section level4" number="3.2.7.10">
<h4><span class="header-section-number">3.2.7.10</span> Fig 8. 2021年の世界の国のGDPの分布（４）</h4>
<p>これは、2021年のデータですが、density の変化を見てみます。alpha の値は透明度です。</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="first-example.html#cb28-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="first-example.html#cb28-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1961</span>, <span class="dv">1971</span>, <span class="dv">1981</span>, <span class="dv">1991</span>, <span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>)) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="first-example.html#cb28-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp, <span class="at">fill =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span> <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span> <span class="fu">scale_x_log10</span>()</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
<div id="fig-9.-2021年の世界の国のgdpの分布５" class="section level4" number="3.2.7.11">
<h4><span class="header-section-number">3.2.7.11</span> Fig 9. 2021年の世界の国のGDPの分布（５）</h4>
<p>少しみにくいので、分けてみます。</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="first-example.html#cb29-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="first-example.html#cb29-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1971</span>, <span class="dv">1981</span>, <span class="dv">1991</span>, <span class="dv">2001</span>, <span class="dv">2011</span>, <span class="dv">2021</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="first-example.html#cb29-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp, <span class="at">fill =</span> <span class="fu">factor</span>(year))) <span class="sc">+</span> </span>
<span id="cb29-4"><a href="first-example.html#cb29-4" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span>year)</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="fig-10.-地域ごとの-gdp-の分布" class="section level4" number="3.2.7.12">
<h4><span class="header-section-number">3.2.7.12</span> Fig 10. 地域ごとの GDP の分布</h4>
<p>いくつかのグループごとに分布をみてみることも可能です。それには、Boxplot が有効です。</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="first-example.html#cb30-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="first-example.html#cb30-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(region) <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2021</span>)) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="first-example.html#cb30-3" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp, region, <span class="at">fill =</span> region)) <span class="sc">+</span> </span>
<span id="cb30-4"><a href="first-example.html#cb30-4" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb30-5"><a href="first-example.html#cb30-5" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="fig-11.-収入の多寡による分類ごとの-gdp-分布" class="section level4" number="3.2.7.13">
<h4><span class="header-section-number">3.2.7.13</span> Fig 11. 収入の多寡による分類ごとの GDP 分布</h4>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="first-example.html#cb31-1" tabindex="-1"></a>df_gdp <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(gdp) <span class="sc">|&gt;</span> <span class="fu">filter</span>(region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="first-example.html#cb31-2" tabindex="-1"></a>  <span class="fu">drop_na</span>(income) <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2021</span>)) <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="first-example.html#cb31-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">level =</span> <span class="fu">factor</span>(income, <span class="fu">c</span>(<span class="st">&quot;High income&quot;</span>, <span class="st">&quot;Upper middle income&quot;</span>, <span class="st">&quot;Lower middle income&quot;</span>, <span class="st">&quot;Low income&quot;</span>))) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="first-example.html#cb31-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdp, level, <span class="at">fill =</span> income)) <span class="sc">+</span> </span>
<span id="cb31-5"><a href="first-example.html#cb31-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> <span class="fu">scale_x_log10</span>() <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb31-6"><a href="first-example.html#cb31-6" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>これからも、いろいろなことがわかりますね。</p>
</div>
<div id="世界地図の準備" class="section level4" number="3.2.7.14">
<h4><span class="header-section-number">3.2.7.14</span> 世界地図の準備</h4>
<p>地図で、国の income level をみてみましょう。</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="first-example.html#cb32-1" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb32-2"><a href="first-example.html#cb32-2" tabindex="-1"></a>gdp_short <span class="ot">&lt;-</span> df_gdp <span class="sc">|&gt;</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2021</span>, region <span class="sc">!=</span> <span class="st">&quot;Aggregates&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="first-example.html#cb32-3" tabindex="-1"></a>  <span class="fu">select</span>(iso2c, gdp, income)</span>
<span id="cb32-4"><a href="first-example.html#cb32-4" tabindex="-1"></a>map_world <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">&#39;world&#39;</span>)</span>
<span id="cb32-5"><a href="first-example.html#cb32-5" tabindex="-1"></a>map_gdp <span class="ot">&lt;-</span> map_world <span class="sc">|&gt;</span> </span>
<span id="cb32-6"><a href="first-example.html#cb32-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">iso2c =</span> <span class="fu">iso.alpha</span>(region, <span class="at">n=</span><span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb32-7"><a href="first-example.html#cb32-7" tabindex="-1"></a>  <span class="fu">left_join</span>(gdp_short, <span class="at">by =</span> <span class="st">&quot;iso2c&quot;</span>) </span>
<span id="cb32-8"><a href="first-example.html#cb32-8" tabindex="-1"></a><span class="fu">head</span>(map_gdp)</span>
<span id="cb32-9"><a href="first-example.html#cb32-9" tabindex="-1"></a><span class="co">#&gt;        long      lat group order region subregion iso2c</span></span>
<span id="cb32-10"><a href="first-example.html#cb32-10" tabindex="-1"></a><span class="co">#&gt; 1 -69.89912 12.45200     1     1  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-11"><a href="first-example.html#cb32-11" tabindex="-1"></a><span class="co">#&gt; 2 -69.89571 12.42300     1     2  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-12"><a href="first-example.html#cb32-12" tabindex="-1"></a><span class="co">#&gt; 3 -69.94219 12.43853     1     3  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-13"><a href="first-example.html#cb32-13" tabindex="-1"></a><span class="co">#&gt; 4 -70.00415 12.50049     1     4  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-14"><a href="first-example.html#cb32-14" tabindex="-1"></a><span class="co">#&gt; 5 -70.06612 12.54697     1     5  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-15"><a href="first-example.html#cb32-15" tabindex="-1"></a><span class="co">#&gt; 6 -70.05088 12.59707     1     6  Aruba      &lt;NA&gt;    AW</span></span>
<span id="cb32-16"><a href="first-example.html#cb32-16" tabindex="-1"></a><span class="co">#&gt;          gdp      income</span></span>
<span id="cb32-17"><a href="first-example.html#cb32-17" tabindex="-1"></a><span class="co">#&gt; 1 3126019399 High income</span></span>
<span id="cb32-18"><a href="first-example.html#cb32-18" tabindex="-1"></a><span class="co">#&gt; 2 3126019399 High income</span></span>
<span id="cb32-19"><a href="first-example.html#cb32-19" tabindex="-1"></a><span class="co">#&gt; 3 3126019399 High income</span></span>
<span id="cb32-20"><a href="first-example.html#cb32-20" tabindex="-1"></a><span class="co">#&gt; 4 3126019399 High income</span></span>
<span id="cb32-21"><a href="first-example.html#cb32-21" tabindex="-1"></a><span class="co">#&gt; 5 3126019399 High income</span></span>
<span id="cb32-22"><a href="first-example.html#cb32-22" tabindex="-1"></a><span class="co">#&gt; 6 3126019399 High income</span></span></code></pre></div>
</div>
<div id="fig-12.-income-level-による色分け地図" class="section level4" number="3.2.7.15">
<h4><span class="header-section-number">3.2.7.15</span> Fig 12. Income Level による色分け地図</h4>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="first-example.html#cb33-1" tabindex="-1"></a>map_gdp <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">income_level =</span> <span class="fu">factor</span>(income, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;High income&quot;</span>, <span class="st">&quot;Upper middle income&quot;</span>, <span class="st">&quot;Lower middle income&quot;</span>, <span class="st">&quot;Low income&quot;</span>, <span class="st">&quot;Not classified&quot;</span>, <span class="cn">NA</span>))) <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="first-example.html#cb33-2" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb33-3"><a href="first-example.html#cb33-3" tabindex="-1"></a>  <span class="fu">geom_map</span>(<span class="fu">aes</span>(long, lat, <span class="at">map_id =</span> region, <span class="at">fill =</span> income_level), <span class="at">map =</span> map_world, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">0.1</span>) </span>
<span id="cb33-4"><a href="first-example.html#cb33-4" tabindex="-1"></a><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2</span></span>
<span id="cb33-5"><a href="first-example.html#cb33-5" tabindex="-1"></a><span class="co">#&gt; 3.4.0.</span></span>
<span id="cb33-6"><a href="first-example.html#cb33-6" tabindex="-1"></a><span class="co">#&gt; ℹ Please use `linewidth` instead.</span></span>
<span id="cb33-7"><a href="first-example.html#cb33-7" tabindex="-1"></a><span class="co">#&gt; This warning is displayed once every 8 hours.</span></span>
<span id="cb33-8"><a href="first-example.html#cb33-8" tabindex="-1"></a><span class="co">#&gt; Call `lifecycle::last_lifecycle_warnings()` to see where</span></span>
<span id="cb33-9"><a href="first-example.html#cb33-9" tabindex="-1"></a><span class="co">#&gt; this warning was generated.</span></span>
<span id="cb33-10"><a href="first-example.html#cb33-10" tabindex="-1"></a><span class="co">#&gt; Warning in geom_map(aes(long, lat, map_id = region, fill =</span></span>
<span id="cb33-11"><a href="first-example.html#cb33-11" tabindex="-1"></a><span class="co">#&gt; income_level), : Ignoring unknown aesthetics: x and y</span></span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
<div id="fig-13.-gdp-による色分け地図" class="section level4" number="3.2.7.16">
<h4><span class="header-section-number">3.2.7.16</span> Fig 13. GDP による色分け地図</h4>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="first-example.html#cb34-1" tabindex="-1"></a>map_gdp <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="first-example.html#cb34-2" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb34-3"><a href="first-example.html#cb34-3" tabindex="-1"></a>  <span class="fu">geom_map</span>(<span class="fu">aes</span>(<span class="at">x=</span>long, <span class="at">y=</span>lat, <span class="at">map_id =</span> region, <span class="at">fill =</span> gdp), <span class="at">map =</span> map_world, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">0.1</span>) </span>
<span id="cb34-4"><a href="first-example.html#cb34-4" tabindex="-1"></a><span class="co">#&gt; Warning in geom_map(aes(x = long, y = lat, map_id = region,</span></span>
<span id="cb34-5"><a href="first-example.html#cb34-5" tabindex="-1"></a><span class="co">#&gt; fill = gdp), : Ignoring unknown aesthetics: x and y</span></span></code></pre></div>
<p><img src="03-first-example_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="練習" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> 練習</h2>
<ol style="list-style-type: decimal">
<li>それぞれのグラフから、わかったこと、問いなどを列挙してみましょう。</li>
<li>Fig 1 の　Japan の部分を他の国や、グループ（World など）に変えてみてください。何がわかりますか。</li>
<li>Fig 3 の iso2c で選択する、国を変更してください。何がわかりますか。</li>
<li>Fig 4 または Fig 5 の iso2c の部分を他の国に変更してください。何がわかりますか。</li>
<li>Fig 5 または Fig 6 の、区間の幅や、数を 変更してみてください。何がわかりますか。</li>
<li>Fig 7, Fig 8, Fig 9 の年を変更してみてください。何がわかりますか。</li>
<li>Fig 12, Fig 13 の年を変更してみてください。何がわかりますか。</li>
</ol>
</div>
<div id="プロジェクト" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> プロジェクト</h2>
<p>他のデータで、同様のことをしてみましょう。</p>
<ol style="list-style-type: decimal">
<li>最初に、<code>gdp = "NY.GDP.MKTP.CD"</code> としましたが、GNI per capita, Atlas method (current US$): NY.GNP.PCAP.CD に変えてみましょう。</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="first-example.html#cb35-1" tabindex="-1"></a>df_gnppcap <span class="ot">&lt;-</span> <span class="fu">WDI</span>(<span class="at">country =</span> <span class="st">&quot;all&quot;</span>, </span>
<span id="cb35-2"><a href="first-example.html#cb35-2" tabindex="-1"></a>              <span class="at">indicator =</span> <span class="fu">c</span>(<span class="at">gnppcap =</span> <span class="st">&quot;NY.GNP.PCAP.CD&quot;</span>), </span>
<span id="cb35-3"><a href="first-example.html#cb35-3" tabindex="-1"></a>              <span class="at">extra =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><a href="https://datatopics.worldbank.org/world-development-indicators/">World Development Indicators</a> のサイトの下にある、Data Themes（テーマ）から自分が調べたいテーマを選び、そのテーマから、データコードを取得して、同様の分析をしてみてください。データがあまりない場合もありますので、ある程度データが多いものを選択することをお勧めします。</li>
</ol>
</div>
<div id="まとめ" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> まとめ</h2>
<p>今回は、経済指標である、GDP を使いました。データサイエンスについて少しずつ、学んでいきます。</p>
<p>コードの説明は、簡単にしかしていませんから、理解するのは難しいと思いますが、いくつかのことは、ご理解いただけると思います。</p>
<ul>
<li><p>それほど、長くはない、コードで、データを見ていく。R は対話型（interactive）のプログラミング言語と言われています。</p></li>
<li><p>コードに続けて、結果が表示されるので、コードと出力の対応が見やすい。また、コメントや説明も併記することができる。これは、RMarkdown という形式の中で、コードを書いていることによるものです。RMarkdown は、再現性（reproducibility）と、プログラム・コードの内容をコンピュータにわかるようにでなく、人間にもわかるように記述する（Literate Programming）を実現しています。</p></li>
<li><p>視覚化（Visualization）によって、わかることが色々とある。また、視覚化の方法もたくさんあり、いろいろな見方をすることで、データについての理解が深まっていく。</p></li>
<li><p>視覚化を通して、データを理解すること、問いを持ち、他の視覚化などを用いて、さらに、理解を深めることがたいせつ。</p></li>
<li><p>理解したことを元にして、さらに、そのデータ、または、他のデータを使って、新たな発見をしていく。</p></li>
</ul>
<p>統計的な指標も用いますが、それらによって、新しい知識を生み出すとも表現しますが、そのような営み全体が、データサイエンスの核をなす部分だと思います。</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="5">
<li id="fn5"><p>GDP（Gross Domestic Product）とは、ある国のある期間（通常は1年）における、その国で生産されたすべての最終財・サービスの市場価値の総額を指します。これは国内総生産とも呼ばれます。GDPは、その国の経済力や活力を測る指標の1つとして広く用いられています。WDIのGDP (Current USD)は、各国のGDPを米ドルで表したものであり、通貨の価値が異なっても比較可能な形で国際比較ができます。ただし、GDPはあくまで市場価格を基準としているため、非市場活動や自然災害などの影響を受ける場合がある点に注意が必要です。<a href="first-example.html#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>データサイエンスをはじめましょう<br />
- Data Science for All -</strong>" was written by 鈴木寛（Hirosi Suzuki）. It was last built on 2023-09-05.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
