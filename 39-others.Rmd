# その他のデータベース {#others}

## 国際機関

### 国際労働機関（International Labor Organization (ILO) ）

ILO サイト：<https://www.ilo.org/global/lang–en/index.htm>

国際労働機関（ILO）は働く権利を促進し、ディーセントな雇用の機会を奨励し、社会的保護を高め、労働関連の問題に関する対話を強化する。世界の永続する平和は、社会正義を基礎としてのみ確立されるとの前提のもとに1919年に設立され、1946年に国連の最初の専門機関となった。すべての女性と男性にディーセント・ワーク（働きがいのある人間らしい仕事）の実現を目指し、労働基準を設定し、政策を発展させ、プログラムを策定する。その「国際労働基準」は、各国の担当当局が労働政策を実施する際の指針となる。また、政府がこれらの政策を効果的に実施できるように幅広い技術協力を行い、かつそうした努力を前進させるために必要な研修、教育、調査研究を行う。ILOは国際機関の中でもユニークな存在で、政策の作成にあたっては労働者と使用者の代表が政府代表と平等の発言権を持つ。ILOは三つの機関から構成される。

国際労働会議（総会）－ 毎年開かれ、政府、使用者、労働者の3者代表が参加する。国際労働基準を設定するとともに、全世界にとって重要な社会問題や労働問題を討議するためのフォーラムとなる。 管理理事会 － ILOの活動に指示を与え、事業計画と予算を作成し、ILO基準が順守されていないとの苦情を審議する。 国際労働事務局 － ILOの恒久事務局である。 さらに、イタリアのトリノにある「国際研修センター」が研究と研修の機会を提供している。ILOは重要な労働政策の分野において最新の研究を刊行し、また労働統計に関しては世界でも主要な提供者である。

（[国際連合広報機関より](https://www.unic.or.jp/info/un/unsystem/specialized_agencies/ilo/)）

#### ILOSTAT

-   Website: <https://ilostat.ilo.org/data/>

    -   検索をすると、ILOSTAT Explorer が立ち上がります。

    -   例：**Average monthly earnings of employees by sex and economic activity \-- Annual - [ILOSTAT Explorer](https://www.ilo.org/shinyapps/bulkexplorer9/?lang=en&id=EAR_4MTH_SEX_ECO_CUR_NB_A)**

-   R パッケージ　Rilostat

    -   CRAN パッケージサイト：<https://cran.r-project.org/web/packages/Rilostat/index.html>

        -   Rilostat: ILO Open Data via Ilostat Bulk Download Facility or SDMX Web Service

        -   マニュアル [Manual](https://cran.r-project.org/web/packages/Rilostat/Rilostat.pdf)

    -   活用例 Vignettes: <https://ilostat.github.io/Rilostat/articles/Rilostat.html>

        -   基本的な機能 Essential Functionality

#### 例：実質賃金（EAR_4MTH_SEX_ECO_CUR_NB_A）

```{r eval = FALSE}
install.packages("Rilostat")　# 最初に一度だけインストール
```

```{r}
library(tidyverse)
library(Rilostat)
```

検索を wage でしてみるがどうも、十分現れない。

```{r}
get_ilostat_toc(search = 'wage')
```

earnings で検索すると、現れる。検索の仕方は検討する必要がある。

```{r}
get_ilostat_toc(search = 'earnings')
```

id がわかっていればその一部を入れて検索も可能。

```{r}
get_ilostat_toc(search = 'EAR_4MTH')
```

データをダウンロード

```{r eval = FALSE}
df_ilo_wages <- get_ilostat("EAR_4MTH_SEX_ECO_CUR_NB_A", cache = FALSE)
```

```{r echo=FALSE, eval=FALSE}
write_csv(df_ilo_wages, "./data/df_ilo_wages.csv")
```

```{r echo=FALSE}
df_ilo_wages <- read_csv("./data/df_ilo_wages.csv")
```

みてみる

```{r}
df_ilo_wages
```

それぞれ、どのような値があるか、カテゴリカルな列のみみてみる。

```{r}
df_ilo_wages |> filter(ref_area == "JPN", time == 2020) |> 
  select(1:6) |> lapply(unique)
```

classif1 と classif2 の意味を確認する必要があるので、辞書機能を使って、みてみる。

```{r}
get_ilostat_dic("classif1") |> filter(grepl("ECO", classif1))
```

```{r}
get_ilostat_dic("classif2") |> filter(grepl("CUR", classif2))
```

一応、ECO_AGGREGATE_TOTAL と、CUR_TYPE_PPP を指標にとり、グラフを書いてみる。year が 文字列になっている部分のみ修正。

```{r}
df_ilo_wages |> filter(classif1 == "ECO_AGGREGATE_TOTAL", classif2 == "CUR_TYPE_PPP", ref_area == "JPN") |> mutate(time = as.numeric(time)) |> 
  ggplot(aes(time, obs_value, color = sex)) + geom_line()
```

他の国の状況もみてみる。

```{r}
df_ilo_wages |> filter(ref_area %in% c("JPN", "GBR", "DEU", "USA", "CHN")) |> 
  filter(sex == "SEX_T") |> 
  filter(classif1 == "ECO_AGGREGATE_TOTAL", classif2 == "CUR_TYPE_PPP") |> 
  mutate(time = as.numeric(time)) |> 
  ggplot(aes(time, obs_value, color = ref_area)) + geom_line()
```

#### データ取得時のオプション

Import Data with an Option

type = "both" とすると、指標の内容も書かれていて、*get_ilostat_dic()* を使わなくて良いが、余分なものが多くて見にくい面もある。

```{r cache = TRUE}
df_ilo_wages_both <- get_ilostat("EAR_4MTH_SEX_ECO_CUR_NB_A", type = "both", cache = FALSE)
df_ilo_wages_both
```

```{r}
colnames(df_ilo_wages_both)
```

```{r}
colnames(df_ilo_wages)
```

#### 例：所得の労働分配率

labor share of income

```{r}
get_ilostat_toc(search = 'income')
```

```{r}
id_income <- get_ilostat_toc(search = 'income') |> pull(id) |> unique()
id_income
```

SDG_1041_NOC_RT_A: SDG indicator 10.4.1 - Labour income share as a percent of GDP (%)

```{r cache=TRUE}
df_sdg_lis <- get_ilostat("SDG_1041_NOC_RT_A", cache = FALSE) |> 
  mutate(time = as.numeric(time))
df_sdg_lis
```

LAP_2GDP_NOC_RT_A: Labour income share as a percent of GDP \-- ILO modelled estimates, Nov. 2021 (%)

```{r cache=TRUE}
df_income_dist <- get_ilostat("LAP_2GDP_NOC_RT_A", cache = FALSE) |> 
  mutate(time = as.numeric(time))
df_income_dist
```

LAP_2LID_QTL_RT_A: Labour income distribution -- ILO modelled estimates, Nov. 2021 (%)

```{r cache=TRUE}
df_labor_income_share <- get_ilostat("LAP_2LID_QTL_RT_A", cache = FALSE) |> 
  mutate(time = as.numeric(time))
df_labor_income_share
```

LAP_2FTM_NOC_RT_A: Gender income gap, ratio of women's to men's labour income -- ILO modelled estimates, Nov. 202

```{r cache=TRUE}
df_gender_income_gap <- get_ilostat("LAP_2GDP_NOC_RT_A", cache = FALSE) |> 
  mutate(time = as.numeric(time))
df_gender_income_gap
```

4つの指標一度に取ることも可能。

```{r cache=TRUE}
df_income <- get_ilostat(c("SDG_1041_NOC_RT_A", "LAP_2GDP_NOC_RT_A", "LAP_2LID_QTL_RT_A", "LAP_2FTM_NOC_RT_A"), cache = FALSE) |> 
  mutate(time = as.numeric(time))
df_income
```

```{r}
df_income$indicator |> unique()
```

```{r}
id_income
```

```{r}
df_income |> filter(ref_area == "JPN", time == 2020) |> select(2,3,4,7) |>
  lapply(unique)
```

```{r}
get_ilostat_dic("classif1") |> filter(grepl("QTL_DECILE", classif1))
```

```{r}
df_income |> filter(ref_area == "JPN", indicator == "SDG_1041_NOC_RT") |>
  ggplot(aes(time, obs_value)) + geom_line()
```

```{r}
df_income |> filter(ref_area == "JPN", indicator == "LAP_2GDP_NOC_RT") |>
  ggplot(aes(time, obs_value)) + geom_line()
```

2つの指標とも同じようです。

```{r}
df_income |> filter(ref_area == "JPN", indicator != "LAP_2LID_QTL_RT") |>
  ggplot(aes(time, obs_value, col = indicator)) + geom_line()
```

```{r}
df_income |> filter(ref_area == "JPN", indicator == "LAP_2LID_QTL_RT") |>
  ggplot(aes(time, obs_value, col = classif1)) + geom_line()
```

```{r}
df_income |> filter(ref_area == "JPN", indicator == "LAP_2LID_QTL_RT") |>
  ggplot(aes(time, obs_value, fill = classif1)) + geom_area(col = "black", linewidth = 0.2)
```

```{r}
df_income |> filter(ref_area == "JPN", indicator == "LAP_2LID_QTL_RT") |>
  ggplot(aes(time, obs_value, fill = fct_rev(classif1))) + geom_area(col = "black", linewidth = 0.2)
```

*他の機能も確認する必要あり。*

### 国連児童基金（UNICEF: United Nations Children's Fund）

データサイト：<https://data.unicef.org>

### 国際通貨基金（IMF: International Monetary Fund）

ホームページ：<https://www.imf.org/en/home>

日本語ホームページ：<https://www.imf.org/ja/Home>

IMF データ：<https://www.imf.org/en/Data>、

データサイト：<https://data.imf.org/?sk=388dfa60-1d26-4ade-b505-a05a558d9a42>

国際通貨基金（IMF）は、生産性や雇用創出、健全な経済に必要不可欠となる金融の安定と国際通貨協力を促す経済政策を支援することで、全ての加盟国190か国が持続的な成長と繁栄を実現するための取り組みを行っています。 IMFは、加盟国によって運営され、加盟国政府に対して責任を負っています

業務

IMFは3つの重要な任務があります。国際通貨協力の強化、貿易の拡大・経済成長の促進、繁栄を損なう政策の抑制、の3つです。任務を達成するため、IMF加盟国は互いに、また他の国際機関と協力して働いています。

#### R Package

imfr: <https://github.com/christophergandrud/imfr>

2022年までは、CRAN に登録されたパッケージでした。詳細は、上の GitHub ページを参照してください。

## 世界の国の政府機関

### 米国：DATA.GOV

The Home of the U.S. Government's Open Data: <https://data.gov/>

### 米国国勢調査：United States Census Bureau

Explore Census Data: <https://data.census.gov>

### 中国：National Bureaus of Statistics of China

### <http://www.stats.gov.cn/english/>

### 英国：Find Open Data: data.gov.uk

<https://www.data.gov.uk>

### 英国データサービス：UK Data Service

<https://ukdataservice.ac.uk>

### 欧州連合（EU）: The official portal for European data

<https://data.europa.eu/en>

### 韓国：Statistics Korea

<https://kostat.go.kr/anse/>

## ClinicalTrials.gov

ClinicalTrials.gov is a place to learn about clinical studies from around the world.

<https://clinicaltrials.gov/>

## Harvard Dataverse

<https://dataverse.harvard.edu/>

## Kagle

-   Kagle Home: <https://www.kaggle.com>

-   Kagle Datasets: <https://www.kaggle.com/datasets>

## Gapminder

### パッケージ Gapminder を使って

-   gapminder: Data from Gapminder: <https://cran.r-project.org/web/packages/gapminder/index.html>

-   Gapminder Data: <https://www.gapminder.org/data/>

```{r packages, message=FALSE}
library(tidyverse)
library(gapminder)
```

すでに、`dplyr` をつかった変形で確認しましたが、簡単に、データを見ておきましょう。

```{r cache=TRUE}
df_gm <- gapminder
df_gm %>% slice(1:10)
```

```{r}
glimpse(df_gm)
```

```{r}
summary(df_gm)
```

```{r}
unique(df_gm$year)
```

##### Box Plot

```{r}
ggplot(df_gm, aes(x = as_factor(year), y = lifeExp)) + geom_boxplot()
```

`fill` や `color` を追加してみましょう。

```{r}
df_gm %>% filter(year %in% c(1952, 1987, 2007)) %>%
  ggplot(aes(x=as_factor(year), y = lifeExp, fill = continent)) +
  geom_boxplot()
```

折れ線グラフの例です。

```{r}
df_lifeExp <- df_gm %>% 
  group_by(continent, year) %>% 
  summarize(mean_lifeExp = mean(lifeExp), median_lifeExp = median(lifeExp), max_lifeExp = max(lifeExp), min_lifeExp = min(lifeExp), .groups = "keep")
```

```{r}
df_lifeExp %>% ggplot(aes(x = year, y = mean_lifeExp, color = continent)) +
  geom_line()
```

```{r}
df_lifeExp %>% ggplot(aes(x = year, y = mean_lifeExp, color = continent, linetype = continent)) +
  geom_line()
```

```{r}
df_lifeExp %>% ggplot() +
  geom_line(aes(x = year, y = mean_lifeExp, color = continent)) + 
  geom_line(aes(x = year, y = median_lifeExp, linetype = continent))
```

### Original Data? WDI?

```{r}
df_gm %>% slice(1:10)
```

さて、このデータは、どのようにして集めているのでしょうか。WDI のデータと同じでしょうか。
